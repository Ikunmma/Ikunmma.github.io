
<!DOCTYPE html><html lang="zh-CN">

<head>
  <meta charset="utf-8">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.29.1" theme-name="Stellar" theme-version="1.29.1">
  
  <meta name="generator" content="Hexo 7.3.0">
  <meta http-equiv='x-dns-prefetch-control' content='on' />
  
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000">
  <meta name="theme-color" content="#f9fafb">
  
  <title>PHP - 无言の小屋</title>

  
    <meta name="description" content="PHP(超文本预处理器，服务器端脚本语言)  PHP基础  PHP功能  PHP 可以生成动态页面内容 PHP 可以创建、打开、读取、写入、关闭服务器上的文件 PHP 可以收集表单数据 PHP 可以发送和接收 cookies PHP 可以添加、删除、修改您的数据库中的数据 PHP 可以限制用户访问您的网站上的一些页面 PHP 可以加密数据  通过 PHP，不再限于输出 HTML，还可以输出图像、">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP">
<meta property="og:url" content="https://ikunmma.github.io/2025/07/09/php/index.html">
<meta property="og:site_name" content="无言の小屋">
<meta property="og:description" content="PHP(超文本预处理器，服务器端脚本语言)  PHP基础  PHP功能  PHP 可以生成动态页面内容 PHP 可以创建、打开、读取、写入、关闭服务器上的文件 PHP 可以收集表单数据 PHP 可以发送和接收 cookies PHP 可以添加、删除、修改您的数据库中的数据 PHP 可以限制用户访问您的网站上的一些页面 PHP 可以加密数据  通过 PHP，不再限于输出 HTML，还可以输出图像、">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/zkk1233/Picture/main/20250124214612831.png">
<meta property="og:image" content="https://raw.githubusercontent.com/zkk1233/Picture/main/20250125083915517.png">
<meta property="article:published_time" content="2025-07-09T03:46:32.093Z">
<meta property="article:modified_time" content="2025-07-09T08:36:01.071Z">
<meta property="article:author" content="Hackun">
<meta property="article:tag" content="PHP">
<meta property="article:tag" content="OOP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/zkk1233/Picture/main/20250124214612831.png">
  
  
  
  <meta name="keywords" content="PHP,OOP">

  <!-- feed -->
  

  <link rel="stylesheet" href="/css/main.css?v=1.29.1">


  
    <link rel="shortcut icon" href="/img/hh.jpg">
  

  

  <link rel="stylesheet" href="https://at.alicdn.com/t/c/font_4970977_2kzuzq5jacv.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/footer.css"><link rel="stylesheet" href="/css/cursor.css">
</head>
<body>

<div class="l_body s:aa content tech" id="start" layout="post" ><aside class="l_left"><div class="leftbar-container">


<header class="header"><div class="logo-wrap"><a class="avatar" href="/"><div class="bg" style="opacity:0;background-image:url(https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="https://raw.githubusercontent.com/zkk1233/Picture/main/20250715114957806.jpg" onerror="javascript:this.classList.add('error');this.src='https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">无言の小屋</div><div class="sub normal cap"><small>在谷底也要开花,在海底也要望月</small></div><div class="sub hover cap" style="opacity:0"> Designed by hackun</div></a></div></header>

<div class="nav-area">
<div class="search-wrapper" id="search-wrapper"><form class="search-form"><a class="search-button" onclick="document.getElementById(&quot;search-input&quot;).focus();"><svg t="1705074644177" viewBox="0 0 1025 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1560" width="200" height="200"><path d="M1008.839137 935.96571L792.364903 719.491476a56.783488 56.783488 0 0 0-80.152866 0 358.53545 358.53545 0 1 1 100.857314-335.166073 362.840335 362.840335 0 0 1-3.689902 170.145468 51.248635 51.248635 0 1 0 99.217358 26.444296 462.057693 462.057693 0 1 0-158.255785 242.303546l185.930047 185.725053a51.248635 51.248635 0 0 0 72.568068 0 51.248635 51.248635 0 0 0 0-72.978056z" p-id="1561"></path><path d="M616.479587 615.969233a50.428657 50.428657 0 0 0-61.498362-5.534852 174.655348 174.655348 0 0 1-177.525271 3.484907 49.403684 49.403684 0 0 0-58.833433 6.76482l-3.074918 2.869923a49.403684 49.403684 0 0 0 8.609771 78.10292 277.767601 277.767601 0 0 0 286.992355-5.739847 49.403684 49.403684 0 0 0 8.404776-76.667958z" p-id="1562"></path></svg></a><input type="text" class="search-input" id="search-input" placeholder="站内搜索"></form><div id="search-result"></div><div class="search-no-result">没有找到内容！</div></div>


<nav class="menu dis-select"><a class="nav-item active" title="文档" href="/" style="color:#1BCDFC"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M5.879 2.879C5 3.757 5 5.172 5 8v8c0 2.828 0 4.243.879 5.121C6.757 22 8.172 22 11 22h2c2.828 0 4.243 0 5.121-.879C19 20.243 19 18.828 19 16V8c0-2.828 0-4.243-.879-5.121C17.243 2 15.828 2 13 2h-2c-2.828 0-4.243 0-5.121.879M8.25 17a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 12.25a.75.75 0 0 0 0 1.5h6a.75.75 0 0 0 0-1.5zM8.25 9A.75.75 0 0 1 9 8.25h6a.75.75 0 0 1 0 1.5H9A.75.75 0 0 1 8.25 9" clip-rule="evenodd"/><path fill="currentColor" d="M5.235 4.058C5 4.941 5 6.177 5 8v8c0 1.823 0 3.058.235 3.942L5 19.924c-.975-.096-1.631-.313-2.121-.803C2 18.243 2 16.828 2 14v-4c0-2.829 0-4.243.879-5.121c.49-.49 1.146-.707 2.121-.803zm13.53 15.884C19 19.058 19 17.822 19 16V8c0-1.823 0-3.059-.235-3.942l.235.018c.975.096 1.631.313 2.121.803C22 5.757 22 7.17 22 9.999v4c0 2.83 0 4.243-.879 5.122c-.49.49-1.146.707-2.121.803z" opacity=".5"/></svg></a><a class="nav-item" title="wiki" href="/wiki/" style="color:#3DC550"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M14.25 4.48v3.057c0 .111 0 .27.02.406a.936.936 0 0 0 .445.683a.96.96 0 0 0 .783.072c.13-.04.272-.108.378-.159L17 8.005l1.124.534c.106.05.248.119.378.16a.958.958 0 0 0 .783-.073a.936.936 0 0 0 .444-.683c.021-.136.021-.295.021-.406V3.031c.113-.005.224-.01.332-.013C21.154 2.98 22 3.86 22 4.933v11.21c0 1.112-.906 2.01-2.015 2.08c-.97.06-2.108.179-2.985.41c-1.082.286-1.99 1.068-3.373 1.436c-.626.167-1.324.257-1.627.323V5.174c.32-.079 1.382-.203 1.674-.371c.184-.107.377-.216.576-.323m5.478 8.338a.75.75 0 0 1-.546.91l-4 1a.75.75 0 0 1-.364-1.456l4-1a.75.75 0 0 1 .91.546" clip-rule="evenodd"/><path fill="currentColor" d="M18.25 3.151c-.62.073-1.23.18-1.75.336a8.2 8.2 0 0 0-.75.27v3.182l.75-.356l.008-.005a1.13 1.13 0 0 1 .492-.13c.047 0 .094.004.138.01c.175.029.315.1.354.12l.009.005l.749.356V3.647z"/><path fill="currentColor" d="M12 5.214c-.334-.064-1.057-.161-1.718-.339C8.938 4.515 8.05 3.765 7 3.487c-.887-.234-2.041-.352-3.018-.412C2.886 3.007 2 3.9 2 4.998v11.146c0 1.11.906 2.01 2.015 2.079c.97.06 2.108.179 2.985.41c.486.129 1.216.431 1.873.726c1.005.451 2.052.797 3.127 1.034z" opacity=".5"/><path fill="currentColor" d="M4.273 12.818a.75.75 0 0 1 .91-.545l4 1a.75.75 0 1 1-.365 1.455l-4-1a.75.75 0 0 1-.545-.91m.909-4.545a.75.75 0 1 0-.364 1.455l4 1a.75.75 0 0 0 .364-1.455z"/></svg></a><a class="nav-item" title="目标" href="/explore/" style="color:#FA6400"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M20 12a8 8 0 1 1-16 0a8 8 0 0 1 16 0" opacity=".5"/><path fill="currentColor" d="M17.712 5.453c1.047-.193 2.006-.259 2.797-.152c.77.103 1.536.393 1.956 1.064c.446.714.312 1.542-.012 2.258c-.33.728-.918 1.499-1.672 2.268c-1.516 1.547-3.836 3.226-6.597 4.697c-2.763 1.472-5.495 2.484-7.694 2.92c-1.095.217-2.098.299-2.923.201c-.8-.095-1.6-.383-2.032-1.075c-.47-.752-.296-1.63.07-2.379c.375-.768 1.032-1.586 1.872-2.403L4 12.416c0 .219.083.71.168 1.146c.045.23.09.444.123.596c-.652.666-1.098 1.263-1.339 1.756c-.277.567-.208.825-.145.925c.072.116.305.305.937.38c.609.073 1.44.018 2.455-.183c2.02-.4 4.613-1.351 7.28-2.772c2.667-1.42 4.85-3.015 6.23-4.423c.694-.707 1.15-1.334 1.377-1.836c.233-.515.167-.75.107-.844c-.07-.112-.289-.294-.883-.374c-.542-.072-1.272-.041-2.163.112L16.87 5.656c.338-.101.658-.17.842-.203"/></svg></a><a class="nav-item" title="友链" href="/friends/" style="color:#F44336"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="m13.629 20.472l-.542.916c-.483.816-1.69.816-2.174 0l-.542-.916c-.42-.71-.63-1.066-.968-1.262c-.338-.197-.763-.204-1.613-.219c-1.256-.021-2.043-.098-2.703-.372a5 5 0 0 1-2.706-2.706C2 14.995 2 13.83 2 11.5v-1c0-3.273 0-4.91.737-6.112a5 5 0 0 1 1.65-1.651C5.59 2 7.228 2 10.5 2h3c3.273 0 4.91 0 6.113.737a5 5 0 0 1 1.65 1.65C22 5.59 22 7.228 22 10.5v1c0 2.33 0 3.495-.38 4.413a5 5 0 0 1-2.707 2.706c-.66.274-1.447.35-2.703.372c-.85.015-1.275.022-1.613.219c-.338.196-.548.551-.968 1.262" opacity=".5"/><path fill="currentColor" d="M10.99 14.308c-1.327-.978-3.49-2.84-3.49-4.593c0-2.677 2.475-3.677 4.5-1.609c2.025-2.068 4.5-1.068 4.5 1.609c0 1.752-2.163 3.615-3.49 4.593c-.454.335-.681.502-1.01.502c-.329 0-.556-.167-1.01-.502"/></svg></a></nav>
</div>
<div class="widgets">


<widget class="widget-wrapper post-list"><div class="widget-header dis-select"><span class="name">最近更新</span></div><div class="widget-body fs14"><a class="item title" href="/2025/08/29/%E4%BB%8EXML%E5%88%B0XXE/"><span class="title">从XML到XXE</span></a><a class="item title" href="/2025/08/24/SQL%E9%A2%84%E7%BC%96%E8%AF%91/"><span class="title">预编译真的能完美防御SQL注入吗？？？</span></a><a class="item title" href="/2025/07/09/hello-world/"><span class="title">Hello World</span></a><a class="item title" href="/2025/08/12/Github-Pages%E7%BB%91%E5%AE%9A%E5%9F%9F%E5%90%8D/"><span class="title">Github Pages绑定域名</span></a><a class="item title" href="/2025/08/12/%E8%A7%A3%E5%86%B3Ubuntu%E4%B8%8EWindows%E9%97%B4%E6%97%A0%E6%B3%95%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E9%97%AE%E9%A2%98/"><span class="title">解决Ubuntu与Windows间无法复制粘贴问题</span></a><a class="item title" href="/2025/08/08/MySQL%20UDF%E6%8F%90%E6%9D%83/"><span class="title">MySQL UDF提权</span></a><a class="item title" href="/2025/08/06/MySQL-UDF%E6%8F%90%E6%9D%8316%E8%BF%9B%E5%88%B6%E6%9F%A5%E8%AF%A2/"><span class="title">MySQL UDF提权16进制查询</span></a><a class="item title" href="/2025/07/29/%E8%A7%A3%E5%86%B3Windows%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8%E9%97%AE%E9%A2%98/"><span class="title">解决Windows端口占用问题</span></a><a class="item title" href="/2025/07/28/xss-labs/"><span class="title">xss-labs</span></a><a class="item title" href="/2025/07/28/sqli-labs/"><span class="title">sqli-labs</span></a></div></widget>
</div>

</div></aside><div class="l_main" id="main">





<div class="article banner top">
  <div class="content">
    <div class="top bread-nav footnote"><div class="left"><div class="flex-row" id="breadcrumb"><a class="cap breadcrumb" href="/">主页</a>
<span class="sep"></span><a class="cap breadcrumb" href="/">文章</a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/PHP/">PHP</a> <span class="sep"></span> <a class="cap breadcrumb-link" href="/categories/PHP/%E7%BC%96%E7%A8%8B/">编程</a></div>
<div class="flex-row" id="post-meta"><span class="text created">发布于：<time datetime="2025-07-09T03:46:32.093Z">2025-07-09</time></span><span class="sep updated"></span><span class="text updated">更新于：<time datetime="2025-07-09T08:36:01.071Z">2025-07-09</time></span></div></div></div>
    
    <div class="bottom only-title">
      
      <div class="text-area">
        <h1 class="text title"><span>PHP</span></h1>
        
      </div>
    </div>
    
  </div>
  </div><article class="md-text content"><h1 id="php超文本预处理器服务器端脚本语言"><a class="markdownIt-Anchor" href="#php超文本预处理器服务器端脚本语言"></a> PHP(超文本预处理器，服务器端脚本语言)</h1>
<h2 id="php基础"><a class="markdownIt-Anchor" href="#php基础"></a> PHP基础</h2>
<h3 id="php功能"><a class="markdownIt-Anchor" href="#php功能"></a> PHP功能</h3>
<ul>
<li>PHP 可以生成<strong>动态页面内容</strong></li>
<li>PHP 可以创建、打开、读取、写入、关闭服务器上的文件</li>
<li>PHP 可以收集表单数据</li>
<li>PHP 可以<strong>发送和接收 cookies</strong></li>
<li>PHP 可以<strong>添加、删除、修改您的数据库中的数据</strong></li>
<li>PHP 可以限制用户访问您的网站上的一些页面</li>
<li>PHP 可以加密数据</li>
</ul>
<p>通过 PHP，不再限于输出 HTML，还可以输出图像、PDF 文件，甚至 Flash 电影，还可以输出任意的文本，比如 XHTML 和 XML</p>
<h3 id="php语法"><a class="markdownIt-Anchor" href="#php语法"></a> PHP语法</h3>
<p>PHP 脚本可以放在文档中的任何位置。PHP 脚本以 <strong><?php** 开始，以 **?></strong> 结束，每个代码行都必须以分号结束，</p>
<p>有两种在浏览器输出文本的基础指令：<strong>echo</strong> 和 <strong>print</strong>，有两种注释方法：<strong>//</strong> 和 <em><em>/</em> <em>/</em></em></p>
<h3 id="php变量"><a class="markdownIt-Anchor" href="#php变量"></a> PHP变量</h3>
<p>变量以 $ 符号开始，后面跟着变量的名称，变量名只能包含字母、数字以及下划线（A-z、0-9 和 _ ），必须以字母或者下划线字符开始</p>
<p>PHP 没有声明变量的命令，在第一次赋值时就被创建</p>
<h4 id="php-global-关键字"><a class="markdownIt-Anchor" href="#php-global-关键字"></a> PHP global 关键字</h4>
<p>global 关键字用于函数内访问全局变量，在函数内调用函数外定义的全局变量，我们需要在函数中的变量前加上 global 关键字</p>
<p>PHP 将所有全局变量存储在一个名为 $GLOBALS[<em>index</em>] 的数组中。 <em>index</em> 保存变量的名称。这个数组可以在函数内部访问，也可以直接用来更新全局变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">global $x,$y;  </span><br><span class="line">$y=$x+$y;</span><br><span class="line">//$GLOBALS[&#x27;y&#x27;]=$GLOBALS[&#x27;x&#x27;]+$GLOBALS[&#x27;y&#x27;];</span><br></pre></td></tr></table></figure>
<h4 id="static-作用域"><a class="markdownIt-Anchor" href="#static-作用域"></a> Static 作用域</h4>
<p>在第一次声明变量时使用 <strong>static</strong> 关键字，可以使得当一个函数完成时，某个局部变量不会被删除</p>
<p>即每次调用函数时，该变量将会保留着函数前一次被调用时的值。</p>
<p>注：该变量仍然是函数的局部变量</p>
<h3 id="php-echo-和-print-语句"><a class="markdownIt-Anchor" href="#php-echo-和-print-语句"></a> PHP echo 和 print 语句</h3>
<h4 id="echo于print区别"><a class="markdownIt-Anchor" href="#echo于print区别"></a> echo于print区别</h4>
<p>echo - 可以输出一个或多个字符串，且输出速度比print快</p>
<p>print - 只允许输出一个字符串，返回值总为 1</p>
<h4 id="echo语句"><a class="markdownIt-Anchor" href="#echo语句"></a> echo语句</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &quot;&lt;h2&gt;PHP 很有趣!&lt;/h2&gt;&quot;;</span><br><span class="line">echo &quot;Hello world!&lt;br&gt;&quot;;</span><br><span class="line">echo &quot;我要学 PHP!&lt;br&gt;&quot;;</span><br><span class="line">echo &quot;这是一个&quot;, &quot;字符串，&quot;, &quot;使用了&quot;, &quot;多个&quot;, &quot;参数。&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$txt1=&quot;学习 PHP&quot;;</span><br><span class="line">$txt2=&quot;RUNOOB.COM&quot;;</span><br><span class="line">$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);</span><br><span class="line"> </span><br><span class="line">echo $txt1;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo &quot;在 $txt2 学习 PHP &quot;;</span><br><span class="line">echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">echo &quot;我车的品牌是 &#123;$cars[0]&#125;&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="print语句"><a class="markdownIt-Anchor" href="#print语句"></a> print语句</h4>
<p>与上述例子基本一致，下例不适用print</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;这是一个&quot;, &quot;字符串，&quot;, &quot;使用了&quot;, &quot;多个&quot;, &quot;参数。&quot;;</span><br></pre></td></tr></table></figure>
<h3 id="php-eofheredoc"><a class="markdownIt-Anchor" href="#php-eofheredoc"></a> PHP EOF(heredoc)</h3>
<p><strong>PHP EOF</strong>(heredoc)是一种<strong>在命令行shell</strong>（如sh、csh、ksh、bash、PowerShell和zsh）和<strong>程序语言</strong>（像Perl、PHP、Python和Ruby）里<strong>定义一个字符串的方法</strong></p>
<p>以 <strong>&lt;&lt;&lt;EOF</strong> 开始标记开始，以 <strong>EOF</strong> 结束标记结束，<strong>结束标识必须顶格独自占一行(即必须从行首开始，前后不能衔接任何空白和字符)</strong>，且在结束标记末尾要有分号</p>
<p>开始标记和结束标记相同，比如常用大写的 <strong>EOT、EOD、EOF</strong> 来表示，但是不只限于那几个(也可以用：JSON、<strong>HTML</strong>等)，开始标记和结束标记不在正文中出现</p>
<p>开始标识带单引号则不解释内嵌的变量和转义符号</p>
<p>在 heredoc 中，变量不需要用连接符 <strong>.</strong> 或 <strong>,</strong> 来拼接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &lt;&lt;&lt;EOF</span><br><span class="line">        &lt;h1&gt;我的第一个标题&lt;/h1&gt;</span><br><span class="line">        &lt;p&gt;我的第一个段落。&lt;/p&gt;</span><br><span class="line">EOF;</span><br><span class="line">// 结束需要独立一行且前后不能空格</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$name=&quot;runoob&quot;;</span><br><span class="line">$a= &lt;&lt;&lt;EOF</span><br><span class="line">        &quot;abc&quot;$name</span><br><span class="line">        &quot;123&quot;</span><br><span class="line">EOF;</span><br><span class="line">// 结束需要独立一行且前后不能空格</span><br><span class="line">echo $a;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="php数据类型"><a class="markdownIt-Anchor" href="#php数据类型"></a> PHP数据类型</h3>
<p>String（字符串）Integer（整型）Float（浮点型）Boolean（布尔型）Array（数组）Object（对象）NULL（空值）Resource（资源类型）</p>
<h4 id="php字符串"><a class="markdownIt-Anchor" href="#php字符串"></a> PHP字符串</h4>
<p>一个字符串是一串字符的序列，可以将任何文本放在单引号和双引号中</p>
<h4 id="php整型"><a class="markdownIt-Anchor" href="#php整型"></a> PHP整型</h4>
<p>整数是一个没有小数的数字，整型可以用三种格式来指定：十进制， 十六进制（ 以 0x 为前缀）或八进制（前缀为 0）</p>
<h4 id="php布尔型"><a class="markdownIt-Anchor" href="#php布尔型"></a> PHP布尔型</h4>
<p>通常用于条件判断</p>
<h4 id="php数组"><a class="markdownIt-Anchor" href="#php数组"></a> PHP数组</h4>
<p>数组可以在一个变量中存储多个值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);</span><br></pre></td></tr></table></figure>
<h4 id="php对象难理解"><a class="markdownIt-Anchor" href="#php对象难理解"></a> PHP对象（难理解）</h4>
<p>对象数据类型也可以用于存储数据</p>
<p>必须使用class关键字声明类对象。类是可以包含属性和方法的结构</p>
<h4 id="php-null值"><a class="markdownIt-Anchor" href="#php-null值"></a> PHP NULL值</h4>
<p>NULL 值表示变量没有值，可以通过设置变量值为 NULL 来清空变量数据</p>
<h4 id="php资源类型"><a class="markdownIt-Anchor" href="#php资源类型"></a> PHP资源类型</h4>
<p>PHP 资源 resource 是一种特殊变量，保存了到外部资源的一个引用</p>
<p>常见资源数据类型有打开文件、数据库连接、图形画布区域等</p>
<h3 id="php类型比较"><a class="markdownIt-Anchor" href="#php类型比较"></a> PHP类型比较</h3>
<blockquote>
<p>[!IMPORTANT]</p>
<ul>
<li>松散比较：使用两个等号 <strong>==</strong> 比较，只比较值，不比较类型。</li>
<li>严格比较：用三个等号 <strong>===</strong> 比较，除了比较值，也比较类型。</li>
</ul>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/php/php-types-comparisons.html">多种类型比较</a></p>
<h3 id="php常量"><a class="markdownIt-Anchor" href="#php常量"></a> PHP常量</h3>
<p>常量可以用 <strong>define()</strong> 函数或 <strong>const</strong> 关键字来定义</p>
<p>一旦定义，其值不能改变，可以在整个脚本的任何地方都可以使用，无需使用 <code>global</code> 关键字</p>
<h4 id="用-define-函数"><a class="markdownIt-Anchor" href="#用-define-函数"></a> 用 <strong>define()</strong> 函数</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bool define ( string $name , mixed $value [, bool $case_insensitive = false ] )</span><br></pre></td></tr></table></figure>
<p>**name：**必选参数，常量名称，即标志符。</p>
<p>**value：**必选参数，常量的值。</p>
<p><strong>case_insensitive</strong> ：可选参数，如果<strong>设置为 TRUE，该常量则大小写不敏感</strong>，默认是大小写敏感的。</p>
<p>如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(&quot;GREETING&quot;, &quot;欢迎访问 Runoob.com&quot;, true);</span><br></pre></td></tr></table></figure>
<h4 id="用const-关键字"><a class="markdownIt-Anchor" href="#用const-关键字"></a> 用<strong>const</strong> 关键字</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const CONSTANT_NAME = &quot;value&quot;;</span><br></pre></td></tr></table></figure>
<p>如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const SITE_URL = &quot;https://www.runoob.com&quot;;</span><br></pre></td></tr></table></figure>
<h4 id="预定义常量"><a class="markdownIt-Anchor" href="#预定义常量"></a> 预定义常量</h4>
<p>PHP 提供了一些预定义常量，可以在脚本中直接使用。这些常量通常用于获取 PHP 的配置信息、版本信息等</p>
<ul>
<li><code>PHP_VERSION</code>：当前 PHP 解析器的版本。</li>
<li><code>PHP_OS</code>：服务器的操作系统。</li>
<li><code>PHP_INT_MAX</code>：最大的整数值。</li>
<li><code>E_ERROR</code>、<code>E_WARNING</code>、<code>E_PARSE</code> 等：错误报告级别</li>
</ul>
<h3 id="php字符串变量"><a class="markdownIt-Anchor" href="#php字符串变量"></a> PHP字符串变量</h3>
<p>字符串变量用于存储并处理文本</p>
<h4 id="php-中的字符串变量"><a class="markdownIt-Anchor" href="#php-中的字符串变量"></a> PHP 中的字符串变量</h4>
<p>当赋一个文本值给变量时，记得给文本值加上单引号或者双引号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$txt=&quot;Hello world!&quot;;</span><br><span class="line">echo $txt;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="php-并置运算符"><a class="markdownIt-Anchor" href="#php-并置运算符"></a> PHP 并置运算符</h4>
<p>并置运算符 (.) 用于把两个字符串值连接起来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$txt1=&quot;Hello world!&quot;;</span><br><span class="line">$txt2=&quot;What a nice day!&quot;;</span><br><span class="line">echo $txt1 . &quot; &quot; . $txt2;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>上面的代码中，我们已经使用了两次并置运算符。这是由于我们需要在两个字符串之间插入一个空格</p>
<h4 id="php-strlen-函数"><a class="markdownIt-Anchor" href="#php-strlen-函数"></a> PHP strlen() 函数</h4>
<p>strlen() 函数返回字符串的长度（字节数）</p>
<h4 id="php-strpos-函数"><a class="markdownIt-Anchor" href="#php-strpos-函数"></a> PHP strpos() 函数</h4>
<p>strpos() 函数用于在字符串内查找一个字符或一段指定的文本。</p>
<p>如果在字符串中找到匹配，该函数会返回第一个匹配的字符位置。如果未找到匹配，则返回 FALSE。</p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/php/php-ref-string.html">PHP 5 String 函数</a></p>
<h3 id="php运算符"><a class="markdownIt-Anchor" href="#php运算符"></a> PHP运算符</h3>
<h4 id="算术运算符"><a class="markdownIt-Anchor" href="#算术运算符"></a> 算术运算符</h4>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
<th style="text-align:left">结果</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x + y</td>
<td style="text-align:left">加</td>
<td style="text-align:left">x 和 y 的和</td>
<td style="text-align:left">2 + 2</td>
<td style="text-align:left">4</td>
</tr>
<tr>
<td style="text-align:left">x - y</td>
<td style="text-align:left">减</td>
<td style="text-align:left">x 和 y 的差</td>
<td style="text-align:left">5 - 2</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">x * y</td>
<td style="text-align:left">乘</td>
<td style="text-align:left">x 和 y 的积</td>
<td style="text-align:left">5 * 2</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">x / y</td>
<td style="text-align:left">除</td>
<td style="text-align:left">x 和 y 的商</td>
<td style="text-align:left">15 / 5</td>
<td style="text-align:left">3</td>
</tr>
<tr>
<td style="text-align:left">x % y</td>
<td style="text-align:left">模（除法的余数）</td>
<td style="text-align:left">x 除以 y 的余数</td>
<td style="text-align:left">5 % 2 10 % 8 10 % 2</td>
<td style="text-align:left">1 2 0</td>
</tr>
<tr>
<td style="text-align:left">-x</td>
<td style="text-align:left">设置负数</td>
<td style="text-align:left">取 x 的相反符号</td>
<td style="text-align:left"><code>&lt;?php $x = 2; echo -$x; ?&gt;</code></td>
<td style="text-align:left">-2</td>
</tr>
<tr>
<td style="text-align:left">~x</td>
<td style="text-align:left">取反</td>
<td style="text-align:left">x 取反，按二进制位进行&quot;取反&quot;运算。运算规则：<code>~1=-2;    ~0=-1;</code></td>
<td style="text-align:left"><code>&lt;?php $x = 2; echo ~$x; ?&gt;</code></td>
<td style="text-align:left">-3</td>
</tr>
<tr>
<td style="text-align:left">a . b</td>
<td style="text-align:left">并置</td>
<td style="text-align:left">连接两个字符串</td>
<td style="text-align:left">“Hi” . “Ha”</td>
<td style="text-align:left">HiHa</td>
</tr>
</tbody>
</table>
<p>整除运算符 <strong>intdiv()</strong>，该函数返回值为第一个参数除于第二个参数的值并取整（向下取整）</p>
<p><code>var_dump(intdiv(10, 3));</code>会输出<code>int(3)</code></p>
<blockquote>
<p>[!IMPORTANT]</p>
<p><code>var_dump()</code> 是一个非常有用的调试函数，用于输出变量的详细信息，包括数据类型和值</p>
</blockquote>
<h4 id="赋值运算符"><a class="markdownIt-Anchor" href="#赋值运算符"></a> 赋值运算符</h4>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">等同于</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x = y</td>
<td style="text-align:left">x = y</td>
<td style="text-align:left">左操作数被设置为右侧表达式的值</td>
</tr>
<tr>
<td style="text-align:left">x += y</td>
<td style="text-align:left">x = x + y</td>
<td style="text-align:left">加</td>
</tr>
<tr>
<td style="text-align:left">x -= y</td>
<td style="text-align:left">x = x - y</td>
<td style="text-align:left">减</td>
</tr>
<tr>
<td style="text-align:left">x *= y</td>
<td style="text-align:left">x = x * y</td>
<td style="text-align:left">乘</td>
</tr>
<tr>
<td style="text-align:left">x /= y</td>
<td style="text-align:left">x = x / y</td>
<td style="text-align:left">除</td>
</tr>
<tr>
<td style="text-align:left">x %= y</td>
<td style="text-align:left">x = x % y</td>
<td style="text-align:left">模（除法的余数）</td>
</tr>
<tr>
<td style="text-align:left">a .= b</td>
<td style="text-align:left">a = a . b</td>
<td style="text-align:left">连接两个字符串</td>
</tr>
</tbody>
</table>
<h4 id="递增递减运算符"><a class="markdownIt-Anchor" href="#递增递减运算符"></a> 递增/递减运算符</h4>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">++ x</td>
<td style="text-align:left">预递增</td>
<td style="text-align:left">x 加 1，然后返回 x</td>
</tr>
<tr>
<td style="text-align:left">x ++</td>
<td style="text-align:left">后递增</td>
<td style="text-align:left">返回 x，然后 x 加 1</td>
</tr>
<tr>
<td style="text-align:left">– x</td>
<td style="text-align:left">预递减</td>
<td style="text-align:left">x 减 1，然后返回 x</td>
</tr>
<tr>
<td style="text-align:left">x –</td>
<td style="text-align:left">后递减</td>
<td style="text-align:left">返回 x，然后 x 减 1</td>
</tr>
</tbody>
</table>
<h4 id="比较运算符"><a class="markdownIt-Anchor" href="#比较运算符"></a> 比较运算符</h4>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x == y</td>
<td style="text-align:left">等于</td>
<td style="text-align:left">如果 x 等于 y，则返回 true</td>
<td style="text-align:left">5==8 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x === y</td>
<td style="text-align:left">绝对等于</td>
<td style="text-align:left">如果 x 等于 y，且它们类型相同，则返回 true</td>
<td style="text-align:left">5===“5” 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x != y</td>
<td style="text-align:left">不等于</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
<td style="text-align:left">5!=8 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &lt;&gt; y</td>
<td style="text-align:left">不等于</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
<td style="text-align:left">5&lt;&gt;8 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x !== y</td>
<td style="text-align:left">不绝对等于</td>
<td style="text-align:left">如果 x 不等于 y，或它们类型不相同，则返回 true</td>
<td style="text-align:left">5!==“5” 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &gt; y</td>
<td style="text-align:left">大于</td>
<td style="text-align:left">如果 x 大于 y，则返回 true</td>
<td style="text-align:left">5&gt;8 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x &lt; y</td>
<td style="text-align:left">小于</td>
<td style="text-align:left">如果 x 小于 y，则返回 true</td>
<td style="text-align:left">5&lt;8 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &gt;= y</td>
<td style="text-align:left">大于等于</td>
<td style="text-align:left">如果 x 大于或者等于 y，则返回 true</td>
<td style="text-align:left">5&gt;=8 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x &lt;= y</td>
<td style="text-align:left">小于等于</td>
<td style="text-align:left">如果 x 小于或者等于 y，则返回 true</td>
<td style="text-align:left">5&lt;=8 返回 true</td>
</tr>
</tbody>
</table>
<h4 id="逻辑运算符"><a class="markdownIt-Anchor" href="#逻辑运算符"></a> 逻辑运算符</h4>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x and y</td>
<td style="text-align:left">与</td>
<td style="text-align:left">如果 x 和 y 都为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x &lt; 10 and y &gt; 1) 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x or y</td>
<td style="text-align:left">或</td>
<td style="text-align:left">如果 x 和 y 至少有一个为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x<mark>6 or y</mark>5) 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x xor y</td>
<td style="text-align:left">异或</td>
<td style="text-align:left">如果 x 和 y 有且仅有一个为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x<mark>6 xor y</mark>3) 返回 false</td>
</tr>
<tr>
<td style="text-align:left">x &amp;&amp; y</td>
<td style="text-align:left">与</td>
<td style="text-align:left">如果 x 和 y 都为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x &lt; 10 &amp;&amp; y &gt; 1) 返回 true</td>
</tr>
<tr>
<td style="text-align:left">x || y</td>
<td style="text-align:left">或</td>
<td style="text-align:left">如果 x 和 y 至少有一个为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 (x<mark>5 || y</mark>5) 返回 false</td>
</tr>
<tr>
<td style="text-align:left">! x</td>
<td style="text-align:left">非</td>
<td style="text-align:left">如果 x 不为 true，则返回 true</td>
<td style="text-align:left">x=6 y=3 !(x==y) 返回 true</td>
</tr>
</tbody>
</table>
<h4 id="数组运算符"><a class="markdownIt-Anchor" href="#数组运算符"></a> 数组运算符</h4>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">名称</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x + y</td>
<td style="text-align:left">集合</td>
<td style="text-align:left">x 和 y 的集合</td>
</tr>
<tr>
<td style="text-align:left">x == y</td>
<td style="text-align:left">相等</td>
<td style="text-align:left">如果 x 和 y 具有相同的键/值对，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x === y</td>
<td style="text-align:left">恒等</td>
<td style="text-align:left">如果 x 和 y 具有相同的键/值对，且顺序相同类型相同，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x != y</td>
<td style="text-align:left">不相等</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x &lt;&gt; y</td>
<td style="text-align:left">不相等</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
</tr>
<tr>
<td style="text-align:left">x !== y</td>
<td style="text-align:left">不恒等</td>
<td style="text-align:left">如果 x 不等于 y，则返回 true</td>
</tr>
</tbody>
</table>
<h4 id="三元运算符"><a class="markdownIt-Anchor" href="#三元运算符"></a> 三元运算符</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(expr1) ? (expr2) : (expr3) </span><br></pre></td></tr></table></figure>
<p>以下实例中通过判断 $_GET 请求中含有 user 值，如果有返回 $_GET[‘user’]，否则返回 nobody：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 普通写法</span><br><span class="line">$username = isset($_GET[&#x27;user&#x27;]) ? $_GET[&#x27;user&#x27;] : &#x27;nobody&#x27;;</span><br><span class="line">echo $username, PHP_EOL;</span><br><span class="line"> </span><br><span class="line">// PHP 5.3+ 版本写法</span><br><span class="line">$username = $_GET[&#x27;user&#x27;] ?: &#x27;nobody&#x27;;</span><br><span class="line">echo $username, PHP_EOL;</span><br><span class="line"></span><br><span class="line">// PHP 7+ 版本写法</span><br><span class="line">$username = $_GET[&#x27;user&#x27;] ?? &#x27;nobody&#x27;;</span><br><span class="line">echo $username, PHP_EOL;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>注：<strong>PHP_EOL</strong> 是一个换行符</p>
<h4 id="组合比较符php7"><a class="markdownIt-Anchor" href="#组合比较符php7"></a> 组合比较符(PHP7+)</h4>
<p>符号为 <strong>&lt;=&gt;</strong>。组合比较运算符可以轻松实现两个变量的比较，不仅限于数值类数据的比较</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$c = $a &lt;=&gt; $b;</span><br></pre></td></tr></table></figure>
<p>如果 <strong>$a &gt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>∗</mo><mo>∗</mo><mo separator="true">,</mo><mtext>则</mtext><mo>∗</mo><mo>∗</mo></mrow><annotation encoding="application/x-tex">b**, 则 **</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">∗</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">则</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">∗</span></span></span></span>c</strong> 的值为 <strong>1</strong>。</p>
<p>如果 <strong>$a == <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>∗</mo><mo>∗</mo><mo separator="true">,</mo><mtext>则</mtext><mo>∗</mo><mo>∗</mo></mrow><annotation encoding="application/x-tex">b**, 则 **</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">∗</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">则</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">∗</span></span></span></span>c</strong> 的值为 <strong>0</strong>。</p>
<p>如果 <strong>$a &lt; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>∗</mo><mo>∗</mo><mo separator="true">,</mo><mtext>则</mtext><mo>∗</mo><mo>∗</mo></mrow><annotation encoding="application/x-tex">b**, 则 **</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">∗</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">则</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.46528em;vertical-align:0em;"></span><span class="mord">∗</span></span></span></span>c</strong> 的值为 <strong>-1</strong>。</p>
<h4 id="运算符优先级"><a class="markdownIt-Anchor" href="#运算符优先级"></a> 运算符优先级</h4>
<p>下表按照优先级从高到低列出了运算符</p>
<p><strong>说明</strong>：左 ＝ 从左到右，右 ＝ 从右到左</p>
<table>
<thead>
<tr>
<th style="text-align:left">结合方向</th>
<th style="text-align:left">运算符</th>
<th style="text-align:left">附加信息</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">clone new</td>
<td style="text-align:left">clone 和 new</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">[</td>
<td style="text-align:left">array()</td>
</tr>
<tr>
<td style="text-align:left">右</td>
<td style="text-align:left">++ – ~ (int) (float) (string) (array) (object) (bool) @</td>
<td style="text-align:left">类型和递增／递减</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">instanceof</td>
<td style="text-align:left">类型</td>
</tr>
<tr>
<td style="text-align:left">右</td>
<td style="text-align:left">!</td>
<td style="text-align:left">逻辑运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">* / %</td>
<td style="text-align:left">算术运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">+ – .</td>
<td style="text-align:left">算术运算符和字符串运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">&lt;&lt; &gt;&gt;</td>
<td style="text-align:left">位运算符</td>
</tr>
<tr>
<td style="text-align:left">无</td>
<td style="text-align:left">== != === !== &lt;&gt;</td>
<td style="text-align:left">比较运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">位运算符和引用</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">^</td>
<td style="text-align:left">位运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">|</td>
<td style="text-align:left">位运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">&amp;&amp;</td>
<td style="text-align:left">逻辑运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">||</td>
<td style="text-align:left">逻辑运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">? :</td>
<td style="text-align:left">三元运算符</td>
</tr>
<tr>
<td style="text-align:left">右</td>
<td style="text-align:left">= += -= *= /= .= %= &amp;= |= ^= &lt;&lt;= &gt;&gt;= =&gt;</td>
<td style="text-align:left">赋值运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">and</td>
<td style="text-align:left">逻辑运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">xor</td>
<td style="text-align:left">逻辑运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">or</td>
<td style="text-align:left">逻辑运算符</td>
</tr>
<tr>
<td style="text-align:left">左</td>
<td style="text-align:left">,</td>
<td style="text-align:left">多处用到</td>
</tr>
</tbody>
</table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 优先级： &amp;&amp;  &gt;  =  &gt;  and</span><br><span class="line">// 优先级： ||  &gt;  =  &gt;  or</span><br><span class="line"> </span><br><span class="line">$a = 3;</span><br><span class="line">$b = false;</span><br><span class="line">$c = $a or $b;</span><br><span class="line">var_dump($c);          // 这里的 $c 为 int 值3，而不是 boolean 值 true；输出int(3)</span><br><span class="line">$d = $a || $b;</span><br><span class="line">var_dump($d);          //这里的 $d 就是 boolean 值 true ;输出bool(true)</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="php-条件语句"><a class="markdownIt-Anchor" href="#php-条件语句"></a> PHP 条件语句</h3>
<p><strong>if 语句</strong> - 在条件成立时执行代码</p>
<p><strong>if…else 语句</strong> - 在条件成立时执行一块代码，条件不成立时执行另一块代码</p>
<p><strong>if…elseif…else 语句</strong> - 在若干条件之一成立时执行一个代码块</p>
<p><strong>switch 语句</strong> - 在若干条件之一成立时执行一个代码块</p>
<h3 id="php数组-2"><a class="markdownIt-Anchor" href="#php数组-2"></a> PHP数组</h3>
<p>在 PHP 中，array() 函数用于创建数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$cars=array(&quot;Volvo&quot;,&quot;BMW&quot;,&quot;Toyota&quot;);</span><br><span class="line">echo &quot;I like &quot; . $cars[0] . &quot;, &quot; . $cars[1] . &quot; and &quot; . $cars[2] . &quot;.&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="获取数组的长度"><a class="markdownIt-Anchor" href="#获取数组的长度"></a> 获取数组的长度</h4>
<p>count() 函数用于返回数组的长度（元素的数量）</p>
<h4 id="遍历数值数组"><a class="markdownIt-Anchor" href="#遍历数值数组"></a> 遍历数值数组</h4>
<p>遍历并打印数值数组中的所有值，您可以使用 for 循环</p>
<h4 id="php-关联数组"><a class="markdownIt-Anchor" href="#php-关联数组"></a> PHP 关联数组</h4>
<p>关联数组是使用分配给数组的指定的键的数组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$age=array(&quot;Peter&quot;=&gt;&quot;35&quot;,&quot;Ben&quot;=&gt;&quot;37&quot;,&quot;Joe&quot;=&gt;&quot;43&quot;);</span><br><span class="line">echo &quot;Peter is &quot; . $age[&#x27;Peter&#x27;] . &quot; years old.&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="遍历关联数组"><a class="markdownIt-Anchor" href="#遍历关联数组"></a> 遍历关联数组</h4>
<p>遍历并打印关联数组中的所有值，您可以使用 foreach 循环</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$age=array(&quot;Peter&quot;=&gt;&quot;35&quot;,&quot;Ben&quot;=&gt;&quot;37&quot;,&quot;Joe&quot;=&gt;&quot;43&quot;);</span><br><span class="line"> </span><br><span class="line">foreach($age as $x=&gt;$x_value)</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;Key=&quot; . $x . &quot;, Value=&quot; . $x_value;</span><br><span class="line">    echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!IMPORTANT]</p>
<h3 id="foreach"><a class="markdownIt-Anchor" href="#foreach"></a> foreach</h3>
<p>在 PHP 中，<code>foreach</code> 循环是一种专门用于遍历数组或对象的结构</p>
<p>相比于 <code>for</code> 或 <code>while</code> 循环，<code>foreach</code> 能更自然地处理复杂数据结构，如关联数组或对象</p>
<h4 id="基本语法"><a class="markdownIt-Anchor" href="#基本语法"></a> 基本语法</h4>
<h5 id="遍历数组"><a class="markdownIt-Anchor" href="#遍历数组"></a> 遍历数组</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foreach ($array as $value) &#123;</span><br><span class="line">    // 循环体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><code>$array</code></strong>：需要遍历的数组。</p>
<p><strong><code>$value</code></strong>：当前循环中数组的值。</p>
<h5 id="遍历数组的键值对"><a class="markdownIt-Anchor" href="#遍历数组的键值对"></a> 遍历数组的键值对</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foreach ($array as $key =&gt; $value) &#123;</span><br><span class="line">    // 循环体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><code>$key</code></strong>：当前元素的键。</p>
<p><strong><code>$value</code></strong>：当前元素的值。</p>
<h4 id="实例"><a class="markdownIt-Anchor" href="#实例"></a> 实例</h4>
<h5 id="简单数组"><a class="markdownIt-Anchor" href="#简单数组"></a> 简单数组</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$x=array(&quot;Google&quot;,&quot;Runoob&quot;,&quot;Taobao&quot;);</span><br><span class="line">foreach ($x as $value)</span><br><span class="line">&#123;</span><br><span class="line">    echo $value . PHP_EOL;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h5 id="关联数组"><a class="markdownIt-Anchor" href="#关联数组"></a> 关联数组</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$x=array(1=&gt;&quot;Google&quot;, 2=&gt;&quot;Runoob&quot;, 3=&gt;&quot;Taobao&quot;);</span><br><span class="line">foreach ($x as $key =&gt; $value)</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;key  为 &quot; . $key . &quot;，对应的 value 为 &quot;. $value . PHP_EOL;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h5 id="嵌套数组"><a class="markdownIt-Anchor" href="#嵌套数组"></a> 嵌套数组</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$users = [</span><br><span class="line">    [&quot;name&quot; =&gt; &quot;John&quot;, &quot;age&quot; =&gt; 30],</span><br><span class="line">    [&quot;name&quot; =&gt; &quot;Jane&quot;, &quot;age&quot; =&gt; 25],</span><br><span class="line">    [&quot;name&quot; =&gt; &quot;Doe&quot;, &quot;age&quot; =&gt; 40]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">foreach ($users as $user) &#123;</span><br><span class="line">    foreach ($user as $key =&gt; $value) &#123;</span><br><span class="line">        echo &quot;$key: $value, &quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    echo &quot;\n&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h5 id="遍历对象"><a class="markdownIt-Anchor" href="#遍历对象"></a> 遍历对象</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class Car &#123;</span><br><span class="line">    public $brand = &quot;Toyota&quot;;</span><br><span class="line">    public $model = &quot;Corolla&quot;;</span><br><span class="line">    public $year = 2022;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$car = new Car();</span><br><span class="line"></span><br><span class="line">foreach ($car as $property =&gt; $value) &#123;</span><br><span class="line">    echo &quot;$property: $value\n&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="数组排序"><a class="markdownIt-Anchor" href="#数组排序"></a> 数组排序</h4>
<p>数组中的元素可以按字母或数字顺序进行降序或升序排列</p>
<h5 id="sort"><a class="markdownIt-Anchor" href="#sort"></a> sort()</h5>
<p>对数组进行升序排列</p>
<h5 id="rsort"><a class="markdownIt-Anchor" href="#rsort"></a> rsort()</h5>
<p>对数组进行降序排列</p>
<h5 id="asort"><a class="markdownIt-Anchor" href="#asort"></a> asort()</h5>
<p>根据<strong>数组的值</strong>，对关联数组进行升序排列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$age=array(&quot;Peter&quot;=&gt;&quot;35&quot;,&quot;Ben&quot;=&gt;&quot;37&quot;,&quot;Joe&quot;=&gt;&quot;43&quot;);</span><br><span class="line">asort($age);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h5 id="arsort"><a class="markdownIt-Anchor" href="#arsort"></a> arsort()</h5>
<p>根据<strong>数组的值</strong>，对关联数组进行降序排列</p>
<h5 id="ksort"><a class="markdownIt-Anchor" href="#ksort"></a> ksort()</h5>
<p>根据<strong>数组的键</strong>，对关联数组进行升序排列</p>
<h5 id="krsort"><a class="markdownIt-Anchor" href="#krsort"></a> krsort()</h5>
<p>根据<strong>数组的键</strong>，对关联数组进行降序排列</p>
<h3 id="php-超级全局变量"><a class="markdownIt-Anchor" href="#php-超级全局变量"></a> PHP 超级全局变量</h3>
<p>超级全局变量在一个脚本的全部作用域中都可用</p>
<p>PHP 超级全局变量列表:</p>
<ul>
<li>$GLOBALS</li>
<li>$_SERVER</li>
<li>$_REQUEST</li>
<li>$_POST</li>
<li>$_GET</li>
<li>$_FILES</li>
<li>$_ENV</li>
<li>$_COOKIE</li>
<li>$_SESSION</li>
</ul>
<h4 id="php-globals"><a class="markdownIt-Anchor" href="#php-globals"></a> PHP $GLOBALS</h4>
<p>$GLOBALS 是一个包含了全部变量的全局组合数组。变量的名字就是数组的键。</p>
<h4 id="php-_server"><a class="markdownIt-Anchor" href="#php-_server"></a> PHP $_SERVER</h4>
<p>$_SERVER 是一个包含了诸如头信息(header)、路径(path)、以及脚本位置(script locations)等等信息的数组。这个数组中的项目由 Web 服务器创建。</p>
<h4 id="php-_request"><a class="markdownIt-Anchor" href="#php-_request"></a> PHP $_REQUEST</h4>
<p>PHP $_REQUEST 用于收集HTML表单提交的数据</p>
<h4 id="php-_post"><a class="markdownIt-Anchor" href="#php-_post"></a> PHP $_POST</h4>
<p>PHP $_POST 被广泛应用于收集表单数据，在HTML form标签的指定该属性：&quot;method=“post”。</p>
<h4 id="php-_get"><a class="markdownIt-Anchor" href="#php-_get"></a> PHP $_GET</h4>
<p>PHP $_GET 同样被广泛应用于收集表单数据，在HTML form标签的指定该属性：&quot;method=“get”</p>
<p>$_GET 也可以收集URL中发送的数据</p>
<p>假定我们有一个包含参数的超链接HTML页面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;a href=&quot;test_get.php?subject=PHP&amp;web=runoob.com&quot;&gt;Test $GET&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>当用户点击链接 “Test $GET”, 参数 “subject” 和 “web” 将发送至&quot;test_get.php&quot;,你可以在 “test_get.php” 文件中使用 $_GET 变量来获取这些数据。以下为 “test_get.php” 文件的代码:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt; </span><br><span class="line">&lt;body&gt;  </span><br><span class="line"></span><br><span class="line">&lt;?php  </span><br><span class="line">echo &quot;Study &quot; . $_GET[&#x27;subject&#x27;] . &quot; @ &quot; . $_GET[&#x27;web&#x27;]; </span><br><span class="line">?&gt;  </span><br><span class="line"></span><br><span class="line">&lt;/body&gt; </span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="php循环"><a class="markdownIt-Anchor" href="#php循环"></a> PHP循环</h3>
<ul>
<li><strong>while</strong> - 只要指定的条件成立，则循环执行代码块</li>
<li><strong>do…while</strong> - 首先执行一次代码块，然后在指定的条件成立时重复这个循环</li>
<li><strong>for</strong> - 循环执行代码块指定的次数</li>
<li><strong>foreach</strong> - 根据数组中每个元素来循环代码块</li>
</ul>
<h3 id="php面向对象难理解"><a class="markdownIt-Anchor" href="#php面向对象难理解"></a> PHP面向对象（难理解）</h3>
<p>面向对象（Object-Oriented，简称 OO）是一种编程思想和方法，它将程序中的数据和操作数据的方法封装在一起，形成&quot;对象&quot;，并通过对象之间的交互和消息传递来完成程序的功能</p>
<h4 id="关键概念"><a class="markdownIt-Anchor" href="#关键概念"></a> 关键概念</h4>
<table>
<thead>
<tr>
<th>概念</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>类（class）</td>
<td>对象的模板，定义属性和方法</td>
</tr>
<tr>
<td>对象（object）</td>
<td>通过类实例化的具体对象</td>
</tr>
<tr>
<td>属性（property）</td>
<td>类中的变量（也叫成员变量）</td>
</tr>
<tr>
<td>方法（method）</td>
<td>类中的函数</td>
</tr>
<tr>
<td>构造方法（__construct）</td>
<td>实例化对象时自动执行</td>
</tr>
<tr>
<td>析构方法（__destruct）</td>
<td>对象销毁时自动执行</td>
</tr>
<tr>
<td>继承（extends）</td>
<td>子类继承父类的方法和属性</td>
</tr>
<tr>
<td>多态（polymorphism）</td>
<td>不同类可以实现相同的方法</td>
</tr>
<tr>
<td>封装（encapsulation）</td>
<td>限制属性和方法的访问权限</td>
</tr>
<tr>
<td>接口（interface）</td>
<td>定义类必须实现的方法</td>
</tr>
<tr>
<td>抽象类（abstract）</td>
<td>不能实例化的类，必须被子类继承</td>
</tr>
</tbody>
</table>
<h4 id="类class"><a class="markdownIt-Anchor" href="#类class"></a> 类（class）</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">    // 定义属性：属性是类中定义的变量，用于存储对象的状态</span><br><span class="line">    public $name;</span><br><span class="line">    public $age;</span><br><span class="line"></span><br><span class="line">    // 构造方法</span><br><span class="line">    public function __construct($name, $age) &#123;</span><br><span class="line">        $this-&gt;name = $name;</span><br><span class="line">        $this-&gt;age = $age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 定义方法：方法是类中定义的函数，用于定义对象的行为</span><br><span class="line">    public function sayHello() &#123;</span><br><span class="line">        return &quot;Hello, my name is &quot; . $this-&gt;name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>类是<strong>对象的模板，定义属性和方法</strong>，类使用 <strong>class</strong> 关键字后加上类名定义，类名后的一对大括号({})内可以定义变量和方法，类的变量使用 <strong>var</strong> 来声明, 变量也可以初始化值</p>
<blockquote>
<p>[!CAUTION]</p>
<h4 id="类对象当前对象的关系"><a class="markdownIt-Anchor" href="#类对象当前对象的关系"></a> 类，对象，当前对象的关系</h4>
<p><strong>类</strong> 是一种模板或蓝图。比如，<code>class Car &#123; ... &#125;</code> 是一个汽车的模板。</p>
<p><strong>对象</strong> 是从类生成的具体实例。比如，<code>$car1 = new Car();</code> 是一辆具体的汽车。</p>
<p><strong>当前对象</strong> 是某一时刻你正在操作的对象。如果你正在对 <code>$car1</code> 调用方法，那么 <code>$car1</code> 就是当前对象，<code>$this</code> 就是指当前对象，在方法里用 <code>$this</code> 来访问或修改它的属性和方法。</p>
</blockquote>
<h4 id="对象object"><a class="markdownIt-Anchor" href="#对象object"></a> 对象（object）</h4>
<p>对象是类的实例。通过 <code>new</code> 关键字可以创建一个类的实例。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$person1 = new Person(&quot;Alice&quot;, 25);</span><br><span class="line">echo $person1-&gt;sayHello();  // 输出: Hello, my name is Alice</span><br></pre></td></tr></table></figure>
<h4 id="访问控制封装encapsulation"><a class="markdownIt-Anchor" href="#访问控制封装encapsulation"></a> 访问控制/封装（encapsulation）</h4>
<p>PHP 提供 3 种访问控制属性或方法的修饰符：</p>
<table>
<thead>
<tr>
<th>修饰符</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>public</code></td>
<td>公开，类内外都能访问</td>
</tr>
<tr>
<td><code>private</code></td>
<td>私有，只有定义它的类内部能访问，在子类中也无法直接访问，不能重定义</td>
</tr>
<tr>
<td><code>protected</code></td>
<td>受保护，类内部和子类能访问，类的外部无法直接访问</td>
</tr>
</tbody>
</table>
<h5 id="属性的访问控制"><a class="markdownIt-Anchor" href="#属性的访问控制"></a> 属性的访问控制</h5>
<p>类属性必须定义为公有，受保护，私有之一。如果<strong>用 var 定义，则被视为公有</strong></p>
<h5 id="方法的访问控制"><a class="markdownIt-Anchor" href="#方法的访问控制"></a> 方法的访问控制</h5>
<p>类中的方法可以被定义为公有，私有或受保护。如果没有设置这些关键字，则该方法默认为公有</p>
<h4 id="继承extends"><a class="markdownIt-Anchor" href="#继承extends"></a> 继承（extends）</h4>
<p><strong>子类（Child Class）</strong> 可以继承 <strong>父类（Parent Class）</strong> 的方法和属性，用 <code>extends</code> 关键字实现，PHP 不支持多继承</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    public $name;</span><br><span class="line"></span><br><span class="line">    public function __construct($name) &#123;</span><br><span class="line">        $this-&gt;name = $name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public function speak() &#123;</span><br><span class="line">        return &quot;🗣 叫声未知&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">    public function speak() &#123;</span><br><span class="line">        return &quot;🐶 汪汪！&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$dog = new Dog(&quot;旺财&quot;);</span><br><span class="line">echo $dog-&gt;speak(); // 🐶 汪汪！</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>Dog</code> 继承 <code>Animal</code>，但重写了 <code>speak()</code> 方法，让狗狗可以发出「汪汪」的叫声</p>
<h4 id="方法重写"><a class="markdownIt-Anchor" href="#方法重写"></a> 方法重写</h4>
<p>允许子类重写（覆盖）父类的方法</p>
<h5 id="关键点"><a class="markdownIt-Anchor" href="#关键点"></a> 关键点</h5>
<ul>
<li><strong>子类</strong> 继承 <strong>父类</strong></li>
<li>子类 <strong>使用相同的方法名</strong> 覆盖父类的方法</li>
<li>方法的 <strong>访问权限</strong> 放宽（<code>protected</code> 方法可以被 <code>public</code> 重写）</li>
</ul>
<h5 id="基本用法"><a class="markdownIt-Anchor" href="#基本用法"></a> 基本用法</h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    public function speak() &#123;</span><br><span class="line">        return &quot;🐾 这是一个动物的声音&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">    public function speak() &#123;</span><br><span class="line">        return &quot;🐶 汪汪！&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$dog = new Dog();</span><br><span class="line">echo $dog-&gt;speak(); // 🐶 汪汪！</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>子类 <code>Dog</code> 重写了 <code>speak()</code> 方法，不再继承父类 <code>Animal</code> 的默认实现</p>
<h5 id="parent-关键字调用父类方法"><a class="markdownIt-Anchor" href="#parent-关键字调用父类方法"></a> <code>parent::</code> 关键字调用父类方法</h5>
<p>如果子类需要调用父类的同名方法，可以使用 <code>parent::方法名()</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    public function speak() &#123;</span><br><span class="line">        return &quot;🐾 这是一个动物的声音&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">    public function speak() &#123;</span><br><span class="line">        return parent::speak() . &quot; 🐶 但狗会汪汪叫！&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$dog = new Dog();</span><br><span class="line">echo $dog-&gt;speak(); </span><br><span class="line">// 🐾 这是一个动物的声音 🐶 但狗会汪汪叫！</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>parent::speak()</code> 调用了父类 <code>Animal</code> 的 <code>speak()</code>，然后追加了 <code>&quot;🐶 但狗会汪汪叫！&quot;</code></p>
<h4 id="final-关键字"><a class="markdownIt-Anchor" href="#final-关键字"></a> Final 关键字</h4>
<p>用于<strong>防止继承（类）和方法重写（方法）</strong>，不能用于属性</p>
<h4 id="多态polymorphism"><a class="markdownIt-Anchor" href="#多态polymorphism"></a> 多态（polymorphism）</h4>
<p>不同的类可以用相同的方法名，但实现不同的功能</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class Animal &#123;</span><br><span class="line">    public function makeSound() &#123;</span><br><span class="line">        return &quot;🐾 这是一个动物的声音&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">    public function makeSound() &#123;</span><br><span class="line">        return &quot;🐶 汪汪！&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Cat extends Animal &#123;</span><br><span class="line">    public function makeSound() &#123;</span><br><span class="line">        return &quot;🐱 喵喵！&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 创建对象</span><br><span class="line">$dog = new Dog();</span><br><span class="line">$cat = new Cat();</span><br><span class="line"></span><br><span class="line">echo $dog-&gt;makeSound(); // 🐶 汪汪！</span><br><span class="line">echo $cat-&gt;makeSound(); // 🐱 喵喵！</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>不同的类（<code>Dog</code> 和 <code>Cat</code>）继承了 <code>Animal</code>，但重写了 <code>makeSound()</code> 方法，实现不同的功能</p>
<h4 id="抽象类abstract"><a class="markdownIt-Anchor" href="#抽象类abstract"></a> 抽象类（abstract）</h4>
<p><strong>抽象类只适合作为「模板」不能被实例化（创建对象），必须由子类继承并实现其方法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">abstract class Shape &#123;</span><br><span class="line">    abstract public function area();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Circle extends Shape &#123;</span><br><span class="line">    public $radius;</span><br><span class="line">    </span><br><span class="line">    public function __construct($radius) &#123;</span><br><span class="line">        $this-&gt;radius = $radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public function area() &#123;</span><br><span class="line">        return pi() * pow($this-&gt;radius, 2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$c = new Circle(5);</span><br><span class="line">echo $c-&gt;area(); // 78.54</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>Shape</code> 是抽象类，<strong>不能直接创建对象</strong>，<code>Circle</code> 继承它并实现 <code>area()</code> 方法</p>
<h4 id="接口interface"><a class="markdownIt-Anchor" href="#接口interface"></a> 接口（interface）</h4>
<p><strong>接口</strong> 定义了「必须实现」的方法，确保不同类有相同的行为</p>
<p>接口是通过 <strong>interface</strong> 关键字来定义的，接口中定义的所有方法都必须是公有</p>
<p>要实现一个接口，使用 <strong>implements</strong> 操作符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//定义接口</span><br><span class="line">interface Logger &#123;</span><br><span class="line">    public function log($message);</span><br><span class="line">&#125;</span><br><span class="line">//实现接口</span><br><span class="line">class FileLogger implements Logger &#123;</span><br><span class="line">    public function log($message) &#123;</span><br><span class="line">        echo &quot;📁 记录日志到文件：&quot; . $message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$logger = new FileLogger();</span><br><span class="line">$logger-&gt;log(&quot;系统错误&quot;); // 📁 记录日志到文件：系统错误</span><br></pre></td></tr></table></figure>
<h4 id="静态成员static"><a class="markdownIt-Anchor" href="#静态成员static"></a> 静态成员（Static）</h4>
<p>静态方法和属性属于类本身，不需要实例化就可直接访问</p>
<p>静态属性不能通过一个类已实例化的对象来访问（但静态方法可以）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class Math &#123;</span><br><span class="line">    public static $pi = 3.1416;</span><br><span class="line"></span><br><span class="line">    public static function square($num) &#123;</span><br><span class="line">        return $num * $num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo Math::$pi; // 3.1416</span><br><span class="line">echo Math::square(5); // 25</span><br><span class="line">?&gt;   </span><br></pre></td></tr></table></figure>
<p><strong>静态成员</strong> 用 <code>::</code> 访问</p>
<h4 id="魔术方法"><a class="markdownIt-Anchor" href="#魔术方法"></a> 魔术方法</h4>
<p><strong>魔术方法</strong> 是 PHP 预定义的特殊方法</p>
<table>
<thead>
<tr>
<th><strong>方法</strong></th>
<th><strong>作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>__construct()</code></td>
<td>构造函数，创建对象时自动调用</td>
</tr>
<tr>
<td><code>__destruct()</code></td>
<td>析构函数，销毁对象时调用</td>
</tr>
<tr>
<td><code>__get($name)</code></td>
<td>访问不存在的属性</td>
</tr>
<tr>
<td><code>__set($name, $value)</code></td>
<td>给不存在的属性赋值</td>
</tr>
<tr>
<td><code>__call($name, $arguments)</code></td>
<td>调用不存在的方法</td>
</tr>
<tr>
<td><code>__toString()</code></td>
<td>对象被当作字符串时调用</td>
</tr>
</tbody>
</table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class MyDestructableClass &#123;</span><br><span class="line">   function __construct() &#123;</span><br><span class="line">       print &quot;构造函数\n&quot;;</span><br><span class="line">       $this-&gt;name = &quot;MyDestructableClass&quot;;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   function __destruct() &#123;</span><br><span class="line">       print &quot;销毁 &quot; . $this-&gt;name . &quot;\n&quot;;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$obj = new MyDestructableClass();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>输出为</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">构造函数</span><br><span class="line">销毁 MyDestructableClass</span><br></pre></td></tr></table></figure>
<h2 id="php表单"><a class="markdownIt-Anchor" href="#php表单"></a> PHP表单</h2>
<h3 id="php表单和用户输入"><a class="markdownIt-Anchor" href="#php表单和用户输入"></a> PHP表单和用户输入</h3>
<p>PHP 中的 $_GET 和 $_POST 变量用于检索表单中的信息，比如用户输入</p>
<h4 id="php-表单处理"><a class="markdownIt-Anchor" href="#php-表单处理"></a> PHP 表单处理</h4>
<p>当处理 HTML 表单时，PHP 能把来自 HTML 页面中的表单元素自动变成可供 PHP 脚本使用</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/zkk1233/Picture/main/20250124214612831.png" alt="" /></p>
<h4 id="php-获取下拉菜单的数据"><a class="markdownIt-Anchor" href="#php-获取下拉菜单的数据"></a> PHP 获取下拉菜单的数据</h4>
<h5 id="php-下拉菜单单选"><a class="markdownIt-Anchor" href="#php-下拉菜单单选"></a> PHP 下拉菜单单选</h5>
<p>以下实例我们设置了下拉菜单三个选项，表单使用 GET 方式获取数据，action 属性值为空表示提交到当前脚本，我们可以通过 select 的 name 属性获取下拉菜单的值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$q = isset($_GET[&#x27;q&#x27;])? htmlspecialchars($_GET[&#x27;q&#x27;]) : &#x27;&#x27;;</span><br><span class="line">if($q) &#123;</span><br><span class="line">        if($q ==&#x27;RUNOOB&#x27;) &#123;</span><br><span class="line">                echo &#x27;菜鸟教程&lt;br&gt;http://www.runoob.com&#x27;;</span><br><span class="line">        &#125; else if($q ==&#x27;GOOGLE&#x27;) &#123;</span><br><span class="line">                echo &#x27;Google 搜索&lt;br&gt;http://www.google.com&#x27;;</span><br><span class="line">        &#125; else if($q ==&#x27;TAOBAO&#x27;) &#123;</span><br><span class="line">                echo &#x27;淘宝&lt;br&gt;http://www.taobao.com&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;form action=&quot;&quot; method=&quot;get&quot;&gt; </span><br><span class="line">    &lt;select name=&quot;q&quot;&gt;</span><br><span class="line">    &lt;option value=&quot;&quot;&gt;选择一个站点:&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;RUNOOB&quot;&gt;Runoob&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;GOOGLE&quot;&gt;Google&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;TAOBAO&quot;&gt;Taobao&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;?php</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!IMPORTANT]</p>
<h4 id="htmlspecialchars_getq-是一种防止-跨站脚本攻击xss-的安全措施"><a class="markdownIt-Anchor" href="#htmlspecialchars_getq-是一种防止-跨站脚本攻击xss-的安全措施"></a> <code>htmlspecialchars($_GET['q'])</code> 是一种防止 <strong>跨站脚本攻击XSS</strong> 的安全措施</h4>
<p><code>htmlspecialchars()</code>函数会对用户输入的数据进行转义处理，<strong>将特殊的 HTML 字符转换为 HTML 实体</strong>，以防止它们被解释为 HTML 或 JavaScript 代码</p>
<p>将以下字符转换为 HTML 实体：</p>
<ul>
<li>
<p><code>&amp;</code> → <code>&amp;amp;</code></p>
</li>
<li>
<p><code>&lt;</code> → <code>&amp;lt;</code></p>
</li>
<li>
<p><code>&gt;</code> → <code>&amp;gt;</code></p>
</li>
<li>
<p><code>&quot;</code> → <code>&amp;quot;</code></p>
</li>
<li>
<p><code>'</code> → <code>&amp;#039;</code>（仅在使用 <code>ENT_QUOTES</code> 时）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 假设 URL 为：http://example.com/?q=&lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;</span><br><span class="line">$q = $_GET[&#x27;q&#x27;];</span><br><span class="line">echo &quot;您输入的内容是：$q&quot;;</span><br><span class="line">//输出：您输入的内容是：&lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 假设 URL 为：http://example.com/?q=&lt;script&gt;alert(&#x27;XSS&#x27;)&lt;/script&gt;</span><br><span class="line">$q = htmlspecialchars($_GET[&#x27;q&#x27;]);</span><br><span class="line">echo &quot;您输入的内容是：$q&quot;;</span><br><span class="line">//输出：您输入的内容是：&amp;lt;script&amp;gt;alert(&#x27;XSS&#x27;)&amp;lt;/script&amp;gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<blockquote>
<p>[!NOTE]</p>
<h4 id="php与html切换"><a class="markdownIt-Anchor" href="#php与html切换"></a> php与html切换</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if (条件) &#123;</span><br><span class="line">    // 执行一些 PHP 代码</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    ?&gt;</span><br><span class="line">    &lt;!-- 这里是 HTML 代码 --&gt;</span><br><span class="line">    &lt;?php</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h5 id="php-下拉菜单多选"><a class="markdownIt-Anchor" href="#php-下拉菜单多选"></a> PHP 下拉菜单多选</h5>
<p>如果下拉菜单是多选的（ multiple=“multiple”），我们可以通过将设置 select <strong>name=“q[]”</strong> 以数组的方式获取，以下使用 POST 方式提交</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$q = isset($_POST[&#x27;q&#x27;])? $_POST[&#x27;q&#x27;] : &#x27;&#x27;;</span><br><span class="line">if(is_array($q)) &#123;</span><br><span class="line">    $sites = array(</span><br><span class="line">            &#x27;RUNOOB&#x27; =&gt; &#x27;菜鸟教程: http://www.runoob.com&#x27;,</span><br><span class="line">            &#x27;GOOGLE&#x27; =&gt; &#x27;Google 搜索: http://www.google.com&#x27;,</span><br><span class="line">            &#x27;TAOBAO&#x27; =&gt; &#x27;淘宝: http://www.taobao.com&#x27;,</span><br><span class="line">    );</span><br><span class="line">    foreach($q as $val) &#123;</span><br><span class="line">        // PHP_EOL 为常量，用于换行</span><br><span class="line">        echo $sites[$val] . PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">&#125; else &#123;</span><br><span class="line">?&gt;&lt;form action=&quot;&quot; method=&quot;post&quot;&gt; </span><br><span class="line">    &lt;select multiple=&quot;multiple&quot; name=&quot;q[]&quot;&gt;</span><br><span class="line">    &lt;option value=&quot;&quot;&gt;选择一个站点:&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;RUNOOB&quot;&gt;Runoob&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;GOOGLE&quot;&gt;Google&lt;/option&gt;</span><br><span class="line">    &lt;option value=&quot;TAOBAO&quot;&gt;Taobao&lt;/option&gt;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">    &lt;/form&gt;&lt;?php</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="单选按钮表单"><a class="markdownIt-Anchor" href="#单选按钮表单"></a> 单选按钮表单</h4>
<p>PHP 单选按钮表单中 name 属性的值是一致的，value 值是不同的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$q = isset($_GET[&#x27;q&#x27;])? htmlspecialchars($_GET[&#x27;q&#x27;]) : &#x27;&#x27;;</span><br><span class="line">if($q) &#123;</span><br><span class="line">        if($q ==&#x27;RUNOOB&#x27;) &#123;</span><br><span class="line">                echo &#x27;菜鸟教程&lt;br&gt;http://www.runoob.com&#x27;;</span><br><span class="line">        &#125; else if($q ==&#x27;GOOGLE&#x27;) &#123;</span><br><span class="line">                echo &#x27;Google 搜索&lt;br&gt;http://www.google.com&#x27;;</span><br><span class="line">        &#125; else if($q ==&#x27;TAOBAO&#x27;) &#123;</span><br><span class="line">                echo &#x27;淘宝&lt;br&gt;http://www.taobao.com&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">&#125; else &#123;?&gt;&lt;form action=&quot;&quot; method=&quot;get&quot;&gt; </span><br><span class="line">    &lt;input type=&quot;radio&quot; name=&quot;q&quot; value=&quot;RUNOOB&quot; /&gt;Runoob</span><br><span class="line">    &lt;input type=&quot;radio&quot; name=&quot;q&quot; value=&quot;GOOGLE&quot; /&gt;Google</span><br><span class="line">    &lt;input type=&quot;radio&quot; name=&quot;q&quot; value=&quot;TAOBAO&quot; /&gt;Taobao</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">&lt;/form&gt;&lt;?php</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="checkbox-复选框"><a class="markdownIt-Anchor" href="#checkbox-复选框"></a> checkbox 复选框</h4>
<p>PHP checkbox 复选框可以选择多个值</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$q = isset($_POST[&#x27;q&#x27;])? $_POST[&#x27;q&#x27;] : &#x27;&#x27;;</span><br><span class="line">if(is_array($q)) &#123;</span><br><span class="line">    $sites = array(</span><br><span class="line">            &#x27;RUNOOB&#x27; =&gt; &#x27;菜鸟教程: http://www.runoob.com&#x27;,</span><br><span class="line">            &#x27;GOOGLE&#x27; =&gt; &#x27;Google 搜索: http://www.google.com&#x27;,</span><br><span class="line">            &#x27;TAOBAO&#x27; =&gt; &#x27;淘宝: http://www.taobao.com&#x27;,</span><br><span class="line">    );</span><br><span class="line">    foreach($q as $val) &#123;</span><br><span class="line">        // PHP_EOL 为常量，用于换行</span><br><span class="line">        echo $sites[$val] . PHP_EOL;</span><br><span class="line">    &#125;</span><br><span class="line">      </span><br><span class="line">&#125; else &#123;?&gt;&lt;form action=&quot;&quot; method=&quot;post&quot;&gt; </span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;q[]&quot; value=&quot;RUNOOB&quot;&gt; Runoob&lt;br&gt; </span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;q[]&quot; value=&quot;GOOGLE&quot;&gt; Google&lt;br&gt; </span><br><span class="line">    &lt;input type=&quot;checkbox&quot; name=&quot;q[]&quot; value=&quot;TAOBAO&quot;&gt; Taobao&lt;br&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">&lt;/form&gt;&lt;?php</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="php-表单验证"><a class="markdownIt-Anchor" href="#php-表单验证"></a> PHP 表单验证</h3>
<h4 id="_serverphp_self-变量"><a class="markdownIt-Anchor" href="#_serverphp_self-变量"></a> $_SERVER[“PHP_SELF”] 变量</h4>
<p>是一个超全局变量，用于返回当前执行脚本的文件路径（相对于网站根目录）</p>
<p>通常用于：<strong>表单的自提交（self-submitting form）<strong>和</strong>动态生成页面链接</strong>。</p>
<h5 id="基本使用"><a class="markdownIt-Anchor" href="#基本使用"></a> <strong>基本使用</strong></h5>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo $_SERVER[&quot;PHP_SELF&quot;];</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>假设访问路径：URL: <code>http://www.example.com/test/form.php</code></p>
<p>输出结果（<code>$_SERVER[&quot;PHP_SELF&quot;]</code> 的值为）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/test/form.php</span><br></pre></td></tr></table></figure>
<h5 id="表单自提交"><a class="markdownIt-Anchor" href="#表单自提交"></a> 表单自提交</h5>
<p>通过 <code>$_SERVER[&quot;PHP_SELF&quot;]</code> 实现表单提交到当前页面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) &#123;</span><br><span class="line">    $name = htmlspecialchars($_POST[&#x27;name&#x27;]);</span><br><span class="line">    echo &quot;你好, $name!&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;]); ?&gt;&quot;&gt;</span><br><span class="line">    姓名: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<p><code>htmlspecialchars($_SERVER[&quot;PHP_SELF&quot;])</code>避免XSS</p>
<h4 id="使用-php-验证表单数据"><a class="markdownIt-Anchor" href="#使用-php-验证表单数据"></a> 使用 PHP 验证表单数据</h4>
<p>首先我们对用户所有提交的数据都通过 PHP 的 htmlspecialchars() 函数处理。</p>
<p>当我们使用 htmlspecialchars() 函数时，在用户尝试提交以下文本域:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;location.href(&#x27;http://www.runoob.com&#x27;)&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>该代码将不会被执行，因为它会被保存为HTML转义代码，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;script&amp;gt;location.href(&#x27;http://www.runoob.com&#x27;)&amp;lt;/script&amp;gt;</span><br></pre></td></tr></table></figure>
<p>以上代码是安全的，可以正常在页面显示或者插入邮件中。</p>
<p>当用户提交表单时，我们将做以下两件事情：</p>
<ol>
<li>使用 PHP <strong>trim() 函数</strong>去除用户输入数据中不必要的字符 (如：空格，tab，换行)。</li>
<li>使用PHP <strong>stripslashes()函数</strong>去除用户输入数据中的反斜杠 (<code>\</code>)</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 定义变量并默认设置为空值</span><br><span class="line">$name = $email = $gender = $comment = $website = &quot;&quot;;</span><br><span class="line"> </span><br><span class="line">if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;)</span><br><span class="line">&#123;</span><br><span class="line">  $name = test_input($_POST[&quot;name&quot;]);</span><br><span class="line">  $email = test_input($_POST[&quot;email&quot;]);</span><br><span class="line">  $website = test_input($_POST[&quot;website&quot;]);</span><br><span class="line">  $comment = test_input($_POST[&quot;comment&quot;]);</span><br><span class="line">  $gender = test_input($_POST[&quot;gender&quot;]);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">function test_input($data)</span><br><span class="line">&#123;</span><br><span class="line">  $data = trim($data);</span><br><span class="line">  $data = stripslashes($data);</span><br><span class="line">  $data = htmlspecialchars($data);</span><br><span class="line">  return $data;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="php-表单-必需字段"><a class="markdownIt-Anchor" href="#php-表单-必需字段"></a> PHP 表单 - 必需字段</h3>
<h4 id="php-必需字段"><a class="markdownIt-Anchor" href="#php-必需字段"></a> PHP - 必需字段</h4>
<table>
<thead>
<tr>
<th style="text-align:left">字段</th>
<th style="text-align:left">验证规则</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">名字</td>
<td style="text-align:left">必需。 + 只能包含字母和空格</td>
</tr>
<tr>
<td style="text-align:left">E-mail</td>
<td style="text-align:left">必需。 + 必需包含一个有效的电子邮件地址（包含&quot;@“和”.&quot;）</td>
</tr>
<tr>
<td style="text-align:left">网址</td>
<td style="text-align:left">可选。 如果存在，它必需包含一个有效的URL</td>
</tr>
<tr>
<td style="text-align:left">备注</td>
<td style="text-align:left">可选。多行字段（文本域）。</td>
</tr>
<tr>
<td style="text-align:left">性别</td>
<td style="text-align:left">必需。必需选择一个。</td>
</tr>
</tbody>
</table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 定义变量并默认设为空值</span><br><span class="line">$nameErr= &quot;&quot;;</span><br><span class="line">$name= &quot;&quot;;</span><br><span class="line"></span><br><span class="line">if ($_SERVER[&quot;REQUEST_METHOD&quot;] == &quot;POST&quot;) &#123;</span><br><span class="line">  if (empty($_POST[&quot;name&quot;])) &#123;</span><br><span class="line">    $nameErr = &quot;名字是必需的。&quot;;</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    $name = test_input($_POST[&quot;name&quot;]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="php-显示错误信息"><a class="markdownIt-Anchor" href="#php-显示错误信息"></a> PHP - 显示错误信息</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=&quot;post&quot; action=&quot;&lt;?php echo htmlspecialchars($_SERVER[&#x27;PHP_SELF&#x27;]);?&gt;&quot;&gt; </span><br><span class="line">   名字: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span><br><span class="line">   &lt;span class=&quot;error&quot;&gt;* &lt;?php echo $nameErr;?&gt;&lt;/span&gt;</span><br><span class="line">   &lt;br&gt;&lt;br&gt;</span><br><span class="line">   &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;Submit&quot;&gt; </span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!IMPORTANT]</p>
<p><code>&lt;span class=&quot;error&quot;&gt;* &lt;?php echo $nameErr;?&gt;&lt;/span&gt;</code> 是用来在 HTML 页面中动态显示表单验证的错误提示消息的</p>
<p>如果 <code>$nameErr</code> 为空，则此部分不会显示内容。</p>
<p>如果 <code>$nameErr</code> 包含错误消息，会在页面中显示，例如：<code>名字是必填项</code></p>
</blockquote>
<h3 id="php-表单-验证邮件和url"><a class="markdownIt-Anchor" href="#php-表单-验证邮件和url"></a> PHP 表单 - 验证邮件和URL</h3>
<h4 id="php-验证名称"><a class="markdownIt-Anchor" href="#php-验证名称"></a> PHP - 验证名称</h4>
<p>以下代码将通过简单的方式来检测 name 字段是否包含字母和空格，如果 name 字段值不合法，将输出错误信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$name = test_input($_POST[&quot;name&quot;]);</span><br><span class="line">if (!preg_match(&quot;/^[a-zA-Z ]*$/&quot;,$name)) &#123;</span><br><span class="line">  $nameErr = &quot;只允许字母和空格&quot;; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!IMPORTANT]</p>
<h4 id="preg_match"><a class="markdownIt-Anchor" href="#preg_match"></a> preg_match</h4>
<p>进行正则表达式匹配</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int preg_match ( string $pattern , string $subject [, array $matches [, int $flags ]] )</span><br></pre></td></tr></table></figure>
<h5 id="正则表达式"><a class="markdownIt-Anchor" href="#正则表达式"></a> 正则表达式</h5>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://raw.githubusercontent.com/zkk1233/Picture/main/20250125083915517.png" alt="" /></p>
<p>preg_replace()可用于删除所有 HTML 标签</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$html = &quot;&lt;h1&gt;Title&lt;/h1&gt;&lt;p&gt;Content&lt;/p&gt;&quot;;</span><br><span class="line">$plainText = preg_replace(&quot;/&lt;[^&gt;]+&gt;/&quot;, &quot;&quot;, $html); // 替换所有 HTML 标签</span><br><span class="line">echo $plainText; // 输出 &quot;TitleContent&quot;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h5 id=""><a class="markdownIt-Anchor" href="#"></a> </h5>
</blockquote>
<h4 id="php-验证邮件"><a class="markdownIt-Anchor" href="#php-验证邮件"></a> PHP - 验证邮件</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$email = test_input($_POST[&quot;email&quot;]);</span><br><span class="line">if (!preg_match(&quot;/([\w\-]+\@[\w\-]+\.[\w\-]+)/&quot;,$email)) &#123;</span><br><span class="line">  $emailErr = &quot;非法邮箱格式&quot;; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>\w匹配任意字母、数字或下划线（[a-zA-Z0-9_]）</code></p>
<h4 id="php-验证-url"><a class="markdownIt-Anchor" href="#php-验证-url"></a> PHP - 验证 URL</h4>
<p>以下代码将检测URL地址是否合法 (以下正则表达式运行URL中含有破折号:“-”)， 如果 URL 地址不合法，将输出错误信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$website = test_input($_POST[&quot;website&quot;]);</span><br><span class="line">if (!preg_match(&quot;/\b(?:(?:https?|ftp):\/\/|www\.)[-a-z0-9+&amp;@#\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\/%=~_|]/i&quot;,$website)) &#123;</span><br><span class="line">  $websiteErr = &quot;非法的 URL 的地址&quot;; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="php-get和post变量"><a class="markdownIt-Anchor" href="#php-get和post变量"></a> PHP <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mi>E</mi><mi>T</mi><mtext>和</mtext></mrow><annotation encoding="application/x-tex">GET和</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord cjk_fallback">和</span></span></span></span>POST变量</h3>
<h4 id="_get-变量"><a class="markdownIt-Anchor" href="#_get-变量"></a> $_GET 变量</h4>
<p>预定义的 $_GET 变量用于收集来自 method=“get” 的表单中的值</p>
<p>从带有 GET 方法的表单发送的信息，对任何人都是<strong>可见</strong>的（会显示在浏览器的地址栏），并且对发送信息的量也有限制</p>
<p>在 HTML 表单中使用 method=“get” 时，所有的变量名和值都会显示在 URL 中，，因此可以在收藏夹中收藏该页面，但在发送密码或其他敏感信息时，不应该使用这个方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.runoob.com/welcome.php?fname=Runoob&amp;age=3</span><br></pre></td></tr></table></figure>
<h4 id="_post-变量"><a class="markdownIt-Anchor" href="#_post-变量"></a> $_POST 变量</h4>
<p>预定义的 $_POST 变量用于收集来自 method=“post” 的表单中的值</p>
<p>从带有 POST 方法的表单发送的信息，对任何人都是<strong>不可见</strong>的（不会显示在浏览器的地址栏），并且对<strong>发送信息的量也没有限制</strong></p>
<p>注释：然而，默认情况下，POST 方法的发送信息的量最大值为 8 MB（可通过设置 php.ini 文件中的 post_max_size 进行更改）</p>
<p>变量不显示在 URL 中，所以无法把页面加入书签</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.runoob.com/welcome.php</span><br></pre></td></tr></table></figure>
<h4 id="_request-变量"><a class="markdownIt-Anchor" href="#_request-变量"></a> $_REQUEST 变量</h4>
<p>预定义的 $_REQUEST 变量包含了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow></mrow><mi>G</mi></msub><mi>E</mi><mi>T</mi><mtext>、</mtext></mrow><annotation encoding="application/x-tex">_GET、</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">G</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord cjk_fallback">、</span></span></span></span>_POST 和 $_COOKIE 的内容。</p>
<p>$_REQUEST 变量可用来收集通过 GET 和 POST 方法发送的表单数据</p>
<h2 id="php-高级教程"><a class="markdownIt-Anchor" href="#php-高级教程"></a> PHP 高级教程</h2>
<h3 id="php-包含文件"><a class="markdownIt-Anchor" href="#php-包含文件"></a> PHP 包含文件</h3>
<p>用于将一个文件的内容插入到另一个文件中</p>
<h4 id="php-include-和-require-语句"><a class="markdownIt-Anchor" href="#php-include-和-require-语句"></a> PHP include 和 require 语句</h4>
<p>include 和 require 语句用于在执行流中插入写在其他文件中的有用的代码</p>
<p><strong>include 和 require 除了处理错误的方式不同之外，在其他方面都是相同的：</strong></p>
<p>require 生成一个致命错误（E_COMPILE_ERROR），在错误发生后脚本会停止执行。</p>
<p>include 生成一个警告（E_WARNING），在错误发生后脚本会继续执行。</p>
<p>因此，如果您希望继续执行，并向用户输出结果，即使包含文件已丢失，那么请使用 include。否则，在框架、CMS 或者复杂的 PHP 应用程序编程中，请始终使用 require 向执行流引用关键文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">include &#x27;filename&#x27;;</span><br><span class="line">或者</span><br><span class="line">require &#x27;filename&#x27;;</span><br></pre></td></tr></table></figure>
<h4 id="实例-2"><a class="markdownIt-Anchor" href="#实例-2"></a> 实例</h4>
<h5 id="1"><a class="markdownIt-Anchor" href="#1"></a> 1</h5>
<p>假设有一个标准的页头文件，名为 “header.php”。如需在页面中引用这个页头文件，请使用 include/require</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php include &#x27;header.php&#x27;; ?&gt;</span><br><span class="line">&lt;h1&gt;欢迎来到我的主页!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;一些文本。&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h5 id="2"><a class="markdownIt-Anchor" href="#2"></a> 2</h5>
<p>假设我们有一个在所有页面中使用的标准菜单文件。</p>
<p>“menu.php”:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;&lt;a href=&quot;/&quot;&gt;主页&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;/html&quot;&gt;HTML 教程&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;/php&quot;&gt;PHP 教程&lt;/a&gt;&#x27;;</span><br></pre></td></tr></table></figure>
<p>网站中的所有页面均应引用该菜单文件。以下是具体的做法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;leftmenu&quot;&gt;</span><br><span class="line">&lt;?php include &#x27;menu.php&#x27;; ?&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;h1&gt;欢迎来到我的主页!&lt;/h1&gt;</span><br><span class="line">&lt;p&gt;一些文本。&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h5 id="3"><a class="markdownIt-Anchor" href="#3"></a> 3</h5>
<p>假设我们有一个定义变量的包含文件（“vars.php”）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$color=&#x27;red&#x27;;</span><br><span class="line">$car=&#x27;BMW&#x27;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>这些变量可用在调用文件中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;欢迎来到我的主页!&lt;/h1&gt;</span><br><span class="line">&lt;?php </span><br><span class="line">include &#x27;vars.php&#x27;;</span><br><span class="line">echo &quot;I have a $color $car&quot;; // I have a red BMW</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="php-文件处理"><a class="markdownIt-Anchor" href="#php-文件处理"></a> PHP 文件处理</h3>
<h4 id="打开文件"><a class="markdownIt-Anchor" href="#打开文件"></a> 打开文件</h4>
<p>fopen() 函数用于在 PHP 中打开文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file=fopen(&quot;welcome.txt&quot;,&quot;r&quot;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>此函数的第一个参数含有要打开的文件的名称，第二个参数规定了使用哪种模式来打开文件</p>
<table>
<thead>
<tr>
<th style="text-align:left">模式</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">r</td>
<td style="text-align:left">只读。在文件的开头开始。</td>
</tr>
<tr>
<td style="text-align:left">r+</td>
<td style="text-align:left">读/写。在文件的开头开始。</td>
</tr>
<tr>
<td style="text-align:left">w</td>
<td style="text-align:left">只写。打开并清空文件的内容；如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td style="text-align:left">w+</td>
<td style="text-align:left">读/写。打开并清空文件的内容；如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td style="text-align:left">a</td>
<td style="text-align:left">追加。打开并向文件末尾进行写操作，如果文件不存在，则创建新文件。</td>
</tr>
<tr>
<td style="text-align:left">a+</td>
<td style="text-align:left">读/追加。通过向文件末尾写内容，来保持文件内容。</td>
</tr>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">只写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</td>
</tr>
<tr>
<td style="text-align:left">x+</td>
<td style="text-align:left">读/写。创建新文件。如果文件已存在，则返回 FALSE 和一个错误。</td>
</tr>
</tbody>
</table>
<p>如果 fopen() 函数无法打开指定文件，则返回 0 (false)，可通过下例生成一段消息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file=fopen(&quot;welcome.txt&quot;,&quot;r&quot;) or exit(&quot;Unable to open file!&quot;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="关闭文件"><a class="markdownIt-Anchor" href="#关闭文件"></a> 关闭文件</h4>
<p>fclose() 函数用于关闭打开的文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file = fopen(&quot;test.txt&quot;,&quot;r&quot;);</span><br><span class="line">//执行一些代码</span><br><span class="line">fclose($file);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="检测文件末尾eof"><a class="markdownIt-Anchor" href="#检测文件末尾eof"></a> 检测文件末尾（EOF）</h4>
<p>feof() 函数检测是否已到达文件末尾（EOF）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if (feof($file)) echo &quot;文件结尾&quot;;</span><br></pre></td></tr></table></figure>
<p>在 w 、a 和 x 模式下，无法读取打开的文件</p>
<h4 id="逐行读取文件"><a class="markdownIt-Anchor" href="#逐行读取文件"></a> 逐行读取文件</h4>
<p>fgets() 函数用于从文件中逐行读取文件，在调用该函数之后，文件指针会移动到下一行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file = fopen(&quot;welcome.txt&quot;, &quot;r&quot;) or exit(&quot;无法打开文件!&quot;);</span><br><span class="line">// 读取文件每一行，直到文件结尾</span><br><span class="line">while(!feof($file))</span><br><span class="line">&#123;</span><br><span class="line">    echo fgets($file). &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">fclose($file);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="逐字符读取文件"><a class="markdownIt-Anchor" href="#逐字符读取文件"></a> 逐字符读取文件</h4>
<p>fgetc() 函数用于从文件中逐字符地读取文件，在调用该函数之后，文件指针会移动到下一个字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$file=fopen(&quot;welcome.txt&quot;,&quot;r&quot;) or exit(&quot;无法打开文件!&quot;);</span><br><span class="line">while (!feof($file))</span><br><span class="line">&#123;</span><br><span class="line">    echo fgetc($file);</span><br><span class="line">&#125;</span><br><span class="line">fclose($file);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h3 id="php-文件上传"><a class="markdownIt-Anchor" href="#php-文件上传"></a> PHP 文件上传</h3>
<h4 id="创建一个文件上传表单"><a class="markdownIt-Anchor" href="#创建一个文件上传表单"></a> 创建一个文件上传表单</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">&lt;title&gt;菜鸟教程(runoob.com)&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=&quot;upload_file.php&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span><br><span class="line">    &lt;label for=&quot;file&quot;&gt;文件名：&lt;/label&gt;</span><br><span class="line">    &lt;input type=&quot;file&quot; name=&quot;file&quot; id=&quot;file&quot;&gt;&lt;br&gt;</span><br><span class="line">    &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!IMPORTANT]</p>
<h4 id="enctype"><a class="markdownIt-Anchor" href="#enctype"></a> enctype</h4>
<p>在 HTML 表单中，<code>enctype</code> 属性用于指定表单数据在发送到服务器时的编码类型。这个属性主要在使用 <code>POST</code> 方法时生效，决定了表单中数据如何被格式化。下面是常用的enctype值：</p>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>application/x-www-form-urlencoded</code></td>
<td>默认值。表单数据会被编码为键值对（键和值通过 <code>=</code> 连接，不同键值对通过 <code>&amp;</code> 连接）<strong>以 URL 编码的形式发送到服务器</strong>。适用于普通表单（比如文本输入）</td>
</tr>
<tr>
<td><code>multipart/form-data</code></td>
<td>用于<strong>上传文件</strong>时。数据会以分段形式进行编码，每段包含一个表单控件的数据。<strong>必须在表单中使用 <code>method=&quot;post&quot;</code> 和 <code>enctype=&quot;multipart/form-data&quot;</code> 才能上传文件</strong></td>
</tr>
<tr>
<td><code>text/plain</code></td>
<td>表单数据以纯文本形式进行编码（键值对以 <code>=</code> 连接，不同键值对通过换行符分隔）<strong>不会对特殊字符进行编码</strong></td>
</tr>
</tbody>
</table>
</blockquote>
<p><code>&lt;input&gt;</code> 标签的 <strong>type=“file”</strong> 属性规定了应该把输入作为文件来处理。举例来说，当在浏览器中预览时，会看到输入框旁边有一个浏览按钮。</p>
<h4 id="创建上传脚本"><a class="markdownIt-Anchor" href="#创建上传脚本"></a> 创建上传脚本</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;错误：&quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;上传文件名: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;文件类型: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;文件大小: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] / 1024) . &quot; kB&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;文件临时存储的位置: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;];</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>通过使用 PHP 的<strong>全局数组 $_FILES</strong>，可以从<strong>客户计算机向远程服务器上传文件</strong></p>
<blockquote>
<p>[!IMPORTANT]</p>
<h4 id="_files"><a class="markdownIt-Anchor" href="#_files"></a> $_FILES</h4>
<p>第一个参数是表单的 input name，第二个下标可以是 “name”、“type”、“size”、“tmp_name” 或 “error”</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>$_FILES['file']['name']</code></td>
<td>上传文件的原始名称（包括扩展名）</td>
<td><code>example.jpg</code></td>
</tr>
<tr>
<td><code>$_FILES['file']['type']</code></td>
<td>上传文件的 MIME 类型（例如 <code>image/jpeg</code>，<code>text/plain</code>）</td>
<td><code>image/jpeg</code></td>
</tr>
<tr>
<td><code>$_FILES['file']['size']</code></td>
<td>上传文件的大小，以字节为单位</td>
<td><code>102400</code> (100 KB)</td>
</tr>
<tr>
<td><code>$_FILES['file']['tmp_name']</code></td>
<td>文件上传后存储在服务器上的临时文件名</td>
<td>/<code>tmp/phpY9k1b9</code></td>
</tr>
<tr>
<td><code>$_FILES['file']['error']</code></td>
<td>上传过程中发生的错误代码</td>
<td><code>UPLOAD_ERR_OK</code> (0)</td>
</tr>
</tbody>
</table>
<h5 id="常见的error错误代码"><a class="markdownIt-Anchor" href="#常见的error错误代码"></a> 常见的error错误代码</h5>
<table>
<thead>
<tr>
<th>错误代码</th>
<th>说明</th>
<th>错误数字</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>UPLOAD_ERR_OK</code></td>
<td>文件上传成功</td>
<td>0</td>
</tr>
<tr>
<td><code>UPLOAD_ERR_INI_SIZE</code></td>
<td>上传的文件超过了 PHP 配置文件 <code>upload_max_filesize</code> 的限制</td>
<td>1</td>
</tr>
<tr>
<td><code>UPLOAD_ERR_FORM_SIZE</code></td>
<td>上传的文件超过了 HTML 表单设置的 <code>MAX_FILE_SIZE</code> 的限制</td>
<td>2</td>
</tr>
<tr>
<td><code>UPLOAD_ERR_PARTIAL</code></td>
<td>文件部分上传（可能由于网络中断等原因）</td>
<td>3</td>
</tr>
<tr>
<td><code>UPLOAD_ERR_NO_FILE</code></td>
<td>没有文件被上传</td>
<td>4</td>
</tr>
<tr>
<td><code>UPLOAD_ERR_NO_TMP_DIR</code></td>
<td>PHP 缺少临时文件夹</td>
<td>6</td>
</tr>
<tr>
<td><code>UPLOAD_ERR_CANT_WRITE</code></td>
<td>PHP 无法写入文件到磁盘</td>
<td>7</td>
</tr>
<tr>
<td><code>UPLOAD_ERR_EXTENSION</code></td>
<td>上传被 PHP 扩展程序阻止</td>
<td>8</td>
</tr>
</tbody>
</table>
</blockquote>
<h4 id="上传限制"><a class="markdownIt-Anchor" href="#上传限制"></a> 上传限制</h4>
<p>限制文件上传的格式（如.gif、.png）及上传文件的大小</p>
<h4 id="保存被上传的文件"><a class="markdownIt-Anchor" href="#保存被上传的文件"></a> 保存被上传的文件</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 允许上传的图片后缀</span><br><span class="line">$allowedExts = array(&quot;gif&quot;, &quot;jpeg&quot;, &quot;jpg&quot;, &quot;png&quot;);</span><br><span class="line">$temp = explode(&quot;.&quot;, $_FILES[&quot;file&quot;][&quot;name&quot;]);</span><br><span class="line">echo $_FILES[&quot;file&quot;][&quot;size&quot;];</span><br><span class="line">$extension = end($temp);     // 获取文件后缀名</span><br><span class="line">if ((($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/gif&quot;)</span><br><span class="line">|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpeg&quot;)</span><br><span class="line">|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/jpg&quot;)</span><br><span class="line">|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/pjpeg&quot;)</span><br><span class="line">|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/x-png&quot;)</span><br><span class="line">|| ($_FILES[&quot;file&quot;][&quot;type&quot;] == &quot;image/png&quot;))</span><br><span class="line">&amp;&amp; ($_FILES[&quot;file&quot;][&quot;size&quot;] &lt; 204800)   // 小于 200 kb</span><br><span class="line">&amp;&amp; in_array($extension, $allowedExts))</span><br><span class="line">&#123;</span><br><span class="line">    if ($_FILES[&quot;file&quot;][&quot;error&quot;] &gt; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        echo &quot;错误：: &quot; . $_FILES[&quot;file&quot;][&quot;error&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    else</span><br><span class="line">    &#123;</span><br><span class="line">        echo &quot;上传文件名: &quot; . $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件类型: &quot; . $_FILES[&quot;file&quot;][&quot;type&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件大小: &quot; . ($_FILES[&quot;file&quot;][&quot;size&quot;] / 1024) . &quot; kB&lt;br&gt;&quot;;</span><br><span class="line">        echo &quot;文件临时存储的位置: &quot; . $_FILES[&quot;file&quot;][&quot;tmp_name&quot;] . &quot;&lt;br&gt;&quot;;</span><br><span class="line">        </span><br><span class="line">        // 判断当前目录下的 upload 目录是否存在该文件</span><br><span class="line">        // 如果没有 upload 目录，你需要创建它，upload 目录权限为 777</span><br><span class="line">        if (file_exists(&quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]))</span><br><span class="line">        &#123;</span><br><span class="line">            echo $_FILES[&quot;file&quot;][&quot;name&quot;] . &quot; 文件已经存在。 &quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            // 如果 upload 目录不存在该文件则将文件上传到 upload 目录下</span><br><span class="line">            move_uploaded_file($_FILES[&quot;file&quot;][&quot;tmp_name&quot;], &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;]);</span><br><span class="line">            echo &quot;文件存储在: &quot; . &quot;upload/&quot; . $_FILES[&quot;file&quot;][&quot;name&quot;];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">    echo &quot;非法的文件格式&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!IMPORTANT]</p>
<h4 id="in_arrayextension-allowedexts"><a class="markdownIt-Anchor" href="#in_arrayextension-allowedexts"></a> <code>in_array($extension, $allowedExts)</code></h4>
<p>用于检查文件扩展名是否在允许的扩展名列表中</p>
<p><code>$extension</code>，即文件扩展名，<code>$allowedExts</code>，即允许的扩展名列表</p>
</blockquote>
<h3 id="php-cookie"><a class="markdownIt-Anchor" href="#php-cookie"></a> PHP Cookie</h3>
<p>cookie 常用于识别用户</p>
<p>cookie 是一种服务器留在用户计算机上的小文件。每当同一台计算机通过浏览器请求页面时，这台计算机将会发送 cookie</p>
<h4 id="创建cookie"><a class="markdownIt-Anchor" href="#创建cookie"></a> 创建Cookie</h4>
<p>setcookie() 函数用于设置 cookie，setcookie() 函数必须位于 <code>&lt;html&gt;</code> 标签之前</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setcookie(name, value, expire, path, domain);</span><br></pre></td></tr></table></figure>
<h5 id="实例-3"><a class="markdownIt-Anchor" href="#实例-3"></a> 实例</h5>
<p>创建名为 “user” 的 cookie，并为它赋值 “runoob”，规定了此 cookie 在一小时后过期</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">setcookie(&quot;user&quot;, &quot;runoob&quot;, time()+3600);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">.....</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!CAUTION]</p>
<p>在发送 cookie 时，cookie 的值会自动进行 URL 编码，在取回时进行自动解码（为防止 URL 编码，请使用 <code>setrawcookie()</code> 取而代之）</p>
</blockquote>
<blockquote>
<p>[!TIP]</p>
<p>可以通过另一种方式设置 cookie 的过期时间（比使用秒表示的方法简单）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$expire=time()+60*60*24*30;</span><br><span class="line">setcookie(&quot;user&quot;, &quot;runoob&quot;, $expire);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>在上面的实例中，过期时间被设置为一个月（<em>60 秒 * 60 分 * 24 小时 * 30 天</em>）</p>
</blockquote>
<h4 id="取回cookie的值"><a class="markdownIt-Anchor" href="#取回cookie的值"></a> 取回Cookie的值</h4>
<p>PHP 的 <code>$_COOKIE</code> 变量用于取回 cookie 的值</p>
<p>在下面的实例中，我们取回了名为 “user” 的 cookie 的值，并把它显示在了页面上：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 输出 cookie 值</span><br><span class="line">echo $_COOKIE[&quot;user&quot;];</span><br><span class="line"></span><br><span class="line">// 查看所有 cookie</span><br><span class="line">print_r($_COOKIE);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<p>在下面的实例中，我们使用 isset() 函数来确认是否已设置了 cookie：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if (isset($_COOKIE[&quot;user&quot;]))</span><br><span class="line">    echo &quot;欢迎 &quot; . $_COOKIE[&quot;user&quot;] . &quot;!&lt;br&gt;&quot;;</span><br><span class="line">else</span><br><span class="line">    echo &quot;普通访客!&lt;br&gt;&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="删除cookie"><a class="markdownIt-Anchor" href="#删除cookie"></a> 删除Cookie</h4>
<p>当删除 cookie 时，应当使过期日期变更为过去的时间点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// 设置 cookie 过期时间为过去 1 小时</span><br><span class="line">setcookie(&quot;user&quot;, &quot;&quot;, time()-3600);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="浏览器不支持cookie"><a class="markdownIt-Anchor" href="#浏览器不支持cookie"></a> 浏览器不支持Cookie</h4>
<p>一种解决方式是通过表单传递数据</p>
<h3 id="php-session"><a class="markdownIt-Anchor" href="#php-session"></a> PHP Session</h3>
<p>PHP session 变量用于<strong>存储关于用户会话（session）的信息</strong>，或者<strong>更改用户会话（session）的设置</strong>。Session 变量存储单一用户的信息，并且对于应用程序中的所有页面都是可用的</p>
<p>与 Cookie 不同，Session 的数据存储在<strong>服务器</strong>上</p>
<p>Session 的工作机制是：为每个访客创建一个<strong>唯一</strong>的 id (UID)，并基于这个 UID 来存储变量。UID 存储在 cookie 中，或者通过 URL 进行传导。</p>
<h4 id="开始php-session"><a class="markdownIt-Anchor" href="#开始php-session"></a> 开始PHP Session</h4>
<p>把用户信息存储到 PHP session 中之前，首先必须启动会话。</p>
<p>注：session_start() 函数必须位于 <code>&lt;html&gt;</code> 标签之前：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php session_start(); ?&gt;</span><br><span class="line"> </span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>上面的代码会向服务器注册用户的会话，以便可以开始保存用户信息，同时会为用户会话分配一个 UID</p>
<h4 id="存储和读取-session-数据"><a class="markdownIt-Anchor" href="#存储和读取-session-数据"></a> 存储和读取 Session 数据</h4>
<p>使用 PHP $_SESSION 变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">// 读取 Session 数据</span><br><span class="line">if (isset($_SESSION[&#x27;username&#x27;])) &#123;</span><br><span class="line">    echo &quot;用户名: &quot; . $_SESSION[&#x27;username&#x27;]; // 输出: 用户名: Alice</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    echo &quot;用户名未设置。&quot;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h4 id="销毁session"><a class="markdownIt-Anchor" href="#销毁session"></a> 销毁Session</h4>
<p>可以使用 unset() 或 session_destroy() 函数删除某些 session 数据</p>
<h5 id="unset"><a class="markdownIt-Anchor" href="#unset"></a> unset()</h5>
<p>删除 <code>$_SESSION</code> 里的指定数据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">if(isset($_SESSION[&#x27;views&#x27;]))</span><br><span class="line">&#123;</span><br><span class="line">    unset($_SESSION[&#x27;views&#x27;]);</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h5 id="session_unset"><a class="markdownIt-Anchor" href="#session_unset"></a> session_unset()</h5>
<p>清空所有会话数据但保留会话本身（即不会删除 Session ID 或终止会话）</p>
<h5 id="session_destroy"><a class="markdownIt-Anchor" href="#session_destroy"></a> session_destroy()</h5>
<p>终止会话并删除服务器端的会话数据（如存储在 <code>$_SESSION</code> 中的所有数据）然而，<strong>它不会立即清空 <code>$_SESSION</code> 数组中的数据</strong>，也不会删除客户端的 Session ID Cookie</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_destroy();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>[!TIP]</p>
<p>如果 <code>session_destroy()</code> 后还需要删除客户端的会话 Cookie</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setcookie(session_name(), &#x27;&#x27;, time() - 3600); // 删除客户端 Cookie</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start(); // 开启会话</span><br><span class="line"></span><br><span class="line">// 清空所有 Session 数据</span><br><span class="line">session_unset();</span><br><span class="line"></span><br><span class="line">// 销毁会话</span><br><span class="line">session_destroy();</span><br><span class="line"></span><br><span class="line">// 删除客户端的 Session ID Cookie</span><br><span class="line">if (ini_get(&quot;session.use_cookies&quot;)) &#123;</span><br><span class="line">    $params = session_get_cookie_params();</span><br><span class="line">    setcookie(session_name(), &#x27;&#x27;, time() - 3600, </span><br><span class="line">        $params[&quot;path&quot;], $params[&quot;domain&quot;], </span><br><span class="line">        $params[&quot;secure&quot;], $params[&quot;httponly&quot;]</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">echo &quot;会话已销毁，客户端的 Session Cookie 已删除。&quot;;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h2 id="php-数据库"><a class="markdownIt-Anchor" href="#php-数据库"></a> PHP 数据库</h2>

<div class="article-footer fs14">
    <section id="license">
      <div class="header"><span>许可协议</span></div>
      <div class="body"><p>本文采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">署名-非商业性使用-相同方式共享 4.0 国际</a> 许可协议，转载请注明出处。</p>
</div>
    </section>
    </div>
</article>
<div class="related-wrap" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">较新文章</div><a href="/2025/07/09/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">PHP反序列化</a></div><div class="item" id="next"><div class="note">较早文章</div><a href="/2025/07/09/MySQL/">MySQL</a></div></section></div>




  <div class="related-wrap md-text" id="comments">
    <section class='header cmt-title cap theme'>
      <p>快来参与讨论吧~</p>

    </section>
    <section class='body cmt-body twikoo'>
      

<div id="twikoo_container"><svg class="loading" style="vertical-align:middle;fill:currentColor;overflow:hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>
    </section>
  </div>



<footer class="page-footer footnote"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs15">博客</span><a href="/">近期</a><a href="/">分类</a><a href="/">标签</a><a href="/">归档</a></div><div class="sitemap-group"><span class="fs15">项目</span><a href="/">开源库</a></div><div class="sitemap-group"><span class="fs15">社交</span><a href="/">友链</a><a href="/">留言板</a></div><div class="sitemap-group"><span class="fs15">更多</span><a href="/">关于本站</a><a href="/">GitHub</a></div></div><div class="text"><p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://gcore.jsdelivr.net/gh/cdn-x/emoji@3.1/blobcat/bouncefast.gif" alt="猫猫🐱" style="float: right; width: 80px; margin-left: 0px;"></img></p>
<center>
<br><br>
  <div>
    <div>
      © 2025 
      <a style="font-weight:700" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/ikunmma">子非鲲</a> 
      使用
      <a style="font-weight:700" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/xaoxuu/hexo-theme-stellar">Stellar </a>
      创建
      <br>
      <span id="runtime_span"></span>
    </div>
    <script type="text/javascript">
    function show_runtime() {
      window.setTimeout("show_runtime()", 1000);
      X = new Date("5/1/2025 00:00:00 ");
      Y = new Date();
      T = (Y.getTime() - X.getTime());
      M = 24 * 60 * 60 * 1000;
      a = T / M;
      A = Math.floor(a);
      b = (a - A) * 24;
      B = Math.floor(b);
      c = (b - B) * 60;
      C = Math.floor((b - B) * 60);
      D = Math.floor((c - C) * 60);
      runtime_span.innerHTML = "💥 本站已运行 " + A + "天|" + B + "小时|" + C + "分|" + D + "秒 💥"
    }
    show_runtime();
    </script>
  </div>
</center>
<div class="totalcount" style="text-align:center"> 共发表 43 篇 Blog · <span class="post-count" > 总计 108.3k 字 </span></div></div></footer>
<div class="main-mask" onclick="sidebar.dismiss()"></div></div><aside class="l_right">
<div class="widgets">



<widget class="widget-wrapper toc" id="data-toc" collapse="false"><div class="widget-header dis-select"><span class="name">本文目录</span><a class="cap-action" onclick="sidebar.toggleTOC()" ><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg></a></div><div class="widget-body"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#php%E8%B6%85%E6%96%87%E6%9C%AC%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E8%84%9A%E6%9C%AC%E8%AF%AD%E8%A8%80"><span class="toc-text"> PHP(超文本预处理器，服务器端脚本语言)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#php%E5%9F%BA%E7%A1%80"><span class="toc-text"> PHP基础</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E5%8A%9F%E8%83%BD"><span class="toc-text"> PHP功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E8%AF%AD%E6%B3%95"><span class="toc-text"> PHP语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E5%8F%98%E9%87%8F"><span class="toc-text"> PHP变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php-global-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text"> PHP global 关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#static-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text"> Static 作用域</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-echo-%E5%92%8C-print-%E8%AF%AD%E5%8F%A5"><span class="toc-text"> PHP echo 和 print 语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#echo%E4%BA%8Eprint%E5%8C%BA%E5%88%AB"><span class="toc-text"> echo于print区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#echo%E8%AF%AD%E5%8F%A5"><span class="toc-text"> echo语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#print%E8%AF%AD%E5%8F%A5"><span class="toc-text"> print语句</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-eofheredoc"><span class="toc-text"> PHP EOF(heredoc)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text"> PHP数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text"> PHP字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php%E6%95%B4%E5%9E%8B"><span class="toc-text"> PHP整型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php%E5%B8%83%E5%B0%94%E5%9E%8B"><span class="toc-text"> PHP布尔型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php%E6%95%B0%E7%BB%84"><span class="toc-text"> PHP数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php%E5%AF%B9%E8%B1%A1%E9%9A%BE%E7%90%86%E8%A7%A3"><span class="toc-text"> PHP对象（难理解）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-null%E5%80%BC"><span class="toc-text"> PHP NULL值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php%E8%B5%84%E6%BA%90%E7%B1%BB%E5%9E%8B"><span class="toc-text"> PHP资源类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E7%B1%BB%E5%9E%8B%E6%AF%94%E8%BE%83"><span class="toc-text"> PHP类型比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E5%B8%B8%E9%87%8F"><span class="toc-text"> PHP常量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8-define-%E5%87%BD%E6%95%B0"><span class="toc-text"> 用 define() 函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8const-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text"> 用const 关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F"><span class="toc-text"> 预定义常量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F"><span class="toc-text"> PHP字符串变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E4%B8%AD%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F"><span class="toc-text"> PHP 中的字符串变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E5%B9%B6%E7%BD%AE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> PHP 并置运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-strlen-%E5%87%BD%E6%95%B0"><span class="toc-text"> PHP strlen() 函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-strpos-%E5%87%BD%E6%95%B0"><span class="toc-text"> PHP strpos() 函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> PHP运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> 算术运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> 赋值运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%92%E5%A2%9E%E9%80%92%E5%87%8F%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> 递增&#x2F;递减运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> 比较运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> 逻辑运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> 数组运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%85%83%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text"> 三元运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E6%AF%94%E8%BE%83%E7%AC%A6php7"><span class="toc-text"> 组合比较符(PHP7+)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text"> 运算符优先级</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text"> PHP 条件语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E6%95%B0%E7%BB%84-2"><span class="toc-text"> PHP数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-text"> 获取数组的长度</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%95%B0%E5%80%BC%E6%95%B0%E7%BB%84"><span class="toc-text"> 遍历数值数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84"><span class="toc-text"> PHP 关联数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84"><span class="toc-text"> 遍历关联数组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#foreach"><span class="toc-text"> foreach</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text"> 基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84"><span class="toc-text"> 遍历数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84%E7%9A%84%E9%94%AE%E5%80%BC%E5%AF%B9"><span class="toc-text"> 遍历数组的键值对</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-text"> 实例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E6%95%B0%E7%BB%84"><span class="toc-text"> 简单数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84"><span class="toc-text"> 关联数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E6%95%B0%E7%BB%84"><span class="toc-text"> 嵌套数组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1"><span class="toc-text"> 遍历对象</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%8E%92%E5%BA%8F"><span class="toc-text"> 数组排序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#sort"><span class="toc-text"> sort()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#rsort"><span class="toc-text"> rsort()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#asort"><span class="toc-text"> asort()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#arsort"><span class="toc-text"> arsort()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ksort"><span class="toc-text"> ksort()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#krsort"><span class="toc-text"> krsort()</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E8%B6%85%E7%BA%A7%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text"> PHP 超级全局变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php-globals"><span class="toc-text"> PHP $GLOBALS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-_server"><span class="toc-text"> PHP $_SERVER</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-_request"><span class="toc-text"> PHP $_REQUEST</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-_post"><span class="toc-text"> PHP $_POST</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-_get"><span class="toc-text"> PHP $_GET</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E5%BE%AA%E7%8E%AF"><span class="toc-text"> PHP循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E9%9A%BE%E7%90%86%E8%A7%A3"><span class="toc-text"> PHP面向对象（难理解）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E6%A6%82%E5%BF%B5"><span class="toc-text"> 关键概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BBclass"><span class="toc-text"> 类（class）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%BD%93%E5%89%8D%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text"> 类，对象，当前对象的关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1object"><span class="toc-text"> 对象（object）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%B0%81%E8%A3%85encapsulation"><span class="toc-text"> 访问控制&#x2F;封装（encapsulation）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-text"> 属性的访问控制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-text"> 方法的访问控制</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%A7%E6%89%BFextends"><span class="toc-text"> 继承（extends）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%87%8D%E5%86%99"><span class="toc-text"> 方法重写</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E7%82%B9"><span class="toc-text"> 关键点</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-text"> 基本用法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#parent-%E5%85%B3%E9%94%AE%E5%AD%97%E8%B0%83%E7%94%A8%E7%88%B6%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-text"> parent:: 关键字调用父类方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#final-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text"> Final 关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%80%81polymorphism"><span class="toc-text"> 多态（polymorphism）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%BD%E8%B1%A1%E7%B1%BBabstract"><span class="toc-text"> 抽象类（abstract）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3interface"><span class="toc-text"> 接口（interface）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%88%90%E5%91%98static"><span class="toc-text"> 静态成员（Static）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-text"> 魔术方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#php%E8%A1%A8%E5%8D%95"><span class="toc-text"> PHP表单</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E8%A1%A8%E5%8D%95%E5%92%8C%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5"><span class="toc-text"> PHP表单和用户输入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E8%A1%A8%E5%8D%95%E5%A4%84%E7%90%86"><span class="toc-text"> PHP 表单处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E8%8E%B7%E5%8F%96%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-text"> PHP 获取下拉菜单的数据</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#php-%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E5%8D%95%E9%80%89"><span class="toc-text"> PHP 下拉菜单单选</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#htmlspecialchars_getq-%E6%98%AF%E4%B8%80%E7%A7%8D%E9%98%B2%E6%AD%A2-%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BBxss-%E7%9A%84%E5%AE%89%E5%85%A8%E6%8E%AA%E6%96%BD"><span class="toc-text"> htmlspecialchars($_GET[&#39;q&#39;]) 是一种防止 跨站脚本攻击XSS 的安全措施</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php%E4%B8%8Ehtml%E5%88%87%E6%8D%A2"><span class="toc-text"> php与html切换</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#php-%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95%E5%A4%9A%E9%80%89"><span class="toc-text"> PHP 下拉菜单多选</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E9%80%89%E6%8C%89%E9%92%AE%E8%A1%A8%E5%8D%95"><span class="toc-text"> 单选按钮表单</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#checkbox-%E5%A4%8D%E9%80%89%E6%A1%86"><span class="toc-text"> checkbox 复选框</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E8%A1%A8%E5%8D%95%E9%AA%8C%E8%AF%81"><span class="toc-text"> PHP 表单验证</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_serverphp_self-%E5%8F%98%E9%87%8F"><span class="toc-text"> $_SERVER[“PHP_SELF”] 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-text"> 基本使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E8%87%AA%E6%8F%90%E4%BA%A4"><span class="toc-text"> 表单自提交</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-php-%E9%AA%8C%E8%AF%81%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-text"> 使用 PHP 验证表单数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E8%A1%A8%E5%8D%95-%E5%BF%85%E9%9C%80%E5%AD%97%E6%AE%B5"><span class="toc-text"> PHP 表单 - 必需字段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E5%BF%85%E9%9C%80%E5%AD%97%E6%AE%B5"><span class="toc-text"> PHP - 必需字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E6%98%BE%E7%A4%BA%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF"><span class="toc-text"> PHP - 显示错误信息</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E8%A1%A8%E5%8D%95-%E9%AA%8C%E8%AF%81%E9%82%AE%E4%BB%B6%E5%92%8Curl"><span class="toc-text"> PHP 表单 - 验证邮件和URL</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E9%AA%8C%E8%AF%81%E5%90%8D%E7%A7%B0"><span class="toc-text"> PHP - 验证名称</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#preg_match"><span class="toc-text"> preg_match</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-text"> 正则表达式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text"> </span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E9%AA%8C%E8%AF%81%E9%82%AE%E4%BB%B6"><span class="toc-text"> PHP - 验证邮件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#php-%E9%AA%8C%E8%AF%81-url"><span class="toc-text"> PHP - 验证 URL</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-get%E5%92%8Cpost%E5%8F%98%E9%87%8F"><span class="toc-text"> PHP GET和GET和GET和POST变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#_get-%E5%8F%98%E9%87%8F"><span class="toc-text"> $_GET 变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_post-%E5%8F%98%E9%87%8F"><span class="toc-text"> $_POST 变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_request-%E5%8F%98%E9%87%8F"><span class="toc-text"> $_REQUEST 变量</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#php-%E9%AB%98%E7%BA%A7%E6%95%99%E7%A8%8B"><span class="toc-text"> PHP 高级教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E5%8C%85%E5%90%AB%E6%96%87%E4%BB%B6"><span class="toc-text"> PHP 包含文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#php-include-%E5%92%8C-require-%E8%AF%AD%E5%8F%A5"><span class="toc-text"> PHP include 和 require 语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-2"><span class="toc-text"> 实例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1"><span class="toc-text"> 1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2"><span class="toc-text"> 2</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3"><span class="toc-text"> 3</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-text"> PHP 文件处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-text"> 打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="toc-text"> 关闭文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E6%96%87%E4%BB%B6%E6%9C%AB%E5%B0%BEeof"><span class="toc-text"> 检测文件末尾（EOF）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%90%E8%A1%8C%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-text"> 逐行读取文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%90%E5%AD%97%E7%AC%A6%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6"><span class="toc-text"> 逐字符读取文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-text"> PHP 文件上传</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E8%A1%A8%E5%8D%95"><span class="toc-text"> 创建一个文件上传表单</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#enctype"><span class="toc-text"> enctype</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%8A%E4%BC%A0%E8%84%9A%E6%9C%AC"><span class="toc-text"> 创建上传脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#_files"><span class="toc-text"> $_FILES</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84error%E9%94%99%E8%AF%AF%E4%BB%A3%E7%A0%81"><span class="toc-text"> 常见的error错误代码</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E9%99%90%E5%88%B6"><span class="toc-text"> 上传限制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E8%A2%AB%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6"><span class="toc-text"> 保存被上传的文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#in_arrayextension-allowedexts"><span class="toc-text"> in_array($extension, $allowedExts)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-cookie"><span class="toc-text"> PHP Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAcookie"><span class="toc-text"> 创建Cookie</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B-3"><span class="toc-text"> 实例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%96%E5%9B%9Ecookie%E7%9A%84%E5%80%BC"><span class="toc-text"> 取回Cookie的值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4cookie"><span class="toc-text"> 删除Cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%8D%E6%94%AF%E6%8C%81cookie"><span class="toc-text"> 浏览器不支持Cookie</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#php-session"><span class="toc-text"> PHP Session</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%A7%8Bphp-session"><span class="toc-text"> 开始PHP Session</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%92%8C%E8%AF%BB%E5%8F%96-session-%E6%95%B0%E6%8D%AE"><span class="toc-text"> 存储和读取 Session 数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%94%80%E6%AF%81session"><span class="toc-text"> 销毁Session</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#unset"><span class="toc-text"> unset()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#session_unset"><span class="toc-text"> session_unset()</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#session_destroy"><span class="toc-text"> session_destroy()</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#php-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text"> PHP 数据库</span></a></li></ol></li></ol></div><div class="widget-footer">

<a class="top" onclick="util.scrollTop()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12c0-4.714 0-7.071 1.464-8.536C4.93 2 7.286 2 12 2c4.714 0 7.071 0 8.535 1.464C22 4.93 22 7.286 22 12c0 4.714 0 7.071-1.465 8.535C19.072 22 16.714 22 12 22s-7.071 0-8.536-1.465C2 19.072 2 16.714 2 12Z"/><path stroke-linecap="round" stroke-linejoin="round" d="m9 15.5l3-3l3 3m-6-4l3-3l3 3"/></g></svg><span>回到顶部</span></a><a class="buttom" onclick="util.scrollComment()"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M10.46 1.25h3.08c1.603 0 2.86 0 3.864.095c1.023.098 1.861.3 2.6.752a5.75 5.75 0 0 1 1.899 1.899c.452.738.654 1.577.752 2.6c.095 1.004.095 2.261.095 3.865v1.067c0 1.141 0 2.036-.05 2.759c-.05.735-.153 1.347-.388 1.913a5.75 5.75 0 0 1-3.112 3.112c-.805.334-1.721.408-2.977.43a10.81 10.81 0 0 0-.929.036c-.198.022-.275.054-.32.08c-.047.028-.112.078-.224.232c-.121.166-.258.396-.476.764l-.542.916c-.773 1.307-2.69 1.307-3.464 0l-.542-.916a10.605 10.605 0 0 0-.476-.764c-.112-.154-.177-.204-.224-.232c-.045-.026-.122-.058-.32-.08c-.212-.023-.49-.03-.93-.037c-1.255-.021-2.171-.095-2.976-.429A5.75 5.75 0 0 1 1.688 16.2c-.235-.566-.338-1.178-.389-1.913c-.049-.723-.049-1.618-.049-2.76v-1.066c0-1.604 0-2.86.095-3.865c.098-1.023.3-1.862.752-2.6a5.75 5.75 0 0 1 1.899-1.899c.738-.452 1.577-.654 2.6-.752C7.6 1.25 8.857 1.25 10.461 1.25M6.739 2.839c-.914.087-1.495.253-1.959.537A4.25 4.25 0 0 0 3.376 4.78c-.284.464-.45 1.045-.537 1.96c-.088.924-.089 2.11-.089 3.761v1c0 1.175 0 2.019.046 2.685c.045.659.131 1.089.278 1.441a4.25 4.25 0 0 0 2.3 2.3c.515.214 1.173.294 2.429.316h.031c.398.007.747.013 1.037.045c.311.035.616.104.909.274c.29.17.5.395.682.645c.169.232.342.525.538.856l.559.944a.52.52 0 0 0 .882 0l.559-.944c.196-.331.37-.624.538-.856c.182-.25.392-.476.682-.645c.293-.17.598-.24.909-.274c.29-.032.639-.038 1.037-.045h.032c1.255-.022 1.913-.102 2.428-.316a4.25 4.25 0 0 0 2.3-2.3c.147-.352.233-.782.278-1.441c.046-.666.046-1.51.046-2.685v-1c0-1.651 0-2.837-.089-3.762c-.087-.914-.253-1.495-.537-1.959a4.25 4.25 0 0 0-1.403-1.403c-.464-.284-1.045-.45-1.96-.537c-.924-.088-2.11-.089-3.761-.089h-3c-1.651 0-2.837 0-3.762.089" clip-rule="evenodd"/><path fill="currentColor" d="M9 11a1 1 0 1 1-2 0a1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0a1 1 0 0 1 2 0"/></svg><span>参与讨论</span></a></div></widget>
</div></aside><div class='float-panel blur'>
  <button type='button' style='display:none' class='laptop-only rightbar-toggle mobile' onclick='sidebar.rightbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6h11m-11 6h11m-11 6h11M4 6h1v4m-1 0h2m0 8H4c0-1 2-2 2-3s-1-1.5-2-1"/></svg>
  </button>
  <button type='button' style='display:none' class='mobile-only leftbar-toggle mobile' onclick='sidebar.leftbar()'>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 11c0-3.771 0-5.657 1.172-6.828C4.343 3 6.229 3 10 3h4c3.771 0 5.657 0 6.828 1.172C22 5.343 22 7.229 22 11v2c0 3.771 0 5.657-1.172 6.828C19.657 21 17.771 21 14 21h-4c-3.771 0-5.657 0-6.828-1.172C2 18.657 2 16.771 2 13z"/><path id="sep" stroke-linecap="round" d="M5.5 10h6m-5 4h4m4.5 7V3"/></g></svg>
  </button>
</div>
</div><div class="scripts">
<script type="text/javascript">
  const ctx = {
    date_suffix: {
      just: `刚刚`,
      min: `分钟前`,
      hour: `小时前`,
      day: `天前`,
    },
    root : `/`,
    tag_plugins: {
      chat: Object.assign({"api":"https://siteinfo.listentothewind.cn/api/v1"}),
    }
  };

  // required plugins (only load if needs)
  if (`local_search`) {
    ctx.search = {};
    ctx.search.service = `local_search`;
    if (ctx.search.service == 'local_search') {
      let service_obj = Object.assign({}, `{"field":"all","path":"/search.json","content":true,"skip_search":null,"sort":"-date"}`);
      ctx.search[ctx.search.service] = service_obj;
    }
  }
  const def = {
    avatar: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/avatar/round/3442075.svg`,
    cover: `https://gcore.jsdelivr.net/gh/cdn-x/placeholder@1.0.12/cover/76b86c0226ffd.svg`,
  };
  const deps = {
    jquery: `https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js`,
    marked: `https://cdn.jsdelivr.net/npm/marked@13.0.1/lib/marked.umd.min.js`
  }
  

</script>

<script type="text/javascript">
  function RunItem() {
    this.list = []; // 存放回调函数
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = () => {
          utils.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) => {
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index, 1);
        }
      }
    }
    // 构造一个可以run的对象
    function Item(fn, name) {
      // 函数名称
      this.name = name || fn.name;
      // run方法
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }

  const utils = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    css: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    js: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      if (src.startsWith('/')) {
        src = ctx.root + src.substring(1);
      }
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function () {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    jq: (fn) => {
      if (typeof jQuery === 'undefined') {
        utils.js(deps.jquery).then(fn)
      } else {
        fn()
      }
    },

    onLoading: (el) => {
      if (el) {
        $(el).append('<div class="loading-wrap"><svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg></div>');
      }
    },
    onLoadSuccess: (el) => {
      if (el) {
        $(el).find('.loading-wrap').remove();
      }
    },
    onLoadFailure: (el) => {
      if (el) {
        $(el).find('.loading-wrap svg').remove();
        $(el).find('.loading-wrap').append('<svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" d="M12 3L21 20H3L12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="60;0"/></path><path stroke-dasharray="6" stroke-dashoffset="6" d="M12 10V14"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="6;0"/></path></g><circle cx="12" cy="17" r="1" fill="currentColor" fill-opacity="0"><animate fill="freeze" attributeName="fill-opacity" begin="0.8s" dur="0.4s" values="0;1"/></circle></svg>');
        $(el).find('.loading-wrap').addClass('error');
      }
    },
    request: (el, url, callback, onFailure) => {
      let retryTimes = 3;
      utils.onLoading(el);
      function req() {
        return new Promise((resolve, reject) => {
          let status = 0; // 0 等待 1 完成 2 超时
          let timer = setTimeout(() => {
            if (status === 0) {
              status = 2;
              timer = null;
              reject('请求超时');
              if (retryTimes == 0) {
                onFailure();
              }
            }
          }, 5000);
          fetch(url).then(function (response) {
            if (status !== 2) {
              clearTimeout(timer);
              resolve(response);
              timer = null;
              status = 1;
            }
            if (response.ok) {
              return response.json();
            }
            throw new Error('Network response was not ok.');
          }).then(function (data) {
            retryTimes = 0;
            utils.onLoadSuccess(el);
            callback(data);
          }).catch(function (error) {
            if (retryTimes > 0) {
              retryTimes -= 1;
              setTimeout(() => {
                req();
              }, 5000);
            } else {
              utils.onLoadFailure(el);
              onFailure();
            }
          });
        });
      }
      req();
    },
    /********************** requestAnimationFrame ********************************/
    // 1、requestAnimationFrame 会把每一帧中的所有 DOM 操作集中起来，在一次重绘或回流中就完成，并且重绘或回流的时间间隔紧紧跟随浏览器的刷新频率，一般来说，这个频率为每秒60帧。
    // 2、在隐藏或不可见的元素中，requestAnimationFrame 将不会进行重绘或回流，这当然就意味着更少的的 cpu，gpu 和内存使用量。
    requestAnimationFrame: (fn) => {
      if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
      }
      window.requestAnimationFrame(fn)
    },
    dark: {},
  };

  // utils.dark.mode 当前模式 dark or light
  // utils.dark.toggle() 暗黑模式触发器
  // utils.dark.push(callBack[,"callBackName"]) 传入触发器回调函数
  utils.dark.method = {
    toggle: new RunItem(),
  };
  utils.dark = Object.assign(utils.dark, {
    push: utils.dark.method.toggle.push,
  });
</script>
<script>
  const sidebar = {
    leftbar: () => {
      if (l_body) {
        l_body.toggleAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    rightbar: () => {
      if (l_body) {
        l_body.toggleAttribute('rightbar');
        l_body.removeAttribute('leftbar');
      }
    },
    dismiss: () => {
      if (l_body) {
        l_body.removeAttribute('leftbar');
        l_body.removeAttribute('rightbar');
      }
    },
    toggleTOC: () => {
      document.querySelector('#data-toc').classList.toggle('collapse');
    }
  }
</script>
<script type="text/javascript">
  (() => {
    const tagSwitchers = document.querySelectorAll('.tag-subtree.parent-tag > a > .tag-switcher-wrapper')
    for (const tagSwitcher of tagSwitchers) {
      tagSwitcher.addEventListener('click', (e) => {
        const parent = e.target.closest('.tag-subtree.parent-tag')
        parent.classList.toggle('expanded')
        e.preventDefault()
      })
    }

    // Get active tag from query string, then activate it.
    const urlParams = new URLSearchParams(window.location.search)
    const activeTag = urlParams.get('tag')
    if (activeTag) {
      let tag = document.querySelector(`.tag-subtree[data-tag="${activeTag}"]`)
      if (tag) {
        tag.querySelector('a').classList.add('active')
        
        while (tag) {
          tag.classList.add('expanded')
          tag = tag.parentElement.closest('.tag-subtree.parent-tag')
        }
      }
    }
  })()
</script>


<!-- required -->
<script src="/js/main.js?v=1.29.1" defer></script>

<script type="text/javascript">
  const applyTheme = (theme) => {
    if (theme === 'auto') {
      document.documentElement.removeAttribute('data-theme')
    } else {
      document.documentElement.setAttribute('data-theme', theme)
    }

    applyThemeToGiscus(theme)
  }

  const applyThemeToGiscus = (theme) => {
    theme = theme === 'auto' ? 'preferred_color_scheme' : theme

    const cmt = document.getElementById('giscus')
    if (cmt) {
      // This works before giscus load.
      cmt.setAttribute('data-theme', theme)
    }

    const iframe = document.querySelector('#comments > section.giscus > iframe')
    if (iframe) {
      // This works after giscus loaded.
      const src = iframe.src
      const newSrc = src.replace(/theme=[\w]+/, `theme=${theme}`)
      iframe.src = newSrc
    }
  }

  const switchTheme = () => {
    // light -> dark -> auto -> light -> ...
    const currentTheme = document.documentElement.getAttribute('data-theme')
    let newTheme;
    switch (currentTheme) {
      case 'light':
        newTheme = 'dark'
        break
      case 'dark':
        newTheme = 'auto'
        break
      default:
        newTheme = 'light'
    }
    applyTheme(newTheme)
    window.localStorage.setItem('Stellar.theme', newTheme)
    utils.dark.mode = newTheme === 'auto' ? (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light") : newTheme;
    utils.dark.method.toggle.start();

    const messages = {
      light: `切换到浅色模式`,
      dark: `切换到深色模式`,
      auto: `切换到跟随系统配色`,
    }
    hud?.toast?.(messages[newTheme])
  }

  (() => {
    // Apply user's preferred theme, if any.
    const theme = window.localStorage.getItem('Stellar.theme')
    if (theme !== null) {
      applyTheme(theme)
    } else {
      utils.dark.mode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    }
    utils.dark.method.toggle.start();
  })()
</script>


<!-- optional -->

  <script type="module">
  const el = document.getElementById('twikoo_container');
  util.viewportLazyload(el, load_twikoo, false);

  function load_twikoo() {
    if (!el) return;
    utils.js('https://gcore.jsdelivr.net/npm/twikoo@1.6.8/dist/twikoo.all.min.js', {defer: true}).then(function () {
      const path = el.getAttribute('comment_id') ?? decodeURI(window.location.pathname);
      twikoo.init(Object.assign({"js":"https://gcore.jsdelivr.net/npm/twikoo@1.6.8/dist/twikoo.all.min.js","envId":"https://twikoovercel-theta.vercel.app"}, {
        el: '#twikoo_container',
        path: path,
      }));
    });
  }
</script>



<script defer>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.services = Object.assign({}, JSON.parse(`{"mdrender":{"js":"/js/services/mdrender.js"},"siteinfo":{"js":"/js/services/siteinfo.js","api":null},"ghinfo":{"js":"/js/services/ghinfo.js"},"sites":{"js":"/js/services/sites.js"},"friends":{"js":"/js/services/friends.js"},"timeline":{"js":"/js/services/timeline.js"},"fcircle":{"js":"/js/services/fcircle.js"},"weibo":{"js":"/js/services/weibo.js"},"memos":{"js":"/js/services/memos.js"},"voice":{"js":"/js/plugins/voice.js"},"video":{"js":"/js/plugins/video.js"},"download-file":{"js":"/js/plugins/download-file.js"},"twikoo":{"js":"/js/services/twikoo_latest_comment.js"},"waline":{"js":"/js/services/waline_latest_comment.js"},"artalk":{"js":"/js/services/artalk_latest_comment.js"},"giscus":{"js":"/js/services/giscus_latest_comment.js"}}`));
    for (let id of Object.keys(ctx.services)) {
      const js = ctx.services[id].js;
      if (id == 'siteinfo') {
        ctx.cardlinks = document.querySelectorAll('a.link-card[cardlink]');
        if (ctx.cardlinks?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            setCardLink(ctx.cardlinks);
          });
        }
      } else if (id == 'voice') {
        ctx.voiceAudios = document.querySelectorAll('.voice>audio');
        if (ctx.voiceAudios?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            createVoiceDom(ctx.voiceAudios);
          });
        }
      } else if (id == 'video') {
        ctx.videos = document.querySelectorAll('.video>video');
        if (ctx.videos?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            videoEvents(ctx.videos);
          });
        }
      } else if (id == 'download-file') {
        ctx.files = document.querySelectorAll('.file');
        if (ctx.files?.length > 0) {
          utils.js(js, { defer: true }).then(function () {
            downloadFileEvent(ctx.files);
          });
        }
      } else {
        const els = document.getElementsByClassName(`ds-${id}`);
        if (els?.length > 0) {
          utils.jq(() => {
            if (id == 'timeline' || 'memos' || 'marked') {
              utils.js(deps.marked).then(function () {
                utils.js(js, { defer: true });
              });
            } else {
              utils.js(js, { defer: true });
            }
          });
        }
      }
    }

    // chat iphone time
    let phoneTimes = document.querySelectorAll('.chat .status-bar .time');

    if (phoneTimes.length > 0) {
      NowTime();
      var date = new Date();
      var sec = date.getSeconds();
      var firstAdjustInterval = setInterval(firstAdjustTime, 1000 * (60 - sec));
    }

    function firstAdjustTime() {
      NowTime();
      clearInterval(firstAdjustInterval);
      setInterval(NowTime, 1000 * 60);
    }

    function NowTime() {
      for (let i = 0; i < phoneTimes.length; ++i) {
        var timeSpan = phoneTimes[i];
        var date = new Date();
        var hour = date.getHours();
        var min = date.getMinutes();
        timeSpan.innerHTML = check(hour) + ":" + check(min);
      }
    };

    function check(val) {
      if (val < 10) {
        return ("0" + val);
      }
      return (val);
    }

    // chat quote
    const chat_quote_obverser = new IntersectionObserver((entries, observer) => {
      entries.filter((entry) => { return entry.isIntersecting }).sort((a, b) => a.intersectionRect.y !== b.intersectionRect.y ? a.intersectionRect.y - b.intersectionRect.y : a.intersectionRect.x - b.intersectionRect.x).forEach((entry, index) => {
          observer.unobserve(entry.target);
          setTimeout(() => {
            entry.target.classList.add('quote-blink');
            setTimeout(() => {
              entry.target.classList.remove('quote-blink');
            }, 1000);
          }, Math.max(100, 16) * (index + 1));
        });
    });

    var chatQuotes = document.querySelectorAll(".chat .talk .quote");
    chatQuotes.forEach((quote) => {
      quote.addEventListener('click', function () {
        var chatCellDom = document.getElementById("quote-" + quote.getAttribute("quotedCellTag"));
        if (chatCellDom) {
          var chatDiv = chatCellDom.parentElement;
          var mid = chatDiv.clientHeight / 2;
          var offsetTop = chatCellDom.offsetTop;
          if (offsetTop > mid - chatCellDom.clientHeight / 2) {
            chatDiv.scrollTo({
              top: chatCellDom.offsetTop - mid + chatCellDom.clientHeight / 2,
              behavior: "smooth"
            });
          } else {
            chatDiv.scrollTo({
              top: 0,
              behavior: "smooth"
            });
          }
          chat_quote_obverser.observe(chatCellDom);
        }
      });
    });
  });
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    ctx.search = {
      path: `/search.json`,
    }
    utils.js('/js/search/local-search.js', { defer: true });
  });
</script><script>
  window.FPConfig = {
    delay: 0,
    ignoreKeywords: [],
    maxRPS: 5,
    hoverDelay: 25
  };
</script>
<script defer src="https://cdn.jsdelivr.net/npm/flying-pages@2/flying-pages.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazy",
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    window.lazyLoadInstance?.update();
  });
</script><script>
  ctx.fancybox = {
    selector: `.timenode p>img`,
    css: `https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css`,
    js: `https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js`
  };
  var selector = '[data-fancybox]:not(.error)';
  if (ctx.fancybox.selector) {
    selector += `, ${ctx.fancybox.selector}`
  }
  var needFancybox = document.querySelectorAll(selector).length !== 0;
  if (!needFancybox) {
    const els = document.getElementsByClassName('ds-memos');
    if (els != undefined && els.length > 0) {
      needFancybox = true;
    }
  }
  if (needFancybox) {
    utils.css(ctx.fancybox.css);
    utils.js(ctx.fancybox.js, { defer: true }).then(function () {
      Fancybox.bind(selector, {
        hideScrollbar: false,
        Thumbs: {
          autoStart: false,
        },
        caption: (fancybox, slide) => {
          return slide.triggerEl.alt || slide.triggerEl.dataset.caption || null
        }
      });
    })
  }
</script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    const swiper_api = document.getElementById('swiper-api');
    if (swiper_api != undefined) {
      utils.css(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.css`);
      utils.js(`https://unpkg.com/swiper@10.3.1/swiper-bundle.min.js`, { defer: true }).then(function () {
        const effect = swiper_api.getAttribute('effect') || '';
        var swiper = new Swiper('.swiper#swiper-api', {
          slidesPerView: 'auto',
          spaceBetween: 8,
          centeredSlides: true,
          effect: effect,
          rewind: true,
          pagination: {
            el: '.swiper-pagination',
            clickable: true,
          },
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
          },
        });
      })
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    window.codeElements = document.querySelectorAll('.code');
    if (window.codeElements.length > 0) {
      ctx.copycode = {
        default_text: `Copy`,
        success_text: `Copied`,
        toast: `复制成功`,
      };
      utils.js('/js/plugins/copycode.js');
    }
  });
</script>


<!-- inject -->
<script async src="/js/title.js"></script>
</div></body></html>
